"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[3922],{1541:(w,m,l)=>{l.r(m),l.d(m,{UsuariosComponent:()=>R});var u=l(177),c=l(4341),n=l(8516),p=l(8961),e=l(4438),g=l(6283);function F(o,a){if(1&o){const t=e.RV6();e.j41(0,"tr",29),e.bIt("dblclick",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.editUser(i))}),e.j41(1,"td",30)(2,"div",31)(3,"div",32),e.nrm(4,"lucide-icon",33),e.k0s(),e.j41(5,"div")(6,"p",34),e.EFF(7),e.k0s(),e.j41(8,"p",35),e.EFF(9),e.k0s()()()(),e.j41(10,"td",30)(11,"div",36)(12,"p",37),e.EFF(13),e.k0s(),e.j41(14,"p",38),e.EFF(15),e.k0s()()(),e.j41(16,"td",30)(17,"span",39),e.EFF(18),e.k0s()(),e.j41(19,"td",40),e.EFF(20),e.k0s(),e.j41(21,"td",30)(22,"div",36)(23,"p",37),e.EFF(24),e.k0s(),e.j41(25,"p",38),e.EFF(26),e.k0s()()(),e.j41(27,"td",30),e.nrm(28,"lucide-icon",41),e.k0s(),e.j41(29,"td",30)(30,"span"),e.EFF(31),e.k0s()(),e.j41(32,"td",42)(33,"button",43),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.editUser(i))}),e.nrm(34,"lucide-icon",44),e.k0s()()()}if(2&o){const t=a.$implicit,s=e.XpG();e.R7$(4),e.Y8G("img",s.userIcon),e.R7$(3),e.JRh(t.fullName),e.R7$(2),e.JRh("@"+t.username),e.R7$(4),e.JRh(t.email),e.R7$(2),e.JRh(t.phone),e.R7$(3),e.SpI(" ",t.role," "),e.R7$(2),e.SpI(" ",t.department," "),e.R7$(4),e.JRh(s.getDatePart(t.lastLogin)),e.R7$(2),e.JRh(s.getTimePart(t.lastLogin)),e.R7$(2),e.HbH(t.twoFactorEnabled?"w-5 h-5 text-green-600":"w-5 h-5 text-gray-400"),e.Y8G("img",t.twoFactorEnabled?s.checkCircle2Icon:s.xCircleIcon),e.R7$(2),e.HbH(s.getStatusBadgeClass(t.status)),e.R7$(),e.SpI(" ",s.getStatusText(t.status)," "),e.R7$(3),e.Y8G("img",s.editIcon)}}function b(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",45)(1,"div",46)(2,"div",47)(3,"div",48),e.nrm(4,"lucide-icon",49),e.j41(5,"p",50),e.EFF(6),e.k0s()(),e.j41(7,"button",51),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.hideAlert())}),e.nrm(8,"lucide-icon",44),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(4),e.Y8G("img",t.alertTriangleIcon),e.R7$(2),e.JRh(t.alertMessage),e.R7$(2),e.Y8G("img",t.xCircleIcon)}}function f(o,a){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",70)(2,"div",71),e.nrm(3,"lucide-icon",72),e.j41(4,"span",34),e.EFF(5,"Los campos de identificaci\xf3n personal (nombre, c\xe9dula) no son editables por seguridad. Para cambios, contacte al administrador del sistema."),e.k0s()()(),e.j41(6,"div",73)(7,"div")(8,"label",74),e.EFF(9,"Nombre completo *"),e.k0s(),e.j41(10,"input",75),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2);return e.DH7(r.editForm.fullName,i)||(r.editForm.fullName=i),e.Njj(i)}),e.k0s()(),e.j41(11,"div")(12,"label",74),e.EFF(13,"Nombre de usuario"),e.k0s(),e.nrm(14,"input",76),e.j41(15,"p",77),e.EFF(16,"Los campos de identificaci\xf3n personal no son editables por seguridad"),e.k0s()(),e.j41(17,"div")(18,"label",74),e.EFF(19,"Email *"),e.k0s(),e.j41(20,"input",78),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2);return e.DH7(r.editForm.email,i)||(r.editForm.email=i),e.Njj(i)}),e.k0s()(),e.j41(21,"div")(22,"label",74),e.EFF(23,"Tel\xe9fono *"),e.k0s(),e.j41(24,"input",79),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2);return e.DH7(r.editForm.phone,i)||(r.editForm.phone=i),e.Njj(i)}),e.k0s()(),e.j41(25,"div")(26,"label",74),e.EFF(27,"Departamento"),e.k0s(),e.j41(28,"select",80),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2);return e.DH7(r.editForm.department,i)||(r.editForm.department=i),e.Njj(i)}),e.j41(29,"option",81),e.EFF(30,"Consulta Externa"),e.k0s(),e.j41(31,"option",82),e.EFF(32,"Farmacia Central"),e.k0s(),e.j41(33,"option",83),e.EFF(34,"Sistemas"),e.k0s(),e.j41(35,"option",84),e.EFF(36,"Cardiolog\xeda"),e.k0s(),e.j41(37,"option",85),e.EFF(38,"Direcci\xf3n M\xe9dica"),e.k0s(),e.j41(39,"option",86),e.EFF(40,"Administraci\xf3n"),e.k0s()()(),e.j41(41,"div")(42,"label",74),e.EFF(43,"Especialidad"),e.k0s(),e.j41(44,"select",80),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2);return e.DH7(r.editForm.role,i)||(r.editForm.role=i),e.Njj(i)}),e.j41(45,"option",11),e.EFF(46,"Medicina General"),e.k0s(),e.j41(47,"option",12),e.EFF(48,"Farmacia Cl\xednica"),e.k0s(),e.j41(49,"option",10),e.EFF(50,"TI"),e.k0s(),e.j41(51,"option",13),e.EFF(52,"Medicina Familiar"),e.k0s(),e.j41(53,"option",14),e.EFF(54,"Admisiones"),e.k0s()()()(),e.j41(55,"div",87)(56,"div")(57,"label",74),e.EFF(58,"C\xf3digo profesional"),e.k0s(),e.nrm(59,"input",88),e.k0s(),e.j41(60,"div")(61,"label",74),e.EFF(62,"Fecha de creaci\xf3n"),e.k0s(),e.nrm(63,"input",89),e.k0s()(),e.j41(64,"div",90)(65,"h4",91),e.EFF(66,"Estad\xedsticas de Acceso"),e.k0s(),e.j41(67,"div",92)(68,"div")(69,"p",19),e.EFF(70,"567"),e.k0s(),e.j41(71,"p",93),e.EFF(72,"Total de accesos"),e.k0s()(),e.j41(73,"div")(74,"p",19),e.EFF(75,"0"),e.k0s(),e.j41(76,"p",93),e.EFF(77,"Intentos fallidos"),e.k0s()(),e.j41(78,"div")(79,"p",19),e.EFF(80,"2025-10-08 09:30"),e.k0s(),e.j41(81,"p",93),e.EFF(82,"\xdaltimo acceso"),e.k0s()()()()()}if(2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("img",t.alertTriangleIcon),e.R7$(7),e.R50("ngModel",t.editForm.fullName),e.R7$(4),e.Y8G("value",null==t.selectedUser?null:t.selectedUser.username),e.R7$(6),e.Mz_("placeholder","juan.perez","@","hospital.com"),e.R50("ngModel",t.editForm.email),e.R7$(4),e.R50("ngModel",t.editForm.phone),e.R7$(4),e.R50("ngModel",t.editForm.department),e.R7$(16),e.R50("ngModel",t.editForm.role)}}function h(o,a){if(1&o&&(e.j41(0,"span",115),e.nrm(1,"lucide-icon",116),e.EFF(2," Rol primario "),e.k0s()),2&o){const t=e.XpG(4);e.R7$(),e.Y8G("img",t.starIcon)}}function _(o,a){if(1&o&&(e.j41(0,"div",111)(1,"div",31),e.nrm(2,"input",112),e.j41(3,"div")(4,"div",113)(5,"span",34),e.EFF(6),e.k0s(),e.DNE(7,h,3,1,"span",114),e.k0s(),e.j41(8,"p",35),e.EFF(9),e.k0s()()()()),2&o){const t=a.$implicit;e.HbH(t.assigned?"bg-blue-50 border-blue-200":"bg-white border-gray-200"),e.R7$(2),e.Y8G("checked",t.assigned),e.R7$(4),e.JRh(t.name),e.R7$(),e.Y8G("ngIf",t.isPrimary),e.R7$(2),e.JRh(t.description)}}function v(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",117)(1,"div",98)(2,"h5",118),e.EFF(3,"Nuevo estado"),e.k0s(),e.j41(4,"div",113),e.nrm(5,"lucide-icon",119),e.j41(6,"select",120),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG(3);return e.DH7(r.newUserStatus,i)||(r.newUserStatus=i),e.Njj(i)}),e.j41(7,"option",15),e.EFF(8,"Activo"),e.k0s(),e.j41(9,"option",17),e.EFF(10,"Inactivo"),e.k0s(),e.j41(11,"option",16),e.EFF(12,"Bloqueado"),e.k0s()()()(),e.j41(13,"div",98)(14,"label",121),e.EFF(15," Justificaci\xf3n (obligatorio) * "),e.k0s(),e.j41(16,"textarea",122),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG(3);return e.DH7(r.statusChangeJustification,i)||(r.statusChangeJustification=i),e.Njj(i)}),e.EFF(17,"                  "),e.k0s()(),e.j41(18,"div",123)(19,"button",67),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.cancelStatusChange())}),e.EFF(20," Cancelar "),e.k0s(),e.j41(21,"button",124),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.confirmStatusChange())}),e.EFF(22," Confirmar cambio "),e.k0s()()()}if(2&o){const t=e.XpG(3);e.R7$(5),e.Y8G("img",t.checkCircle2Icon),e.R7$(),e.R50("ngModel",t.newUserStatus),e.R7$(10),e.R50("ngModel",t.statusChangeJustification)}}function k(o,a){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",70)(2,"div",71),e.nrm(3,"lucide-icon",72),e.j41(4,"h4",94),e.EFF(5,"Sistema Multi-Rol:"),e.k0s()(),e.j41(6,"p",35),e.EFF(7,"Puede asignar m\xfaltiples roles al usuario. El rol primario ser\xe1 el predeterminado al iniciar sesi\xf3n."),e.k0s()(),e.j41(8,"div",95)(9,"h4",96),e.EFF(10,"Rol Primario"),e.k0s(),e.j41(11,"p",97),e.EFF(12,"Rol predeterminado al iniciar sesi\xf3n"),e.k0s(),e.j41(13,"div",98)(14,"label",74),e.EFF(15,"Rol primario *"),e.k0s(),e.j41(16,"div",99),e.nrm(17,"lucide-icon",72),e.j41(18,"span",34),e.EFF(19,"M\xe9dico"),e.k0s()(),e.j41(20,"p",77),e.EFF(21,"Solo se muestran roles asignados al usuario. Asigne roles primero en la secci\xf3n inferior."),e.k0s()()(),e.j41(22,"div")(23,"h4",96),e.EFF(24,"Roles Asignados"),e.k0s(),e.j41(25,"p",97),e.EFF(26,"Todos los roles que el usuario puede utilizar (incluye el rol primario)"),e.k0s(),e.j41(27,"div",98)(28,"div",100),e.nrm(29,"lucide-icon",72),e.j41(30,"span",101),e.EFF(31,"Roles Base (5)"),e.k0s()(),e.j41(32,"div",102),e.DNE(33,_,10,6,"div",103),e.k0s()(),e.j41(34,"div",104)(35,"div",71),e.nrm(36,"lucide-icon",105),e.j41(37,"span",34),e.EFF(38,"No hay roles personalizados disponibles."),e.k0s()(),e.j41(39,"p",35),e.EFF(40,"Puede crear roles personalizados desde la p\xe1gina de Roles y Permisos."),e.k0s()(),e.j41(41,"div",106)(42,"div",71),e.nrm(43,"lucide-icon",72),e.j41(44,"span",34),e.EFF(45,"Multi-Rol:"),e.k0s()(),e.j41(46,"p",35),e.EFF(47,"El usuario podr\xe1 cambiar entre sus roles asignados durante la sesi\xf3n sin necesidad de volver a autenticarse."),e.k0s()()(),e.j41(48,"div",107)(49,"h4",96),e.EFF(50,"Estado del Usuario"),e.k0s(),e.j41(51,"p",97),e.EFF(52,"Gesti\xf3n del estado de la cuenta"),e.k0s(),e.j41(53,"div",108)(54,"span",34),e.EFF(55,"Estado actual"),e.k0s(),e.j41(56,"p",35),e.EFF(57,"Usuario activo y operativo"),e.k0s()(),e.j41(58,"button",109),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.toggleChangeStatusSection())}),e.j41(59,"span",34),e.EFF(60,"Cambiar estado de usuario"),e.k0s()(),e.DNE(61,v,23,3,"div",110),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("img",t.shieldIcon),e.R7$(14),e.Y8G("img",t.userIcon),e.R7$(12),e.Y8G("img",t.shieldIcon),e.R7$(4),e.Y8G("ngForOf",t.availableRoles),e.R7$(3),e.Y8G("img",t.alertTriangleIcon),e.R7$(7),e.Y8G("img",t.shieldIcon),e.R7$(18),e.Y8G("ngIf",t.showChangeStatusSection)}}function x(o,a){if(1&o&&(e.j41(0,"div")(1,"div",70)(2,"div",71),e.nrm(3,"lucide-icon",72),e.j41(4,"span",34),e.EFF(5,"Permisos granulares por m\xf3dulo."),e.k0s()(),e.j41(6,"p",35),e.EFF(7,"Los permisos marcados se aplicar\xe1n al guardar. Cambios requieren justificaci\xf3n en auditor\xeda."),e.k0s()(),e.j41(8,"div",95)(9,"h4",125),e.EFF(10,"Prescripciones"),e.k0s(),e.j41(11,"div",102)(12,"div",126)(13,"div")(14,"span",34),e.EFF(15,"Crear recetas"),e.k0s(),e.j41(16,"p",35),e.EFF(17,"Puede prescribir medicamentos"),e.k0s()(),e.nrm(18,"input",127),e.k0s(),e.j41(19,"div",126)(20,"div")(21,"span",34),e.EFF(22,"Firmar recetas"),e.k0s(),e.j41(23,"p",35),e.EFF(24,"Firma digital de prescripciones"),e.k0s()(),e.nrm(25,"input",127),e.k0s(),e.j41(26,"div",126)(27,"div")(28,"span",34),e.EFF(29,"Aprobar recetas especiales"),e.k0s(),e.j41(30,"p",35),e.EFF(31,"Medicamentos controlados"),e.k0s()(),e.nrm(32,"input",128),e.k0s(),e.j41(33,"div",126)(34,"div")(35,"span",34),e.EFF(36,"Ver todas las recetas"),e.k0s(),e.j41(37,"p",35),e.EFF(38,"Incluye recetas de otros m\xe9dicos"),e.k0s()(),e.nrm(39,"input",128),e.k0s()()(),e.j41(40,"div",95)(41,"h4",125),e.EFF(42,"Pacientes"),e.k0s(),e.j41(43,"div",102)(44,"div",126)(45,"div")(46,"span",34),e.EFF(47,"Crear pacientes"),e.k0s(),e.j41(48,"p",35),e.EFF(49,"Registrar nuevos pacientes"),e.k0s()(),e.nrm(50,"input",127),e.k0s(),e.j41(51,"div",126)(52,"div")(53,"span",34),e.EFF(54,"Ver datos sensibles"),e.k0s(),e.j41(55,"p",35),e.EFF(56,"PHI/Informaci\xf3n m\xe9dica protegida"),e.k0s()(),e.nrm(57,"input",127),e.k0s(),e.j41(58,"div",126)(59,"div")(60,"span",34),e.EFF(61,"Exportar datos"),e.k0s(),e.j41(62,"p",35),e.EFF(63,"PDF/CSV/Excel"),e.k0s()(),e.nrm(64,"input",128),e.k0s()()(),e.j41(65,"div",95)(66,"h4",125),e.EFF(67,"Usuarios y Seguridad"),e.k0s(),e.j41(68,"div",102)(69,"div",126)(70,"div")(71,"span",34),e.EFF(72,"Gestionar usuarios"),e.k0s(),e.j41(73,"p",35),e.EFF(74,"Crear/editar/eliminar usuarios"),e.k0s()(),e.nrm(75,"input",128),e.k0s(),e.j41(76,"div",126)(77,"div")(78,"span",34),e.EFF(79,"Gestionar roles"),e.k0s(),e.j41(80,"p",35),e.EFF(81,"Asignar y configurar roles"),e.k0s()(),e.nrm(82,"input",128),e.k0s(),e.j41(83,"div",126)(84,"div")(85,"span",34),e.EFF(86,"Aprobar solicitudes"),e.k0s(),e.j41(87,"p",35),e.EFF(88,"Registro de nuevos usuarios"),e.k0s()(),e.nrm(89,"input",128),e.k0s()()(),e.j41(90,"div",95)(91,"h4",125),e.EFF(92,"Inventario"),e.k0s(),e.j41(93,"div",102)(94,"div",126)(95,"div")(96,"span",34),e.EFF(97,"Gestionar stock"),e.k0s(),e.j41(98,"p",35),e.EFF(99,"Crear/editar medicamentos"),e.k0s()(),e.nrm(100,"input",128),e.k0s(),e.j41(101,"div",126)(102,"div")(103,"span",34),e.EFF(104,"Ajustar inventario"),e.k0s(),e.j41(105,"p",35),e.EFF(106,"Modificar cantidades de stock"),e.k0s()(),e.nrm(107,"input",128),e.k0s()()()()),2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("img",t.shieldIcon)}}function j(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",1)(1,"div",129)(2,"h4",96),e.EFF(3,"Autenticaci\xf3n Multi-Factor (2FA)"),e.k0s(),e.j41(4,"p",97),e.EFF(5,"Configuraci\xf3n de seguridad adicional"),e.k0s(),e.j41(6,"div",126)(7,"div")(8,"span",34),e.EFF(9,"2FA Habilitado"),e.k0s(),e.j41(10,"p",35),e.EFF(11,"Usuario protegido con doble factor"),e.k0s()(),e.j41(12,"div",113),e.nrm(13,"lucide-icon",119),e.j41(14,"label",130)(15,"input",131),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2);return e.DH7(r.editForm.twoFactorEnabled,i)||(r.editForm.twoFactorEnabled=i),e.Njj(i)}),e.k0s(),e.nrm(16,"div",132),e.k0s()()()(),e.j41(17,"div",129)(18,"h4",96),e.EFF(19,"Firma Digital"),e.k0s(),e.j41(20,"p",97),e.EFF(21,"Vinculaci\xf3n con BCCR/GAUDI"),e.k0s(),e.j41(22,"div",98)(23,"div",71)(24,"span",34),e.EFF(25,"Estado de vinculaci\xf3n"),e.k0s(),e.j41(26,"span",133),e.nrm(27,"lucide-icon",116),e.EFF(28," Vinculada "),e.k0s()(),e.j41(29,"p",35),e.EFF(30,"Firma digital vinculada y activa"),e.k0s()(),e.j41(31,"div",134)(32,"div")(33,"span",135),e.EFF(34,"Certificado:"),e.k0s(),e.j41(35,"p",136),e.EFF(36,"MED-123456"),e.k0s()(),e.j41(37,"div")(38,"span",135),e.EFF(39,"Vigencia:"),e.k0s(),e.j41(40,"p",137),e.EFF(41,"V\xe1lido hasta 2026-12-31"),e.k0s()()()(),e.j41(42,"div",129)(43,"h4",125),e.EFF(44,"Acciones de Seguridad"),e.k0s(),e.j41(45,"div",102)(46,"button",138),e.nrm(47,"lucide-icon",105),e.j41(48,"span",34),e.EFF(49,"Forzar cambio de contrase\xf1a en pr\xf3ximo acceso"),e.k0s()(),e.j41(50,"button",138),e.nrm(51,"lucide-icon",105),e.j41(52,"span",34),e.EFF(53,"Resetear configuraci\xf3n 2FA"),e.k0s()(),e.j41(54,"button",139),e.nrm(55,"lucide-icon",33),e.j41(56,"span",140),e.EFF(57,"Cerrar todas las sesiones activas"),e.k0s()()()()()}if(2&o){const t=e.XpG(2);e.R7$(13),e.Y8G("img",t.checkCircle2Icon),e.R7$(2),e.R50("ngModel",t.editForm.twoFactorEnabled),e.R7$(12),e.Y8G("img",t.checkCircle2Icon),e.R7$(20),e.Y8G("img",t.keyIcon),e.R7$(4),e.Y8G("img",t.lockIcon),e.R7$(4),e.Y8G("img",t.xCircleIcon)}}function E(o,a){if(1&o&&(e.j41(0,"div",144)(1,"div",145),e.nrm(2,"lucide-icon",146),e.k0s(),e.j41(3,"div",147)(4,"div",126)(5,"span",34),e.EFF(6),e.k0s(),e.j41(7,"span",148),e.EFF(8),e.k0s()(),e.j41(9,"p",35),e.EFF(10),e.k0s(),e.j41(11,"p",77),e.EFF(12),e.k0s()()()),2&o){const t=a.$implicit,s=e.XpG(3);e.R7$(2),e.Y8G("img",s.clockIcon),e.R7$(4),e.JRh(t.action),e.R7$(2),e.JRh(t.user),e.R7$(2),e.JRh(t.description),e.R7$(2),e.JRh(t.date)}}function y(o,a){if(1&o&&(e.j41(0,"div")(1,"div",70)(2,"div",71),e.nrm(3,"lucide-icon",72),e.j41(4,"span",34),e.EFF(5,"Registro completo de cambios en este usuario (\xfaltimos 30 d\xedas)"),e.k0s()()(),e.j41(6,"div",141)(7,"h4",125),e.EFF(8,"Historial de Cambios"),e.k0s(),e.j41(9,"div",142),e.DNE(10,E,13,5,"div",143),e.k0s()(),e.j41(11,"div")(12,"h4",125),e.EFF(13,"Actividad de Sesi\xf3n"),e.k0s(),e.j41(14,"div",134)(15,"div",126)(16,"span",35),e.EFF(17,"Sesiones activas:"),e.k0s(),e.j41(18,"span",19),e.EFF(19,"2"),e.k0s()(),e.j41(20,"div",126)(21,"span",35),e.EFF(22,"\xdaltimo acceso exitoso:"),e.k0s(),e.j41(23,"span",19),e.EFF(24,"2025-10-08 09:30"),e.k0s()(),e.j41(25,"div",126)(26,"span",35),e.EFF(27,"Intentos fallidos (\xfaltimos 30 d\xedas):"),e.k0s(),e.j41(28,"span",19),e.EFF(29,"0"),e.k0s()(),e.j41(30,"div",126)(31,"span",35),e.EFF(32,"Total de accesos:"),e.k0s(),e.j41(33,"span",19),e.EFF(34,"567"),e.k0s()()()()()),2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("img",t.activityIcon),e.R7$(7),e.Y8G("ngForOf",t.auditHistory)}}function C(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",52),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.j41(1,"div",53),e.bIt("click",function(i){return e.eBV(t),e.Njj(i.stopPropagation())}),e.j41(2,"div",54)(3,"div",31)(4,"div",55),e.nrm(5,"lucide-icon",56),e.k0s(),e.j41(6,"div")(7,"h3",19),e.EFF(8,"Editar Usuario"),e.k0s(),e.j41(9,"p",35),e.EFF(10),e.k0s()()(),e.j41(11,"button",57),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.nrm(12,"lucide-icon",58),e.k0s()(),e.j41(13,"div",59)(14,"div",60)(15,"nav",61)(16,"button",62),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.setActiveTab("informacion"))}),e.EFF(17," Informaci\xf3n "),e.k0s(),e.j41(18,"button",62),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.setActiveTab("rol"))}),e.EFF(19," Rol "),e.k0s(),e.j41(20,"button",62),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.setActiveTab("permisos"))}),e.EFF(21," Permisos "),e.k0s(),e.j41(22,"button",62),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.setActiveTab("seguridad"))}),e.EFF(23," Seguridad "),e.k0s(),e.j41(24,"button",62),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.setActiveTab("auditoria"))}),e.EFF(25," Auditor\xeda "),e.k0s()()()(),e.j41(26,"div",63),e.DNE(27,f,83,9,"div",64)(28,k,62,7,"div",64)(29,x,108,1,"div",64)(30,j,58,6,"div",65)(31,y,35,2,"div",64),e.k0s(),e.j41(32,"div",66)(33,"button",67),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.EFF(34," Cancelar "),e.k0s(),e.j41(35,"button",68),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.saveUser())}),e.nrm(36,"lucide-icon",69),e.EFF(37," Guardar cambios "),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(5),e.Y8G("img",t.userIcon),e.R7$(5),e.SpI("Gesti\xf3n completa de usuario \u2022 ID: ",null==t.selectedUser?null:t.selectedUser.id,""),e.R7$(2),e.Y8G("img",t.xCircleIcon),e.R7$(4),e.HbH(t.getTabClass("informacion")),e.R7$(2),e.HbH(t.getTabClass("rol")),e.R7$(2),e.HbH(t.getTabClass("permisos")),e.R7$(2),e.HbH(t.getTabClass("seguridad")),e.R7$(2),e.HbH(t.getTabClass("auditoria")),e.R7$(3),e.Y8G("ngIf","informacion"===t.activeModalTab),e.R7$(),e.Y8G("ngIf","rol"===t.activeModalTab),e.R7$(),e.Y8G("ngIf","permisos"===t.activeModalTab),e.R7$(),e.Y8G("ngIf","seguridad"===t.activeModalTab),e.R7$(),e.Y8G("ngIf","auditoria"===t.activeModalTab),e.R7$(5),e.Y8G("img",t.saveIcon)}}let R=(()=>{class o{constructor(t){this.router=t,this.usersIcon=n.zWC,this.shieldIcon=n.ekZ,this.searchIcon=n.vji,this.editIcon=n.ffu,this.eyeIcon=n.kU3,this.checkCircle2Icon=n.Jly,this.xCircleIcon=n.Jpz,this.lockIcon=n.c_I,this.userIcon=n.KJW,this.alertTriangleIcon=n.hcu,this.plusIcon=n.FWt,this.filterIcon=n.dJT,this.downloadIcon=n.f5X,this.moreVerticalIcon=n.GvN,this.saveIcon=n.eMP,this.activityIcon=n.Ilq,this.clockIcon=n.zD7,this.starIcon=n.FEq,this.keyIcon=n.Uzy,this.breadcrumbItems=[{label:"Seguridad y usuarios",route:"/seguridad"},{label:"Usuarios",route:"/seguridad/usuarios"}],this.searchTerm="",this.roleFilter="all",this.statusFilter="all",this.usuarios=[{id:"USR-7890",username:"juan.perez",fullName:"Dr. Juan P\xe9rez",email:"juan.perez@hospital.com",phone:"+506 8888-9999",role:"M\xe9dico",department:"Consulta Externa",lastLogin:"2025-10-08 09:30",status:"active",twoFactorEnabled:!0},{id:"USR-0023",username:"carlos.martinez",fullName:"Dr. Carlos Andr\xe9s Mart\xednez L\xf3pez",email:"carlos.martinez@hospital.com",phone:"+1 555-0123",role:"M\xe9dico",department:"Consulta Externa",lastLogin:"2024-10-01 14:35",status:"active",twoFactorEnabled:!0},{id:"USR-0045",username:"ana.garcia",fullName:"Farmac\xe9utica Ana Mar\xeda Garc\xeda P\xe9rez",email:"ana.garcia@hospital.com",phone:"+1 555-0124",role:"Farmac\xe9utico",department:"Farmacia Central",lastLogin:"2024-10-01 14:28",status:"active",twoFactorEnabled:!0},{id:"USR-0001",username:"admin.sistema",fullName:"Administrador del Sistema",email:"admin@hospital.com",phone:"+1 555-0100",role:"Administrador",department:"Sistemas",lastLogin:"2024-10-01 13:45",status:"active",twoFactorEnabled:!0}],this.showAlert=!1,this.alertMessage="",this.createUserButtonClickHandler=()=>{this.showCreateUserAlert()},this.isEditModalOpen=!1,this.selectedUser=null,this.activeModalTab="informacion",this.showChangeStatusSection=!1,this.newUserStatus="active",this.statusChangeJustification="",this.editForm={fullName:"",email:"",phone:"",role:"",department:"",twoFactorEnabled:!1,status:"active"},this.auditHistory=[{action:"Cambio de departamento",description:"De 'Consulta Externa' a 'Cardiolog\xeda'",date:"2025-10-07 14:30",user:"admin-001"},{action:"Habilitaci\xf3n de 2FA",description:"Autenticaci\xf3n de dos factores activada",date:"2025-10-05 09:15",user:"admin-001"},{action:"Cambio de rol",description:"De 'M\xe9dico' a 'M\xe9dico Jefe'",date:"2025-09-28 11:20",user:"admin-002"},{action:"Actualizaci\xf3n de email",description:"Email modificado",date:"2025-09-15 16:45",user:"USR-0023"}],this.userPermissions={prescripciones:{crear:!0,firmar:!0,aprobar:!1,verTodas:!1},pacientes:{crear:!0,verDatos:!0}},this.availableRoles=[{id:"admin",name:"Administrador",description:"Acceso total al sistema. Gesti\xf3n de usuarios, configuraci\xf3n y auditor\xeda",assigned:!1},{id:"medico",name:"M\xe9dico",description:"Profesional m\xe9dico. Prescripci\xf3n de recetas, acceso a historias cl\xednicas",assigned:!0,isPrimary:!0},{id:"farmaceutico",name:"Farmac\xe9utico",description:"Profesional farmac\xe9utico. Dispensaci\xf3n, verificaci\xf3n de recetas, gesti\xf3n de inventario",assigned:!0},{id:"medico-jefe",name:"M\xe9dico Jefe",description:"M\xe9dico con funciones de supervisi\xf3n. Aprobaci\xf3n de prescripciones especiales",assigned:!0}]}ngOnInit(){}navigateToRegistro(){this.router.navigate(["/seguridad/usuarios/registro"])}showCreateUserAlert(){this.alertMessage="Redirigiendo al formulario de registro de nuevo usuario...",this.showAlert=!0,setTimeout(()=>{this.navigateToRegistro(),this.hideAlert()},2e3)}hideAlert(){this.showAlert=!1,this.alertMessage=""}get stats(){return{total:this.usuarios.length,active:this.usuarios.filter(t=>"active"===t.status).length,blocked:this.usuarios.filter(t=>"blocked"===t.status).length,with2FA:this.usuarios.filter(t=>t.twoFactorEnabled).length}}get filteredUsers(){return this.usuarios.filter(t=>(t.fullName.toLowerCase().includes(this.searchTerm.toLowerCase())||t.username.toLowerCase().includes(this.searchTerm.toLowerCase())||t.email.toLowerCase().includes(this.searchTerm.toLowerCase()))&&("all"===this.roleFilter||t.role===this.roleFilter)&&("all"===this.statusFilter||t.status===this.statusFilter))}getDatePart(t){return t.split(" ")[0]}getTimePart(t){return t.split(" ")[1]}getStatusBadgeClass(t){switch(t){case"active":return"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200";case"blocked":return"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 border border-red-200";default:return"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200"}}getStatusText(t){switch(t){case"active":return"Activo";case"blocked":return"Bloqueado";case"inactive":return"Inactivo";default:return"Desconocido"}}editUser(t){this.selectedUser=t,this.activeModalTab="informacion",this.editForm={fullName:t.fullName,email:t.email,phone:t.phone,role:t.role,department:t.department,twoFactorEnabled:t.twoFactorEnabled,status:t.status},this.isEditModalOpen=!0}setActiveTab(t){this.activeModalTab=t}getTabClass(t){return this.activeModalTab===t?"border-blue-600 text-blue-600 border-b-2 py-2 px-1 text-sm font-medium":"border-transparent text-gray-500 hover:text-gray-700 py-2 px-1 text-sm font-medium cursor-pointer"}closeModal(){this.isEditModalOpen=!1,this.selectedUser=null,this.showChangeStatusSection=!1,this.statusChangeJustification=""}toggleChangeStatusSection(){this.showChangeStatusSection=!this.showChangeStatusSection,this.showChangeStatusSection&&(this.newUserStatus=this.selectedUser?.status||"active",this.statusChangeJustification="")}cancelStatusChange(){this.showChangeStatusSection=!1,this.statusChangeJustification=""}confirmStatusChange(){if(this.statusChangeJustification.trim()){if(this.selectedUser){this.selectedUser.status=this.newUserStatus,this.editForm.status=this.newUserStatus;const t=this.usuarios.findIndex(s=>s.id===this.selectedUser.id);-1!==t&&(this.usuarios[t].status=this.newUserStatus),alert(`Estado del usuario cambiado a: ${this.getStatusText(this.newUserStatus)}`),this.showChangeStatusSection=!1,this.statusChangeJustification=""}}else alert("La justificaci\xf3n es obligatoria para cambiar el estado del usuario")}saveUser(){if(this.selectedUser){const t=this.usuarios.findIndex(s=>s.id===this.selectedUser.id);-1!==t&&(this.usuarios[t]={...this.usuarios[t],...this.editForm}),alert(`Usuario ${this.editForm.fullName} actualizado exitosamente`),this.closeModal()}}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(g.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-usuarios"]],standalone:!0,features:[e.aNF],decls:58,vars:15,consts:[[3,"title","description","icon","breadcrumbItems","hasActionButton","headerGradient","showCreateUserButton","createUserButtonClick"],[1,"space-y-6"],[1,"bg-white","rounded-lg","shadow-lg"],[1,"p-6"],[1,"flex","gap-4","flex-wrap"],[1,"flex-1","min-w-[300px]","relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-4","h-4","text-gray-400",3,"img"],["type","text","placeholder","Buscar por nombre, usuario o email...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["value","all"],["value","Administrador"],["value","M\xe9dico"],["value","Farmac\xe9utico"],["value","M\xe9dico Jefe"],["value","Administrativo"],["value","active"],["value","blocked"],["value","inactive"],[1,"p-6","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 cursor-pointer",3,"dblclick",4,"ngFor","ngForOf"],["class","fixed top-4 right-4 z-50 max-w-sm",4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",3,"click",4,"ngIf"],[1,"hover:bg-gray-50","cursor-pointer",3,"dblclick"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-red-100","flex","items-center","justify-center"],[1,"w-5","h-5","text-red-600",3,"img"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"text-sm"],[1,"text-gray-900"],[1,"text-gray-600"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","border","border-blue-200"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[3,"img"],[1,"px-6","py-4","whitespace-nowrap","text-right"],[1,"inline-flex","items-center","justify-center","w-8","h-8","bg-red-100","text-red-600","rounded-full","hover:bg-red-200","focus:outline-none","focus:ring-2","focus:ring-red-500","transition-colors",3,"click"],[1,"w-4","h-4",3,"img"],[1,"fixed","top-4","right-4","z-50","max-w-sm"],[1,"bg-blue-500","text-white","px-4","py-3","rounded-lg","shadow-lg","border","border-blue-600","animate-slide-in-right"],[1,"flex","items-start","justify-between"],[1,"flex","items-start","gap-3"],[1,"w-5","h-5","text-white","mt-0.5","flex-shrink-0",3,"img"],[1,"text-sm","font-medium"],[1,"ml-3","text-white","hover:text-blue-200","transition-colors",3,"click"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50",3,"click"],[1,"relative","top-20","mx-auto","border","w-11/12","md:w-3/4","lg:w-1/2","shadow-lg","rounded-md","bg-white","flex","flex-col","max-h-[80vh]",3,"click"],[1,"flex","items-center","justify-between","p-5","pb-4","border-b","border-gray-200","flex-shrink-0"],[1,"w-12","h-12","bg-red-100","rounded-full","flex","items-center","justify-center"],[1,"w-6","h-6","text-red-600",3,"img"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"w-6","h-6",3,"img"],[1,"px-5","pt-4","flex-shrink-0"],[1,"border-b","border-gray-200"],[1,"-mb-px","flex","space-x-8"],[3,"click"],[1,"flex-1","overflow-y-auto","px-5","py-6"],[4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"flex","justify-end","gap-3","p-5","pt-4","border-t","border-gray-200","flex-shrink-0","bg-white"],[1,"px-4","py-2","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","bg-blue-600","text-white","rounded-md","text-sm","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"w-4","h-4","mr-2",3,"img"],[1,"mb-6","p-4","bg-blue-50","rounded-lg","border","border-blue-200"],[1,"flex","items-center","gap-2","mb-2"],[1,"w-5","h-5","text-blue-600",3,"img"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","placeholder","Dr. Juan P\xe9rez",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","text","disabled","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","bg-gray-50","text-gray-500",3,"value"],[1,"text-xs","text-gray-500","mt-1"],["type","email",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","placeholder"],["type","tel","placeholder","+506 8888-9999",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["value","Consulta Externa"],["value","Farmacia Central"],["value","Sistemas"],["value","Cardiolog\xeda"],["value","Direcci\xf3n M\xe9dica"],["value","Administraci\xf3n"],[1,"mt-4","grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","text","value","MED-123456","disabled","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","bg-gray-50","text-gray-500"],["type","text","value","2023-02-10","disabled","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","bg-gray-50","text-gray-500"],[1,"mt-6","p-4","bg-gray-50","rounded-lg"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"grid","grid-cols-3","gap-4","text-center"],[1,"text-xs","text-gray-600"],[1,"text-sm","font-medium","text-gray-900"],[1,"mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-sm","text-gray-600","mb-4"],[1,"mb-4"],[1,"flex","items-center","gap-2","p-3","bg-blue-50","rounded-lg","border","border-blue-200"],[1,"flex","items-center","gap-2","mb-3"],[1,"font-medium","text-blue-600"],[1,"space-y-3"],["class","flex items-center justify-between p-3 border rounded-lg",3,"class",4,"ngFor","ngForOf"],[1,"p-4","bg-gray-50","rounded-lg","border","border-gray-200"],[1,"w-5","h-5","text-gray-600",3,"img"],[1,"mt-4","p-4","bg-blue-50","rounded-lg","border","border-blue-200"],[1,"mt-8"],[1,"mb-4","p-4","border","border-gray-200","rounded-lg"],[1,"w-full","p-3","border","border-gray-300","rounded-lg","text-left","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","transition-colors",3,"click"],["class","mt-4 p-4 border border-gray-200 rounded-lg bg-gray-50",4,"ngIf"],[1,"flex","items-center","justify-between","p-3","border","rounded-lg"],["type","checkbox",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"checked"],[1,"flex","items-center","gap-2"],["class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",4,"ngIf"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-yellow-100","text-yellow-800","border","border-yellow-200"],[1,"w-3","h-3","mr-1",3,"img"],[1,"mt-4","p-4","border","border-gray-200","rounded-lg","bg-gray-50"],[1,"font-medium","text-gray-900","mb-2"],[1,"w-5","h-5","text-green-600",3,"img"],[1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"block","text-sm","font-medium","text-gray-900","mb-2"],["rows","3","placeholder","Especifique la raz\xf3n del cambio de estado...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","resize-none",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-3"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-md","text-sm","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"flex","items-center","justify-between"],["type","checkbox","checked","",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500"],["type","checkbox",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500"],[1,"bg-white","border","border-gray-200","rounded-lg","p-6","shadow-sm"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"ngModelChange","ngModel"],[1,"w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","peer-checked:bg-blue-600"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"grid","grid-cols-2","gap-4"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-sm","text-gray-900"],[1,"text-sm","text-green-600"],[1,"w-full","p-4","border","border-gray-300","rounded-lg","text-left","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","flex","items-center","gap-3"],[1,"w-full","p-4","border","border-red-300","rounded-lg","text-left","hover:bg-red-50","focus:outline-none","focus:ring-2","focus:ring-red-500","flex","items-center","gap-3"],[1,"font-medium","text-red-600"],[1,"mb-8"],[1,"space-y-4"],["class","flex items-start gap-3 p-4 border rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-start","gap-3","p-4","border","rounded-lg"],[1,"p-2","bg-gray-100","rounded-lg"],[1,"w-4","h-4","text-gray-600",3,"img"],[1,"flex-1"],[1,"text-xs","text-gray-500"]],template:function(s,i){1&s&&(e.j41(0,"app-page-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.nrm(6,"lucide-icon",6),e.j41(7,"input",7),e.mxI("ngModelChange",function(d){return e.DH7(i.searchTerm,d)||(i.searchTerm=d),d}),e.k0s()(),e.j41(8,"select",8),e.mxI("ngModelChange",function(d){return e.DH7(i.roleFilter,d)||(i.roleFilter=d),d}),e.j41(9,"option",9),e.EFF(10,"Todos los roles"),e.k0s(),e.j41(11,"option",10),e.EFF(12,"Administrador"),e.k0s(),e.j41(13,"option",11),e.EFF(14,"M\xe9dico"),e.k0s(),e.j41(15,"option",12),e.EFF(16,"Farmac\xe9utico"),e.k0s(),e.j41(17,"option",13),e.EFF(18,"M\xe9dico Jefe"),e.k0s(),e.j41(19,"option",14),e.EFF(20,"Administrativo"),e.k0s()(),e.j41(21,"select",8),e.mxI("ngModelChange",function(d){return e.DH7(i.statusFilter,d)||(i.statusFilter=d),d}),e.j41(22,"option",9),e.EFF(23,"Todos"),e.k0s(),e.j41(24,"option",15),e.EFF(25,"Activos"),e.k0s(),e.j41(26,"option",16),e.EFF(27,"Bloqueados"),e.k0s(),e.j41(28,"option",17),e.EFF(29,"Inactivos"),e.k0s()()()()(),e.j41(30,"div",2)(31,"div",18)(32,"h2",19),e.EFF(33,"Usuarios del Sistema"),e.k0s()(),e.j41(34,"div",20)(35,"table",21)(36,"thead",22)(37,"tr")(38,"th",23),e.EFF(39,"Usuario"),e.k0s(),e.j41(40,"th",23),e.EFF(41,"Email/Tel\xe9fono"),e.k0s(),e.j41(42,"th",23),e.EFF(43,"Rol"),e.k0s(),e.j41(44,"th",23),e.EFF(45,"Departamento"),e.k0s(),e.j41(46,"th",23),e.EFF(47,"\xdaltimo acceso"),e.k0s(),e.j41(48,"th",23),e.EFF(49,"2FA"),e.k0s(),e.j41(50,"th",23),e.EFF(51,"Estado"),e.k0s(),e.j41(52,"th",24),e.EFF(53,"Acciones"),e.k0s()()(),e.j41(54,"tbody",25),e.DNE(55,F,35,16,"tr",26),e.k0s()()()()()(),e.DNE(56,b,9,3,"div",27)(57,C,38,19,"div",28)),2&s&&(e.Y8G("title","Gesti\xf3n de Usuarios")("description","Control de acceso y credenciales del sistema \u2022 HIPAA/FDA/FHIR Compliant")("icon",i.usersIcon)("breadcrumbItems",i.breadcrumbItems)("hasActionButton",!0)("headerGradient","from-red-600 via-red-500 to-red-700")("showCreateUserButton",!0)("createUserButtonClick",i.createUserButtonClickHandler),e.R7$(6),e.Y8G("img",i.searchIcon),e.R7$(),e.R50("ngModel",i.searchTerm),e.R7$(),e.R50("ngModel",i.roleFilter),e.R7$(13),e.R50("ngModel",i.statusFilter),e.R7$(34),e.Y8G("ngForOf",i.filteredUsers),e.R7$(),e.Y8G("ngIf",i.showAlert),e.R7$(),e.Y8G("ngIf",i.isEditModalOpen))},dependencies:[u.MD,u.Sq,u.bT,c.YN,c.xH,c.y7,c.me,c.Zm,c.wz,c.BC,c.vS,n.flO,n.WGl,p.J],styles:["@keyframes _ngcontent-%COMP%_slide-in-right{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.animate-slide-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-in-right .3s ease-out}"]})}}return o})()}}]);