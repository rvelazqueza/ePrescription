"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[9020],{9020:(f,d,r)=>{r.r(d),r.d(d,{BloqueosComponent:()=>h});var l=r(177),u=r(4341),n=r(8516),c=r(8961),e=r(4438);function m(t,a){if(1&t&&(e.j41(0,"div",18)(1,"div",19),e.nrm(2,"lucide-icon",20),e.j41(3,"h3",21),e.EFF(4,"No hay usuarios bloqueados"),e.k0s(),e.j41(5,"p",6),e.EFF(6,"Todos los usuarios tienen acceso normal al sistema"),e.k0s()()()),2&t){const o=e.XpG();e.R7$(2),e.Y8G("img",o.checkCircle2Icon)}}function g(t,a){if(1&t){const o=e.RV6();e.j41(0,"tr",29)(1,"td",30)(2,"div",31)(3,"div",32),e.nrm(4,"lucide-icon",33),e.k0s(),e.j41(5,"div")(6,"p",34),e.EFF(7),e.k0s(),e.j41(8,"p",6),e.EFF(9),e.k0s()()()(),e.j41(10,"td",35),e.EFF(11),e.k0s(),e.j41(12,"td",30)(13,"span",36),e.EFF(14),e.k0s()(),e.j41(15,"td",30)(16,"span",37),e.EFF(17),e.k0s()(),e.j41(18,"td",35),e.EFF(19),e.k0s(),e.j41(20,"td",38)(21,"button",39),e.bIt("click",function(){const i=e.eBV(o).$implicit,b=e.XpG(2);return e.Njj(b.unblockUser(i))}),e.nrm(22,"lucide-icon",40),e.EFF(23," Desbloquear "),e.k0s()()()}if(2&t){const o=a.$implicit,s=e.XpG(2);e.R7$(4),e.Y8G("img",s.lockIcon),e.R7$(3),e.JRh(o.fullName),e.R7$(2),e.JRh("@"+o.username),e.R7$(2),e.SpI(" ",o.email," "),e.R7$(3),e.SpI(" ",o.role," "),e.R7$(3),e.SpI(" ",o.failedAttempts," intentos "),e.R7$(2),e.SpI(" ",o.lastAttempt," "),e.R7$(3),e.Y8G("img",s.unlockIcon)}}function p(t,a){if(1&t&&(e.j41(0,"div",22)(1,"table",23)(2,"thead",24)(3,"tr")(4,"th",25),e.EFF(5,"Usuario"),e.k0s(),e.j41(6,"th",25),e.EFF(7,"Email"),e.k0s(),e.j41(8,"th",25),e.EFF(9,"Rol"),e.k0s(),e.j41(10,"th",25),e.EFF(11,"Intentos fallidos"),e.k0s(),e.j41(12,"th",25),e.EFF(13,"\xdaltimo intento"),e.k0s(),e.j41(14,"th",26),e.EFF(15,"Acciones"),e.k0s()()(),e.j41(16,"tbody",27),e.DNE(17,g,24,8,"tr",28),e.k0s()()()),2&t){const o=e.XpG();e.R7$(17),e.Y8G("ngForOf",o.usuariosBloqueados)}}let h=(()=>{class t{constructor(){this.banIcon=n.MAP,this.lockIcon=n.c_I,this.unlockIcon=n.$VH,this.alertTriangleIcon=n.hcu,this.checkCircle2Icon=n.Jly,this.userIcon=n.KJW,this.shieldIcon=n.ekZ,this.breadcrumbItems=[{label:"Seguridad y usuarios",route:"/seguridad"},{label:"Bloqueos/Desbloqueos",route:"/seguridad/bloqueos"}],this.usuariosBloqueados=[{id:"USR-0156",username:"usuario.bloqueado",fullName:"Usuario Test Bloqueado",email:"bloqueado@hospital.com",role:"M\xe9dico",failedAttempts:5,lastAttempt:"2024-09-25 08:30",blockedSince:"2024-09-25 08:30"}]}ngOnInit(){}unblockUser(o){console.log("Unblocking user:",o),this.usuariosBloqueados=this.usuariosBloqueados.filter(s=>s.id!==o.id),alert(`Usuario ${o.fullName} ha sido desbloqueado exitosamente`)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-bloqueos"]],standalone:!0,features:[e.aNF],decls:36,vars:12,consts:[[3,"title","description","icon","breadcrumbItems","hasActionButton","headerGradient"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-white","rounded-lg","shadow-lg","border-l-4","border-red-500"],[1,"p-4"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-semibold"],[1,"w-8","h-8","text-red-500",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","border-l-4","border-orange-500"],[1,"w-8","h-8","text-orange-500",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","border-l-4","border-green-500"],[1,"w-8","h-8","text-green-500",3,"img"],[1,"bg-white","rounded-lg","shadow-lg"],[1,"p-6","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],["class","p-6",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"p-6"],[1,"text-center","py-12"],[1,"w-12","h-12","text-green-400","mx-auto","mb-4",3,"img"],[1,"font-medium","mb-2"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-red-100","flex","items-center","justify-center"],[1,"w-5","h-5","text-red-600",3,"img"],[1,"font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","border","border-blue-200"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-red-100","text-red-800","border","border-red-200"],[1,"px-6","py-4","whitespace-nowrap","text-right"],[1,"inline-flex","items-center","px-3","py-1","bg-green-600","text-white","rounded-md","text-sm","font-medium","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-green-500",3,"click"],[1,"w-4","h-4","mr-1",3,"img"]],template:function(s,i){1&s&&(e.j41(0,"app-page-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"p",6),e.EFF(8,"Usuarios bloqueados"),e.k0s(),e.j41(9,"p",7),e.EFF(10),e.k0s()(),e.nrm(11,"lucide-icon",8),e.k0s()()(),e.j41(12,"div",9)(13,"div",4)(14,"div",5)(15,"div")(16,"p",6),e.EFF(17,"Bloqueos hoy"),e.k0s(),e.j41(18,"p",7),e.EFF(19,"1"),e.k0s()(),e.nrm(20,"lucide-icon",10),e.k0s()()(),e.j41(21,"div",11)(22,"div",4)(23,"div",5)(24,"div")(25,"p",6),e.EFF(26,"Desbloqueos hoy"),e.k0s(),e.j41(27,"p",7),e.EFF(28,"0"),e.k0s()(),e.nrm(29,"lucide-icon",12),e.k0s()()()(),e.j41(30,"div",13)(31,"div",14)(32,"h2",15),e.EFF(33,"Usuarios Bloqueados"),e.k0s()(),e.DNE(34,m,7,1,"div",16)(35,p,18,1,"div",17),e.k0s()()()),2&s&&(e.Y8G("title","Bloqueos y Desbloqueos")("description","Gesti\xf3n de usuarios bloqueados por seguridad")("icon",i.banIcon)("breadcrumbItems",i.breadcrumbItems)("hasActionButton",!1)("headerGradient","from-orange-600 via-amber-500 to-yellow-600"),e.R7$(10),e.JRh(i.usuariosBloqueados.length),e.R7$(),e.Y8G("img",i.lockIcon),e.R7$(9),e.Y8G("img",i.alertTriangleIcon),e.R7$(9),e.Y8G("img",i.unlockIcon),e.R7$(5),e.Y8G("ngIf",0===i.usuariosBloqueados.length),e.R7$(),e.Y8G("ngIf",i.usuariosBloqueados.length>0))},dependencies:[l.MD,l.Sq,l.bT,u.YN,n.flO,n.WGl,c.J],encapsulation:2})}}return t})()}}]);