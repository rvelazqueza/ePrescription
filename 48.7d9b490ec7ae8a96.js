"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[48],{8777:(E,f,l)=>{l.d(f,{m:()=>v});var m=l(177),g=l(6283),t=l(8516),n=l(4438);function _(s,h){if(1&s&&n.nrm(0,"lucide-icon",4),2&s){const d=n.XpG(2).$implicit;n.Y8G("img",d.icon)}}function b(s,h){if(1&s&&(n.j41(0,"a",9),n.DNE(1,_,1,1,"lucide-icon",10),n.EFF(2),n.k0s()),2&s){const d=n.XpG().$implicit;n.Y8G("routerLink",d.route),n.R7$(),n.Y8G("ngIf",d.icon),n.R7$(),n.SpI(" ",d.label," ")}}function e(s,h){if(1&s&&n.nrm(0,"lucide-icon",4),2&s){const d=n.XpG(2).$implicit;n.Y8G("img",d.icon)}}function x(s,h){if(1&s&&(n.j41(0,"span",11),n.DNE(1,e,1,1,"lucide-icon",10),n.EFF(2),n.k0s()),2&s){const d=n.XpG(),a=d.$implicit;n.BMQ("aria-current",d.last?"page":null),n.R7$(),n.Y8G("ngIf",a.icon),n.R7$(),n.SpI(" ",a.label," ")}}function F(s,h){if(1&s&&(n.j41(0,"li",2),n.nrm(1,"lucide-icon",6),n.DNE(2,b,3,3,"a",7)(3,x,3,3,"span",8),n.k0s()),2&s){const d=h.$implicit,a=h.last,c=n.XpG();n.R7$(),n.Y8G("img",c.chevronRightIcon),n.R7$(),n.Y8G("ngIf",d.route&&!a),n.R7$(),n.Y8G("ngIf",!d.route||a)}}let v=(()=>{class s{constructor(){this.items=[],this.homeIcon=t.ww0,this.chevronRightIcon=t.c_$}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=n.VBU({type:s,selectors:[["app-breadcrumbs"]],inputs:{items:"items"},standalone:!0,features:[n.aNF],decls:7,vars:2,consts:[["aria-label","Breadcrumb",1,"fixed","left-64","right-0","z-30","bg-gray-50","border-b","border-gray-200","px-6","py-3",2,"top","93px"],[1,"inline-flex","items-center","space-x-1","md:space-x-3"],[1,"inline-flex","items-center"],["routerLink","/dashboard",1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors"],["aria-hidden","true",1,"w-4","h-4","mr-2",3,"img"],["class","inline-flex items-center",4,"ngFor","ngForOf"],["aria-hidden","true",1,"w-4","h-4","text-gray-400","mx-1",3,"img"],["class","inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors",3,"routerLink",4,"ngIf"],["class","inline-flex items-center text-sm font-medium text-gray-500",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors",3,"routerLink"],["class","w-4 h-4 mr-2","aria-hidden","true",3,"img",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-500"]],template:function(a,c){1&a&&(n.j41(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),n.nrm(4,"lucide-icon",4),n.EFF(5," Inicio "),n.k0s()(),n.DNE(6,F,4,3,"li",5),n.k0s()()),2&a&&(n.R7$(4),n.Y8G("img",c.homeIcon),n.R7$(2),n.Y8G("ngForOf",c.items))},dependencies:[m.MD,m.Sq,m.bT,g.iI,g.Wk,t.flO,t.WGl],encapsulation:2})}}return s})()},1265:(E,f,l)=>{l.d(f,{y:()=>d});var m=l(177),g=l(8516),t=l(4438),n=l(6283);const _=[[["","slot","action"]]],b=["[slot=action]"];function e(a,c){if(1&a){const o=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onCreateUserClick())}),t.qSk(),t.j41(1,"svg",13),t.nrm(2,"path",14),t.k0s(),t.EFF(3," \xbfCrear usuario? "),t.k0s()}}function x(a,c){1&a&&(t.j41(0,"span",15),t.EFF(1," Sistema profesional de seguridad "),t.k0s())}function F(a,c){if(1&a&&(t.j41(0,"div",1)(1,"div",16),t.nrm(2,"lucide-icon",17),t.k0s(),t.j41(3,"div",18),t.nrm(4,"lucide-icon",17),t.k0s(),t.j41(5,"div",19),t.nrm(6,"lucide-icon",17),t.k0s()()),2&a){const o=t.XpG();t.R7$(2),t.Y8G("img",o.stethoscopeIcon),t.R7$(2),t.Y8G("img",o.shieldCheckIcon),t.R7$(2),t.Y8G("img",o.building2Icon)}}function v(a,c){if(1&a){const o=t.RV6();t.j41(0,"div",20)(1,"span",21),t.nrm(2,"lucide-icon",22),t.EFF(3," HL7 FHIR "),t.k0s(),t.j41(4,"span",21),t.qSk(),t.j41(5,"svg",23),t.nrm(6,"path",24),t.k0s(),t.EFF(7," FDA Compliant "),t.k0s(),t.joV(),t.j41(8,"span",21),t.nrm(9,"lucide-icon",22),t.EFF(10," OMS Standards "),t.k0s(),t.j41(11,"span",25),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.navigateToNotifications())}),t.qSk(),t.j41(12,"svg",26),t.nrm(13,"path",27)(14,"path",28),t.k0s(),t.EFF(15," 3 notificaciones "),t.k0s()()}if(2&a){const o=t.XpG();t.R7$(2),t.Y8G("img",o.shieldCheckIcon),t.R7$(7),t.Y8G("img",o.stethoscopeIcon)}}function s(a,c){1&a&&(t.j41(0,"div",29)(1,"span",15),t.EFF(2," Cifrado E2E "),t.k0s(),t.j41(3,"span",15),t.EFF(4," HIPAA Compliant "),t.k0s(),t.j41(5,"span",15),t.EFF(6," FDA 21 CFR Part 11 "),t.k0s(),t.j41(7,"span",15),t.EFF(8," NIST 800-63B "),t.k0s()())}function h(a,c){1&a&&(t.j41(0,"div",30)(1,"div",31)(2,"div",32),t.qSk(),t.j41(3,"svg",33),t.nrm(4,"path",34),t.k0s()(),t.joV(),t.j41(5,"span",35),t.EFF(6,"Validaci\xf3n autom\xe1tica con colegios profesionales"),t.k0s()(),t.j41(7,"div",31)(8,"div",32),t.qSk(),t.j41(9,"svg",33),t.nrm(10,"path",36),t.k0s()(),t.joV(),t.j41(11,"span",35),t.EFF(12,"Cumplimiento normativo HL7, FDA y OMS"),t.k0s()()())}let d=(()=>{class a{constructor(o){this.router=o,this.title="",this.description="",this.actionButton=!1,this.gradient="",this.showMedicalIcons=!1,this.showCreateUserButton=!1,this.createUserButtonClick=null,this.showSecurityBadge=!1,this.stethoscopeIcon=g.oYO,this.shieldCheckIcon=g.oxo,this.building2Icon=g.t6i}onCreateUserClick(){this.createUserButtonClick&&this.createUserButtonClick()}navigateToNotifications(){this.router.navigate(["/notificaciones/lista"])}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(n.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-page-header"]],inputs:{title:"title",description:"description",icon:"icon",actionButton:"actionButton",gradient:"gradient",showMedicalIcons:"showMedicalIcons",showCreateUserButton:"showCreateUserButton",createUserButtonClick:"createUserButtonClick",showSecurityBadge:"showSecurityBadge"},standalone:!0,features:[t.aNF],ngContentSelectors:b,decls:18,vars:11,consts:[[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"w-16","h-16","bg-white/20","rounded-xl","flex","items-center","justify-center","backdrop-blur-sm"],[1,"w-8","h-8","text-white",3,"img"],[1,"text-2xl","font-bold"],[1,"text-blue-100"],["class","inline-flex items-center px-4 py-2 bg-white/10 text-white border border-white/30 rounded-lg hover:bg-white/20 transition-colors text-sm",3,"click",4,"ngIf"],["class","inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-white/20 text-white border border-white/30",4,"ngIf"],["class","flex items-center gap-4",4,"ngIf"],["class","flex gap-2",4,"ngIf"],["class","mt-4 flex flex-wrap gap-2",4,"ngIf"],["class","mt-6 flex flex-wrap gap-4",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","bg-white/10","text-white","border","border-white/30","rounded-lg","hover:bg-white/20","transition-colors","text-sm",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-white/20","text-white","border","border-white/30"],["title","Servicios M\xe9dicos",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],[1,"w-7","h-7","text-white","group-hover:scale-110","transition-transform","duration-200",3,"img"],["title","Seguridad y Protecci\xf3n",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],["title","Centros M\xe9dicos",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],[1,"flex","gap-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-white/20","text-white","border","border-white/30","hover:bg-white/30","transition-colors"],[1,"w-3","h-3","mr-1",3,"img"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["title","Ver notificaciones pendientes",1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-red-500","text-white","border","border-red-400","cursor-pointer","hover:bg-red-600","transition-colors","shadow-lg",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1","animate-pulse"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m13.73 21a2 2 0 0 1-3.46 0"],[1,"mt-4","flex","flex-wrap","gap-2"],[1,"mt-6","flex","flex-wrap","gap-4"],[1,"flex","items-center","gap-2","text-white/90"],[1,"w-5","h-5","bg-white/20","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-sm","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.5-2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(r,i){1&r&&(t.NAR(_),t.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),t.nrm(4,"lucide-icon",3),t.k0s(),t.j41(5,"div")(6,"h1",4),t.EFF(7),t.k0s(),t.j41(8,"p",5),t.EFF(9),t.k0s()()(),t.j41(10,"div",1),t.SdG(11),t.DNE(12,e,4,0,"button",6)(13,x,2,0,"span",7)(14,F,7,3,"div",8)(15,v,16,2,"div",9),t.k0s()(),t.DNE(16,s,9,0,"div",10)(17,h,13,0,"div",11),t.k0s()),2&r&&(t.HbH("bg-gradient-to-r text-white rounded-lg p-6 "+(i.gradient||"from-blue-600 to-purple-700")),t.R7$(4),t.Y8G("img",i.icon),t.R7$(3),t.JRh(i.title),t.R7$(2),t.JRh(i.description),t.R7$(3),t.Y8G("ngIf",i.showCreateUserButton),t.R7$(),t.Y8G("ngIf",i.showSecurityBadge),t.R7$(),t.Y8G("ngIf",(i.showMedicalIcons||i.title.includes("Registro de usuarios")||i.title.includes("Usuarios")&&!i.title.includes("Gesti\xf3n de Usuarios")||i.title.includes("Seguridad")&&!i.title.includes("Par\xe1metros de Seguridad"))&&!i.title.includes("Autoservicio")),t.R7$(),t.Y8G("ngIf",i.title.includes("Dashboard")||i.description.includes("Prescripci\xf3n Electr\xf3nica")),t.R7$(),t.Y8G("ngIf",i.title.includes("Autoservicio")),t.R7$(),t.Y8G("ngIf",i.title.includes("Registro de usuarios")))},dependencies:[m.MD,m.bT,g.flO,g.WGl],encapsulation:2})}}return a})()},48:(E,f,l)=>{l.r(f),l.d(f,{ListadoTalonariosComponent:()=>d});var m=l(177),g=l(4341),t=l(8516),n=l(8777),_=l(1265),b=l(6268),e=l(4438);function x(a,c){if(1&a&&(e.j41(0,"div",58),e.nrm(1,"lucide-icon",59),e.j41(2,"h3",60),e.EFF(3,"No se encontraron talonarios"),e.k0s(),e.j41(4,"p",61),e.EFF(5,"No hay talonarios que coincidan con los filtros aplicados"),e.k0s()()),2&a){const o=e.XpG();e.R7$(),e.Y8G("img",o.packageIcon)}}function F(a,c){if(1&a&&(e.j41(0,"tr",68)(1,"td",69)(2,"div",70),e.nrm(3,"lucide-icon",71),e.j41(4,"span",72),e.EFF(5),e.k0s()()(),e.j41(6,"td",69)(7,"span",73),e.EFF(8),e.k0s()(),e.j41(9,"td",69)(10,"span",74),e.EFF(11),e.k0s()(),e.j41(12,"td",69)(13,"span",74),e.EFF(14),e.k0s()(),e.j41(15,"td",69)(16,"span",74),e.EFF(17),e.k0s()(),e.j41(18,"td",69)(19,"span",75),e.EFF(20),e.k0s()(),e.j41(21,"td",69)(22,"span",61),e.EFF(23),e.k0s()(),e.j41(24,"td",69)(25,"span",73),e.EFF(26),e.k0s()(),e.j41(27,"td",69)(28,"div",70),e.nrm(29,"lucide-icon",76),e.j41(30,"span",74),e.EFF(31),e.k0s()()(),e.j41(32,"td",69)(33,"div",70),e.nrm(34,"lucide-icon",76),e.j41(35,"span",74),e.EFF(36),e.k0s()()()()),2&a){const o=c.$implicit,r=e.XpG(2);e.R7$(3),e.Y8G("img",r.receiptIcon),e.R7$(2),e.JRh(r.transformText(o.id)),e.R7$(2),e.HbH(r.getTipoBadgeClass(o.tipo,o.subTipo)),e.R7$(),e.SpI(" ",r.transformText(r.getTipoTexto(o.tipo,o.subTipo))," "),e.R7$(3),e.JRh(r.transformText(o.codigoInicio)),e.R7$(3),e.JRh(r.transformText(o.codigoFin)),e.R7$(3),e.JRh(o.cantidad),e.R7$(3),e.JRh(o.disponibles),e.R7$(3),e.JRh(o.usados),e.R7$(2),e.HbH(r.getEstadoBadgeClass(o.estado)),e.R7$(),e.SpI(" ",r.transformText(r.getEstadoTexto(o.estado))," "),e.R7$(3),e.Y8G("img",r.calendarIcon),e.R7$(2),e.JRh(r.formatDate(o.fechaAdquisicion)),e.R7$(3),e.Y8G("img",r.clockIcon),e.R7$(2),e.JRh(r.formatDate(o.fechaVencimiento))}}function v(a,c){if(1&a&&(e.j41(0,"div",62)(1,"table",63)(2,"thead",64)(3,"tr")(4,"th",65),e.EFF(5,"ID"),e.k0s(),e.j41(6,"th",65),e.EFF(7,"Tipo"),e.k0s(),e.j41(8,"th",65),e.EFF(9,"C\xf3digo Inicio"),e.k0s(),e.j41(10,"th",65),e.EFF(11,"C\xf3digo Fin"),e.k0s(),e.j41(12,"th",65),e.EFF(13,"Cantidad Total"),e.k0s(),e.j41(14,"th",65),e.EFF(15,"Disponibles"),e.k0s(),e.j41(16,"th",65),e.EFF(17,"Usados"),e.k0s(),e.j41(18,"th",65),e.EFF(19,"Estado"),e.k0s(),e.j41(20,"th",65),e.EFF(21,"F. Adquisici\xf3n"),e.k0s(),e.j41(22,"th",65),e.EFF(23,"F. Vencimiento"),e.k0s()()(),e.j41(24,"tbody",66),e.DNE(25,F,37,17,"tr",67),e.k0s()()()),2&a){const o=e.XpG();e.R7$(25),e.Y8G("ngForOf",o.talonariosPaginados)}}function s(a,c){if(1&a){const o=e.RV6();e.j41(0,"button",82),e.bIt("click",function(){const i=e.eBV(o).$implicit,p=e.XpG(2);return e.Njj(p.cambiarPagina(i))}),e.EFF(1),e.k0s()}if(2&a){const o=c.$implicit,r=e.XpG(2);e.HbH(o===r.paginaActual?"px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-blue-600 rounded-md":"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50"),e.R7$(),e.SpI(" ",o," ")}}function h(a,c){if(1&a){const o=e.RV6();e.j41(0,"div",77)(1,"div",9)(2,"div",78),e.EFF(3),e.k0s(),e.j41(4,"div",70)(5,"button",79),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.cambiarPagina(i.paginaActual-1))}),e.nrm(6,"lucide-icon",46),e.EFF(7," Anterior "),e.k0s(),e.j41(8,"div",80),e.DNE(9,s,2,3,"button",81),e.k0s(),e.j41(10,"button",79),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.cambiarPagina(i.paginaActual+1))}),e.EFF(11," Siguiente "),e.nrm(12,"lucide-icon",46),e.k0s()()()()}if(2&a){const o=e.XpG();e.R7$(3),e.E5c(" Mostrando ",(o.paginaActual-1)*o.elementosPorPagina+1," a ",o.Math.min(o.paginaActual*o.elementosPorPagina,o.talonariosFiltrados.length)," de ",o.talonariosFiltrados.length," talonarios "),e.R7$(2),e.Y8G("disabled",1===o.paginaActual),e.R7$(),e.Y8G("img",o.chevronLeftIcon),e.R7$(3),e.Y8G("ngForOf",o.getPaginas()),e.R7$(),e.Y8G("disabled",o.paginaActual===o.totalPaginas),e.R7$(2),e.Y8G("img",o.chevronRightIcon)}}let d=(()=>{class a{constructor(){this.receiptIcon=t.TA3,this.calendarIcon=t.VvS,this.checkCircleIcon=t.rAV,this.clockIcon=t.zD7,this.alertCircleIcon=t.RIJ,this.searchIcon=t.vji,this.downloadIcon=t.f5X,this.packageIcon=t.lPX,this.fileTextIcon=t.iUU,this.chevronLeftIcon=t.JGc,this.chevronRightIcon=t.c_$,this.infoIcon=t.R2D,this.chevronDownIcon=t.yQN,this.breadcrumbItems=[{label:"Talonarios",route:"/talonarios"},{label:"Mis Talonarios"}],this.terminoBusqueda="",this.filtroTipo="",this.filtroEstado="",this.showUppercase=!1,this.isExportDropdownOpen=!1,this.paginaActual=1,this.elementosPorPagina=10,this.talonarios=[{id:"TAL-001",tipo:"receta",subTipo:"antimicrobiano",codigoInicio:"ANT-2024-001",codigoFin:"ANT-2024-050",cantidad:50,estado:"activo",fechaAdquisicion:"2024-01-15",fechaVencimiento:"2025-01-15",disponibles:28,usados:22,precio:2500,numeroFactura:"FACT-2024-0015",metodoPago:"Tarjeta de cr\xe9dito"},{id:"TAL-002",tipo:"receta",subTipo:"estupefaciente",codigoInicio:"EST-2024-001",codigoFin:"EST-2024-030",cantidad:30,estado:"activo",fechaAdquisicion:"2024-02-10",fechaVencimiento:"2025-02-10",disponibles:15,usados:15,precio:3500,numeroFactura:"FACT-2024-0042",metodoPago:"Transferencia bancaria"},{id:"TAL-003",tipo:"receta",subTipo:"normal",codigoInicio:"REC-2024-001",codigoFin:"REC-2024-100",cantidad:100,estado:"activo",fechaAdquisicion:"2024-03-05",fechaVencimiento:"2025-03-05",disponibles:65,usados:35,precio:1500,numeroFactura:"FACT-2024-0089",metodoPago:"Tarjeta de d\xe9bito"},{id:"TAL-004",tipo:"despacho",codigoInicio:"DESP-2024-001",codigoFin:"DESP-2024-150",cantidad:150,estado:"activo",fechaAdquisicion:"2024-03-20",fechaVencimiento:"2025-03-20",disponibles:98,usados:52,precio:1e3,numeroFactura:"FACT-2024-0105",metodoPago:"Tarjeta de cr\xe9dito"},{id:"TAL-005",tipo:"receta",subTipo:"psicotropico",codigoInicio:"PSI-2023-050",codigoFin:"PSI-2023-090",cantidad:40,estado:"agotado",fechaAdquisicion:"2023-11-10",fechaVencimiento:"2024-11-10",disponibles:0,usados:40,precio:3e3,numeroFactura:"FACT-2023-0845",metodoPago:"Transferencia bancaria"}],this.talonariosFiltrados=[...this.talonarios],this.Math=Math}get talonariosActivos(){return this.talonarios.filter(o=>"activo"===o.estado).length}get totalDisponibles(){return this.talonarios.reduce((o,r)=>o+r.disponibles,0)}get totalUtilizados(){return this.talonarios.reduce((o,r)=>o+r.usados,0)}get totalPaginas(){return Math.ceil(this.talonariosFiltrados.length/this.elementosPorPagina)}get talonariosPaginados(){const o=(this.paginaActual-1)*this.elementosPorPagina;return this.talonariosFiltrados.slice(o,o+this.elementosPorPagina)}filtrarTalonarios(){this.talonariosFiltrados=this.talonarios.filter(o=>(!this.terminoBusqueda||o.id.toLowerCase().includes(this.terminoBusqueda.toLowerCase())||o.codigoInicio.toLowerCase().includes(this.terminoBusqueda.toLowerCase())||o.codigoFin.toLowerCase().includes(this.terminoBusqueda.toLowerCase())||o.numeroFactura.toLowerCase().includes(this.terminoBusqueda.toLowerCase()))&&(!this.filtroTipo||o.tipo===this.filtroTipo)&&(!this.filtroEstado||o.estado===this.filtroEstado)),this.paginaActual=1}toggleMayusculas(){this.showUppercase=!this.showUppercase}transformText(o){return this.showUppercase?o.toUpperCase():o}getTipoBadgeClass(o,r){return"receta"===o?{antimicrobiano:"bg-blue-100 text-blue-800",estupefaciente:"bg-purple-100 text-purple-800",psicotropico:"bg-pink-100 text-pink-800",normal:"bg-gray-100 text-gray-800"}[r]||"bg-gray-100 text-gray-800":"bg-teal-100 text-teal-800"}getTipoTexto(o,r){return"receta"===o?r?r.toUpperCase():"RECETA":"DESPACHO"}getEstadoBadgeClass(o){return{activo:"bg-green-100 text-green-800",agotado:"bg-red-100 text-red-800",vencido:"bg-gray-100 text-gray-800"}[o]}getEstadoTexto(o){return o.toUpperCase()}formatDate(o){return new Date(o).toLocaleDateString()}cambiarPagina(o){o>=1&&o<=this.totalPaginas&&(this.paginaActual=o)}getPaginas(){const o=[];let i=Math.max(1,this.paginaActual-Math.floor(2.5)),p=Math.min(this.totalPaginas,i+5-1);p-i<4&&(i=Math.max(1,p-5+1));for(let u=i;u<=p;u++)o.push(u);return o}exportarExcel(){this.isExportDropdownOpen=!1,console.log("Exportando a Excel...")}exportarPDF(){this.isExportDropdownOpen=!1,console.log("Exportando a PDF...")}exportarCSV(){this.isExportDropdownOpen=!1,console.log("Exportando a CSV...")}static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-listado-talonarios"]],standalone:!0,features:[e.aNF],decls:107,vars:30,consts:[[1,"space-y-6"],[3,"items"],["title","Mis Talonarios","description","Gesti\xf3n y seguimiento de talonarios para recetas y despacho de medicamentos controlados",3,"icon","actionButton"],["slot","action",1,"bg-white/20","backdrop-blur-sm","text-white","px-4","py-2","rounded-lg","border","border-white/30"],[1,"text-right"],[1,"text-xs","text-white/80"],[1,"text-2xl","font-bold","text-white"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-blue-500","p-6"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600","font-medium"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-3","bg-blue-100","rounded-lg"],[1,"w-8","h-8","text-blue-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-green-500","p-6"],[1,"p-3","bg-green-100","rounded-lg"],[1,"w-8","h-8","text-green-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-yellow-500","p-6"],[1,"p-3","bg-yellow-100","rounded-lg"],[1,"w-8","h-8","text-yellow-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-red-500","p-6"],[1,"p-3","bg-red-100","rounded-lg"],[1,"w-8","h-8","text-red-600",3,"img"],[1,"bg-white","rounded-lg","shadow","p-6"],[1,"grid","gap-4","md:grid-cols-4"],[1,"relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-4","h-4","text-gray-400",3,"img"],["type","text","placeholder","Buscar por ID, c\xf3digo, factura...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","input","ngModel"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],["value",""],["value","receta"],["value","despacho"],["value","activo"],["value","agotado"],["value","vencido"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","hover:bg-gray-50","text-sm","font-medium",3,"click"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gradient-to-r","from-blue-50","to-white"],[1,"flex","items-center","space-x-3"],[1,"p-2","bg-blue-100","rounded-lg"],[1,"w-5","h-5","text-blue-600",3,"img"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","gap-2"],["triggerClass","px-3 py-2 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 flex items-center gap-2",3,"isOpenChange","isOpen"],["slot","trigger"],[1,"w-4","h-4",3,"img"],["slot","content"],[1,"w-full","px-4","py-2","text-left","text-sm","text-gray-700","hover:bg-gray-50","flex","items-center","gap-3",3,"click"],[1,"w-4","h-4","text-gray-500",3,"img"],["class","text-center py-12",4,"ngIf"],["class","overflow-x-auto","style","max-height: 500px; overflow-y: auto;",4,"ngIf"],["class","px-6 py-4 border-t border-gray-200 bg-gray-50",4,"ngIf"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"flex","items-start"],[1,"w-5","h-5","text-blue-600","mt-0.5","mr-3","flex-shrink-0",3,"img"],[1,"text-sm","font-medium","text-blue-900","mb-1"],[1,"text-sm","text-blue-700"],[1,"text-center","py-12"],[1,"w-16","h-16","text-gray-300","mx-auto","mb-4",3,"img"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"overflow-x-auto",2,"max-height","500px","overflow-y","auto"],[1,"w-full","min-w-[1000px]"],[1,"bg-gray-50","sticky","top-0"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-blue-50/50 transition-all",4,"ngFor","ngForOf"],[1,"hover:bg-blue-50/50","transition-all"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],[1,"w-4","h-4","text-blue-600",3,"img"],[1,"font-medium"],[1,"px-2","py-1","text-xs","font-semibold","rounded-full"],[1,"text-sm"],[1,"text-green-600","font-medium"],[1,"w-4","h-4","text-gray-400",3,"img"],[1,"px-6","py-4","border-t","border-gray-200","bg-gray-50"],[1,"text-sm","text-gray-700"],[1,"px-3","py-2","text-sm","font-medium","text-gray-500","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-1",3,"click","disabled"],[1,"flex","space-x-1"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,i){1&r&&(e.j41(0,"div",0),e.nrm(1,"app-breadcrumbs",1),e.j41(2,"app-page-header",2)(3,"div",3)(4,"div",4)(5,"p",5),e.EFF(6,"Total de talonarios"),e.k0s(),e.j41(7,"p",6),e.EFF(8),e.k0s()()()(),e.j41(9,"div",7)(10,"div",8)(11,"div",9)(12,"div")(13,"p",10),e.EFF(14,"Talonarios Activos"),e.k0s(),e.j41(15,"p",11),e.EFF(16),e.k0s()(),e.j41(17,"div",12),e.nrm(18,"lucide-icon",13),e.k0s()()(),e.j41(19,"div",14)(20,"div",9)(21,"div")(22,"p",10),e.EFF(23,"Disponibles"),e.k0s(),e.j41(24,"p",11),e.EFF(25),e.k0s()(),e.j41(26,"div",15),e.nrm(27,"lucide-icon",16),e.k0s()()(),e.j41(28,"div",17)(29,"div",9)(30,"div")(31,"p",10),e.EFF(32,"Utilizados"),e.k0s(),e.j41(33,"p",11),e.EFF(34),e.k0s()(),e.j41(35,"div",18),e.nrm(36,"lucide-icon",19),e.k0s()()(),e.j41(37,"div",20)(38,"div",9)(39,"div")(40,"p",10),e.EFF(41,"Compras este mes"),e.k0s(),e.j41(42,"p",11),e.EFF(43,"3"),e.k0s()(),e.j41(44,"div",21),e.nrm(45,"lucide-icon",22),e.k0s()()()(),e.j41(46,"div",23)(47,"div",24)(48,"div",25),e.nrm(49,"lucide-icon",26),e.j41(50,"input",27),e.mxI("ngModelChange",function(u){return e.DH7(i.terminoBusqueda,u)||(i.terminoBusqueda=u),u}),e.bIt("input",function(){return i.filtrarTalonarios()}),e.k0s()(),e.j41(51,"select",28),e.mxI("ngModelChange",function(u){return e.DH7(i.filtroTipo,u)||(i.filtroTipo=u),u}),e.bIt("change",function(){return i.filtrarTalonarios()}),e.j41(52,"option",29),e.EFF(53,"Todos los tipos"),e.k0s(),e.j41(54,"option",30),e.EFF(55,"Receta"),e.k0s(),e.j41(56,"option",31),e.EFF(57,"Despacho"),e.k0s()(),e.j41(58,"select",28),e.mxI("ngModelChange",function(u){return e.DH7(i.filtroEstado,u)||(i.filtroEstado=u),u}),e.bIt("change",function(){return i.filtrarTalonarios()}),e.j41(59,"option",29),e.EFF(60,"Todos los estados"),e.k0s(),e.j41(61,"option",32),e.EFF(62,"Activo"),e.k0s(),e.j41(63,"option",33),e.EFF(64,"Agotado"),e.k0s(),e.j41(65,"option",34),e.EFF(66,"Vencido"),e.k0s()(),e.j41(67,"button",35),e.bIt("click",function(){return i.toggleMayusculas()}),e.EFF(68),e.k0s()()(),e.j41(69,"div",36)(70,"div",37)(71,"div",9)(72,"div",38)(73,"div",39),e.nrm(74,"lucide-icon",40),e.k0s(),e.j41(75,"div")(76,"h3",41),e.EFF(77,"Mis Talonarios"),e.k0s(),e.j41(78,"p",42),e.EFF(79),e.k0s()()(),e.j41(80,"div",43)(81,"app-simple-dropdown",44),e.mxI("isOpenChange",function(u){return e.DH7(i.isExportDropdownOpen,u)||(i.isExportDropdownOpen=u),u}),e.j41(82,"div",45),e.nrm(83,"lucide-icon",46),e.EFF(84," Exportar "),e.nrm(85,"lucide-icon",46),e.k0s(),e.j41(86,"div",47)(87,"button",48),e.bIt("click",function(){return i.exportarExcel()}),e.nrm(88,"lucide-icon",49),e.EFF(89," Exportar a Excel "),e.k0s(),e.j41(90,"button",48),e.bIt("click",function(){return i.exportarPDF()}),e.nrm(91,"lucide-icon",49),e.EFF(92," Exportar a PDF "),e.k0s(),e.j41(93,"button",48),e.bIt("click",function(){return i.exportarCSV()}),e.nrm(94,"lucide-icon",49),e.EFF(95," Exportar a CSV "),e.k0s()()()()()(),e.DNE(96,x,6,1,"div",50)(97,v,26,1,"div",51)(98,h,13,8,"div",52),e.k0s(),e.j41(99,"div",53)(100,"div",54),e.nrm(101,"lucide-icon",55),e.j41(102,"div")(103,"h4",56),e.EFF(104,"Informaci\xf3n sobre talonarios"),e.k0s(),e.j41(105,"p",57),e.EFF(106," Los talonarios tienen una validez de 12 meses desde su adquisici\xf3n. Haz doble clic en cualquier fila para ver detalles completos. Puedes exportar la informaci\xf3n a PDF seg\xfan necesites. Los talonarios vencidos no pueden utilizarse para nuevas recetas. "),e.k0s()()()()()),2&r&&(e.R7$(),e.Y8G("items",i.breadcrumbItems),e.R7$(),e.Y8G("icon",i.receiptIcon)("actionButton",!0),e.R7$(6),e.JRh(i.talonarios.length),e.R7$(8),e.JRh(i.talonariosActivos),e.R7$(2),e.Y8G("img",i.packageIcon),e.R7$(7),e.JRh(i.totalDisponibles),e.R7$(2),e.Y8G("img",i.checkCircleIcon),e.R7$(7),e.JRh(i.totalUtilizados),e.R7$(2),e.Y8G("img",i.fileTextIcon),e.R7$(9),e.Y8G("img",i.receiptIcon),e.R7$(4),e.Y8G("img",i.searchIcon),e.R7$(),e.R50("ngModel",i.terminoBusqueda),e.R7$(),e.R50("ngModel",i.filtroTipo),e.R7$(7),e.R50("ngModel",i.filtroEstado),e.R7$(10),e.SpI(" ",i.showUppercase?"Normal":"MAY\xdaSCULAS"," "),e.R7$(6),e.Y8G("img",i.receiptIcon),e.R7$(5),e.E5c(" ",i.talonariosFiltrados.length," talonario",1!==i.talonariosFiltrados.length?"s":""," encontrado",1!==i.talonariosFiltrados.length?"s":""," "),e.R7$(2),e.R50("isOpen",i.isExportDropdownOpen),e.R7$(2),e.Y8G("img",i.downloadIcon),e.R7$(2),e.Y8G("img",i.chevronDownIcon),e.R7$(3),e.Y8G("img",i.fileTextIcon),e.R7$(3),e.Y8G("img",i.downloadIcon),e.R7$(3),e.Y8G("img",i.fileTextIcon),e.R7$(2),e.Y8G("ngIf",0===i.talonariosFiltrados.length),e.R7$(),e.Y8G("ngIf",i.talonariosFiltrados.length>0),e.R7$(),e.Y8G("ngIf",i.talonariosFiltrados.length>0),e.R7$(3),e.Y8G("img",i.infoIcon))},dependencies:[m.MD,m.Sq,m.bT,g.YN,g.xH,g.y7,g.me,g.wz,g.BC,g.vS,t.flO,t.WGl,n.m,_.y,b.R],encapsulation:2})}}return a})()}}]);