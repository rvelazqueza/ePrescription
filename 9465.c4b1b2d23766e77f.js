"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[9465],{9465:(v,d,o)=>{o.r(d),o.d(d,{GenerarQRComponent:()=>h});var s=o(177),p=o(4341),u=o(8961),l=o(8516),e=o(4438);function g(i,c){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",31),e.EFF(4),e.k0s(),e.j41(5,"td",31),e.EFF(6),e.k0s(),e.j41(7,"td",31)(8,"div")(9,"p"),e.EFF(10),e.k0s(),e.j41(11,"p",32),e.EFF(12),e.k0s()()(),e.j41(13,"td",33)(14,"div",34)(15,"span",35),e.EFF(16),e.k0s(),e.j41(17,"button",36),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.copyToClipboard(r.qrCode))}),e.qSk(),e.j41(18,"svg",37),e.nrm(19,"path",38),e.k0s()()()(),e.joV(),e.j41(20,"td",33)(21,"span",39),e.EFF(22),e.k0s()(),e.j41(23,"td",31),e.EFF(24),e.k0s(),e.j41(25,"td",40)(26,"button",41),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openQRDialog(r))}),e.qSk(),e.j41(27,"svg",42),e.nrm(28,"path",43)(29,"path",44),e.k0s(),e.EFF(30," Ver QR "),e.k0s()()()}if(2&i){const t=c.$implicit;e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.patientName),e.R7$(2),e.JRh(t.doctorName),e.R7$(4),e.JRh(t.signedDate),e.R7$(2),e.JRh(t.signedTime),e.R7$(4),e.SpI("",t.qrCode.substring(0,20),"..."),e.R7$(6),e.SpI(" ",t.token," "),e.R7$(2),e.JRh(t.validUntil)}}function m(i,c){if(1&i){const t=e.RV6();e.j41(0,"div",45)(1,"div",46)(2,"div",47)(3,"div",48),e.qSk(),e.j41(4,"svg",49),e.nrm(5,"path",50),e.k0s(),e.joV(),e.j41(6,"h3",51),e.EFF(7,"C\xf3digo QR de Verificaci\xf3n"),e.k0s()(),e.j41(8,"p",52),e.EFF(9),e.k0s(),e.j41(10,"div",1)(11,"div",53)(12,"div",54)(13,"div",55)(14,"div",56),e.qSk(),e.j41(15,"svg",57),e.nrm(16,"path",50),e.k0s(),e.joV(),e.j41(17,"p",58),e.EFF(18,"C\xf3digo QR"),e.k0s(),e.j41(19,"p",59),e.EFF(20),e.k0s()()()()(),e.j41(21,"div",53)(22,"p",60),e.qSk(),e.j41(23,"svg",61),e.nrm(24,"path",62),e.k0s(),e.EFF(25," Escanea este c\xf3digo QR para verificar la receta en farmacia "),e.k0s()(),e.joV(),e.j41(26,"div",63)(27,"div")(28,"label",7),e.EFF(29,"C\xf3digo QR"),e.k0s(),e.j41(30,"div",64),e.nrm(31,"input",65),e.j41(32,"button",66),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.copyToClipboard((null==r.selectedPrescription?null:r.selectedPrescription.qrCode)||""))}),e.qSk(),e.j41(33,"svg",67),e.nrm(34,"path",38),e.k0s()()()(),e.joV(),e.j41(35,"div")(36,"label",7),e.EFF(37,"Token de verificaci\xf3n"),e.k0s(),e.j41(38,"div",64),e.nrm(39,"input",65),e.j41(40,"button",66),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.copyToClipboard((null==r.selectedPrescription?null:r.selectedPrescription.token)||""))}),e.qSk(),e.j41(41,"svg",67),e.nrm(42,"path",38),e.k0s()()()(),e.joV(),e.j41(43,"div")(44,"label",7),e.EFF(45,"URL de verificaci\xf3n"),e.k0s(),e.j41(46,"div",64),e.nrm(47,"input",68),e.j41(48,"button",66),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.copyToClipboard((null==r.selectedPrescription?null:r.selectedPrescription.qrUrl)||""))}),e.qSk(),e.j41(49,"svg",67),e.nrm(50,"path",38),e.k0s()()()(),e.joV(),e.j41(51,"div",69)(52,"div")(53,"label",7),e.EFF(54,"Hash de firma"),e.k0s(),e.j41(55,"p",70),e.EFF(56),e.k0s()(),e.j41(57,"div")(58,"label",7),e.EFF(59,"V\xe1lido hasta"),e.k0s(),e.j41(60,"p",71),e.EFF(61),e.k0s()()()()(),e.j41(62,"div",72)(63,"button",73),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.closeQRDialog())}),e.EFF(64," Cerrar "),e.k0s(),e.j41(65,"button",74),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.downloadQR())}),e.qSk(),e.j41(66,"svg",42),e.nrm(67,"path",75),e.k0s(),e.EFF(68," Descargar QR "),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(9),e.Lme(" Receta ",null==t.selectedPrescription?null:t.selectedPrescription.id," - ",null==t.selectedPrescription?null:t.selectedPrescription.patientName," "),e.R7$(11),e.JRh(null==t.selectedPrescription?null:t.selectedPrescription.qrCode),e.R7$(11),e.Y8G("value",null==t.selectedPrescription?null:t.selectedPrescription.qrCode),e.R7$(8),e.Y8G("value",null==t.selectedPrescription?null:t.selectedPrescription.token),e.R7$(8),e.Y8G("value",null==t.selectedPrescription?null:t.selectedPrescription.qrUrl),e.R7$(9),e.JRh(null==t.selectedPrescription?null:t.selectedPrescription.signatureHash),e.R7$(5),e.JRh(null==t.selectedPrescription?null:t.selectedPrescription.validUntil)}}let h=(()=>{class i{constructor(){this.qrCodeIcon=l.vW6,this.breadcrumbItems=[{label:"Firma y verificaci\xf3n",route:"/firma"},{label:"Generar/ver QR"}],this.signedPrescriptions=[{id:"RX-2024-0192",patientName:"Elena Mart\xednez",doctorName:"Dr. Carlos Mart\xednez",signedDate:"2024-10-01",signedTime:"08:30",qrCode:"QR-2024-0192-A3B5C7D9E1F2",qrUrl:"https://eprescription.hospital.com/verify/QR-2024-0192-A3B5C7D9E1F2",token:"VERIFY-0192-2024",certificateId:"CERT-DR-MARTINEZ-2024",signatureHash:"SHA256:a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6",status:"signed",validUntil:"2024-11-01"},{id:"RX-2024-0195",patientName:"Roberto S\xe1nchez",doctorName:"Farmac\xe9utica Ana Garc\xeda",signedDate:"2024-10-01",signedTime:"11:20",qrCode:"QR-2024-0195-B4C6D8E0F2G4",qrUrl:"https://eprescription.hospital.com/verify/QR-2024-0195-B4C6D8E0F2G4",token:"VERIFY-0195-2024",certificateId:"CERT-FARMACIA-2024",signatureHash:"SHA256:p6o5n4m3l2k1j0i9h8g7f6e5d4c3b2a1",status:"signed",validUntil:"2024-10-15"}],this.selectedPrescription=null,this.isQRDialogOpen=!1}get stats(){return{qrGenerated:this.signedPrescriptions.length,verified:45,pending:3}}openQRDialog(t){this.selectedPrescription=t,this.isQRDialogOpen=!0}closeQRDialog(){this.isQRDialogOpen=!1,this.selectedPrescription=null}copyToClipboard(t){navigator.clipboard.writeText(t).then(()=>{alert("Copiado al portapapeles")})}downloadQR(){this.selectedPrescription&&alert(`Descargando QR de la receta ${this.selectedPrescription.id}`)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-generar-qr"]],standalone:!0,features:[e.aNF],decls:63,vars:8,consts:[["title","Generar/Ver C\xf3digo QR","description","C\xf3digos de verificaci\xf3n para dispensaci\xf3n en farmacia","headerGradient","from-green-600 via-emerald-500 to-teal-600",3,"icon","breadcrumbItems"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-green-500"],[1,"p-6"],[1,"flex","items-center","justify-between"],[1,"space-y-1","flex-1"],[1,"text-sm","text-gray-600"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-3","bg-green-100","rounded-xl"],[1,"w-8","h-8","text-green-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-blue-500"],[1,"p-3","bg-blue-100","rounded-xl"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-purple-500"],[1,"p-3","bg-purple-100","rounded-xl"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-mono"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"text-gray-600"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[1,"font-mono","text-xs"],[1,"p-1","text-gray-400","hover:text-gray-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-purple-100","text-purple-800","border","border-purple-300","font-mono"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","text-sm","leading-4","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"relative","top-20","mx-auto","p-5","border","w-11/12","md:w-3/4","lg:w-1/2","shadow-lg","rounded-md","bg-white"],[1,"mt-3"],[1,"flex","items-center","gap-2","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-sm","text-gray-600","mb-6"],[1,"flex","justify-center"],[1,"bg-white","border-4","border-green-600","rounded-lg","p-6","shadow-lg"],[1,"w-64","h-64","bg-gray-100","rounded","flex","items-center","justify-center"],[1,"text-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400","mx-auto","mb-2"],[1,"text-sm","text-gray-500"],[1,"text-xs","text-gray-400","mt-1"],[1,"text-sm","text-gray-600","bg-green-50","px-4","py-2","rounded-lg","border","border-green-200","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"space-y-3"],[1,"flex","items-center","gap-2","mt-1"],["readonly","",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","font-mono","text-sm","bg-gray-50",3,"value"],[1,"px-3","py-2","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["readonly","",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm","bg-gray-50",3,"value"],[1,"grid","grid-cols-2","gap-4"],[1,"text-xs","font-mono","mt-1","break-all"],[1,"mt-1"],[1,"flex","justify-end","gap-3","mt-6"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","text-sm","font-medium","text-white","bg-green-600","border","border-transparent","rounded-md","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"]],template:function(n,r){1&n&&(e.j41(0,"app-page-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"p",7),e.EFF(8,"QR generados"),e.k0s(),e.j41(9,"p",8),e.EFF(10),e.k0s()(),e.j41(11,"div",9),e.nrm(12,"lucide-icon",10),e.k0s()()()(),e.j41(13,"div",11)(14,"div",4)(15,"div",5)(16,"div",6)(17,"p",7),e.EFF(18,"Verificados"),e.k0s(),e.j41(19,"p",8),e.EFF(20),e.k0s()(),e.j41(21,"div",12),e.qSk(),e.j41(22,"svg",13),e.nrm(23,"path",14),e.k0s()()()()(),e.joV(),e.j41(24,"div",15)(25,"div",4)(26,"div",5)(27,"div",6)(28,"p",7),e.EFF(29,"Pendientes"),e.k0s(),e.j41(30,"p",8),e.EFF(31),e.k0s()(),e.j41(32,"div",16),e.qSk(),e.j41(33,"svg",17),e.nrm(34,"path",18),e.k0s()()()()()(),e.joV(),e.j41(35,"div",19)(36,"div",20)(37,"h2",21),e.EFF(38,"Recetas con C\xf3digo QR"),e.k0s()(),e.j41(39,"div",4)(40,"div",22)(41,"table",23)(42,"thead",24)(43,"tr")(44,"th",25),e.EFF(45,"ID Receta"),e.k0s(),e.j41(46,"th",25),e.EFF(47,"Paciente"),e.k0s(),e.j41(48,"th",25),e.EFF(49,"M\xe9dico"),e.k0s(),e.j41(50,"th",25),e.EFF(51,"Fecha de firma"),e.k0s(),e.j41(52,"th",25),e.EFF(53,"C\xf3digo QR"),e.k0s(),e.j41(54,"th",25),e.EFF(55,"Token"),e.k0s(),e.j41(56,"th",25),e.EFF(57,"V\xe1lido hasta"),e.k0s(),e.j41(58,"th",26),e.EFF(59,"Acciones"),e.k0s()()(),e.j41(60,"tbody",27),e.DNE(61,g,31,8,"tr",28),e.k0s()()()()(),e.DNE(62,m,69,8,"div",29),e.k0s()()),2&n&&(e.Y8G("icon",r.qrCodeIcon)("breadcrumbItems",r.breadcrumbItems),e.R7$(10),e.JRh(r.stats.qrGenerated),e.R7$(2),e.Y8G("img",r.qrCodeIcon),e.R7$(8),e.JRh(r.stats.verified),e.R7$(11),e.JRh(r.stats.pending),e.R7$(30),e.Y8G("ngForOf",r.signedPrescriptions),e.R7$(),e.Y8G("ngIf",r.isQRDialogOpen))},dependencies:[s.MD,s.Sq,s.bT,p.YN,u.J,l.flO,l.WGl],encapsulation:2})}}return i})()}}]);