"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[3695],{3695:(F,m,a)=>{a.r(m),a.d(m,{PrescripcionesComponent:()=>v});var p=a(177),c=a(4341),g=a(6283),o=a(8516),e=a(4438);function u(n,l){if(1&n&&(e.j41(0,"div",58)(1,"div",59)(2,"div",60),e.nrm(3,"lucide-icon",61),e.k0s()(),e.j41(4,"h3",62),e.EFF(5,"No hay prescripciones"),e.k0s(),e.j41(6,"p",63),e.EFF(7),e.k0s()()),2&n){const i=e.XpG();e.R7$(3),e.Y8G("img",i.fileTextIcon),e.R7$(4),e.SpI(" ",i.searchTerm?"No se encontraron prescripciones que coincidan con tu b\xfasqueda.":"No tienes prescripciones registradas a\xfan."," ")}}function h(n,l){if(1&n){const i=e.RV6();e.j41(0,"button",88),e.bIt("click",function(){e.eBV(i);const r=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.editPrescription(r))}),e.nrm(1,"lucide-icon",49),e.EFF(2," Editar "),e.k0s()}if(2&n){const i=e.XpG(3);e.R7$(),e.Y8G("img",i.editIcon)}}function b(n,l){if(1&n){const i=e.RV6();e.j41(0,"tr",71),e.bIt("dblclick",function(){const r=e.eBV(i).$implicit,s=e.XpG(2);return e.Njj(s.viewPrescription(r))}),e.j41(1,"td",72)(2,"div",73),e.nrm(3,"lucide-icon",74),e.j41(4,"div",75)(5,"span",76),e.EFF(6),e.k0s()()()(),e.j41(7,"td",72)(8,"div")(9,"p",77),e.EFF(10),e.k0s(),e.j41(11,"p",78),e.EFF(12),e.k0s()()(),e.j41(13,"td",72)(14,"div",73),e.nrm(15,"lucide-icon",79),e.j41(16,"span",80),e.EFF(17),e.k0s()()(),e.j41(18,"td",72)(19,"div",73),e.nrm(20,"lucide-icon",81),e.j41(21,"span"),e.EFF(22),e.k0s()()(),e.j41(23,"td",72)(24,"div",73),e.nrm(25,"lucide-icon",79),e.j41(26,"span",80),e.EFF(27),e.k0s()()(),e.j41(28,"td",72)(29,"span",82),e.nrm(30,"lucide-icon",83),e.EFF(31),e.k0s()(),e.j41(32,"td",84)(33,"div",85)(34,"button",86),e.bIt("click",function(){const r=e.eBV(i).$implicit,s=e.XpG(2);return e.Njj(s.viewPrescription(r))}),e.nrm(35,"lucide-icon",49),e.EFF(36," Ver "),e.k0s(),e.DNE(37,h,3,1,"button",87),e.k0s()()()}if(2&n){const i=l.$implicit,t=e.XpG(2);e.R7$(3),e.Y8G("img",t.fileTextIcon),e.R7$(3),e.JRh(i.id),e.R7$(4),e.JRh(i.paciente.nombre),e.R7$(2),e.JRh(i.paciente.cedula),e.R7$(3),e.Y8G("img",t.userIcon),e.R7$(2),e.Lme("",i.paciente.edad," a\xf1os / ",i.paciente.genero,""),e.R7$(3),e.Y8G("img",t.pillIcon),e.R7$(2),e.JRh(i.medicamentos.length),e.R7$(3),e.Y8G("img",t.calendarIcon),e.R7$(2),e.JRh(i.fecha),e.R7$(2),e.HbH(t.getEstadoClass(i.estado)),e.R7$(),e.Y8G("img",t.getEstadoIcon(i.estado)),e.R7$(),e.SpI(" ",t.getEstadoTexto(i.estado)," "),e.R7$(4),e.Y8G("img",t.eyeIcon),e.R7$(2),e.Y8G("ngIf","borrador"===i.estado)}}function f(n,l){if(1&n&&(e.j41(0,"div",64)(1,"table",65)(2,"thead",66)(3,"tr")(4,"th",67),e.EFF(5,"N\xfamero de Receta"),e.k0s(),e.j41(6,"th",67),e.EFF(7,"Paciente"),e.k0s(),e.j41(8,"th",67),e.EFF(9,"Edad/Sexo"),e.k0s(),e.j41(10,"th",67),e.EFF(11,"Medicamentos"),e.k0s(),e.j41(12,"th",67),e.EFF(13,"Fecha"),e.k0s(),e.j41(14,"th",67),e.EFF(15,"Estado"),e.k0s(),e.j41(16,"th",68),e.EFF(17,"Acciones"),e.k0s()()(),e.j41(18,"tbody",69),e.DNE(19,b,38,17,"tr",70),e.k0s()()()),2&n){const i=e.XpG();e.R7$(19),e.Y8G("ngForOf",i.filteredPrescripciones)}}let v=(()=>{class n{constructor(i){this.router=i,this.plusIcon=o.FWt,this.searchIcon=o.vji,this.filterIcon=o.dJT,this.fileTextIcon=o.iUU,this.fileEditIcon=o.zwo,this.calendarIcon=o.VvS,this.userIcon=o.KJW,this.editIcon=o.ffu,this.eyeIcon=o.kU3,this.xIcon=o.X,this.checkCircleIcon=o.rAV,this.clockIcon=o.zD7,this.alertTriangleIcon=o.hcu,this.pillIcon=o.abF,this.barChartIcon=o.EsT,this.copyIcon=o.QRo,this.searchTerm="",this.statusFilter="",this.filteredPrescripciones=[],this.totalPrescripciones=0,this.totalBorradores=0,this.emitidas=0,this.totalMedicamentos=0,this.prescripciones=[{id:"RX-2025-009847",fecha:"27/09/2025",paciente:{nombre:"Mar\xeda Elena Gonz\xe1lez Rodr\xedguez",cedula:"CC-52.841.963",edad:45,genero:"F"},medico:{nombre:"Dr. Carlos Andr\xe9s Mart\xednez L\xf3pez",especialidad:"Medicina General"},medicamentos:[{nombre:"Ibuprofeno 400mg"},{nombre:"Omeprazol 20mg"},{nombre:"Paracetamol 500mg"}],estado:"emitida"},{id:"RX-2025-009846",fecha:"26/09/2025",paciente:{nombre:"Juan Carlos Mart\xednez L\xf3pez",cedula:"CC-43.729.541",edad:62,genero:"M"},medico:{nombre:"Dra. Mar\xeda Elena Rodr\xedguez Silva",especialidad:"Cardiolog\xeda"},medicamentos:[{nombre:"Atenolol 50mg"},{nombre:"Aspirina 100mg"}],estado:"dispensada"},{id:"RX-2025-009845",fecha:"26/09/2025",paciente:{nombre:"Ana Patricia Rojas Fern\xe1ndez",cedula:"CC-38.615.892",edad:38,genero:"F"},medico:{nombre:"Dr. Jorge Enrique Salazar Ram\xedrez",especialidad:"Pediatr\xeda"},medicamentos:[{nombre:"Amoxicilina 500mg"},{nombre:"Acetaminof\xe9n 500mg"},{nombre:"Loratadina 10mg"},{nombre:"Vitamina C 500mg"},{nombre:"Probi\xf3ticos"}],estado:"borrador"},{id:"RX-2025-009844",fecha:"25/09/2025",paciente:{nombre:"Roberto Jos\xe9 S\xe1nchez Mora",cedula:"CC-51.428.967",edad:51,genero:"M"},medico:{nombre:"Dr. Carlos Andr\xe9s Mart\xednez L\xf3pez",especialidad:"Medicina General"},medicamentos:[{nombre:"Metformina 850mg"}],estado:"emitida"},{id:"RX-2025-009843",fecha:"25/09/2025",paciente:{nombre:"Laura Sof\xeda D\xedaz Ram\xedrez",cedula:"CC-29.847.563",edad:29,genero:"F"},medico:{nombre:"Dra. Patricia Elena G\xf3mez Su\xe1rez",especialidad:"Ginecolog\xeda"},medicamentos:[{nombre:"\xc1cido F\xf3lico 5mg"},{nombre:"Hierro 65mg"},{nombre:"Vitamina D3 1000UI"},{nombre:"Calcio 600mg"}],estado:"borrador"}],this.filteredPrescripciones=[...this.prescripciones],this.calcularEstadisticas()}calcularEstadisticas(){this.totalPrescripciones=this.prescripciones.length,this.totalBorradores=this.prescripciones.filter(i=>"borrador"===i.estado).length,this.emitidas=this.prescripciones.filter(i=>"emitida"===i.estado&&"27/09/2025"===i.fecha).length,this.totalMedicamentos=this.prescripciones.reduce((i,t)=>i+t.medicamentos.length,0)}navigateToNewPrescription(){this.router.navigate(["/prescripciones/nueva"])}navigateToDrafts(){this.router.navigate(["/prescripciones/borradores"])}navigateToEmitted(){this.router.navigate(["/prescripciones/emitidas"])}navigateToDuplicate(){this.router.navigate(["/prescripciones/duplicar"])}viewPrescription(i){console.log("Ver prescripci\xf3n:",i)}editPrescription(i){console.log("Editar prescripci\xf3n:",i)}filterPrescriptions(){let i=[...this.prescripciones];if(this.searchTerm.trim()){const t=this.searchTerm.toLowerCase();i=i.filter(r=>r.id.toLowerCase().includes(t)||r.paciente.nombre.toLowerCase().includes(t)||r.paciente.cedula.toLowerCase().includes(t)||r.medico.nombre.toLowerCase().includes(t))}this.statusFilter&&(i=i.filter(t=>t.estado===this.statusFilter)),this.filteredPrescripciones=i}getEstadoClass(i){return{borrador:"bg-orange-100 text-orange-800 border-orange-200",emitida:"bg-blue-100 text-blue-800 border-blue-200",dispensada:"bg-green-100 text-green-800 border-green-200",cancelada:"bg-red-100 text-red-800 border-red-200"}[i]||"bg-gray-100 text-gray-800 border-gray-200"}getEstadoIcon(i){return{borrador:this.alertTriangleIcon,emitida:this.checkCircleIcon,dispensada:this.checkCircleIcon,cancelada:this.xIcon}[i]||this.clockIcon}getEstadoTexto(i){return{borrador:"Borrador",emitida:"Emitida",dispensada:"Dispensada",cancelada:"Cancelada"}[i]||i}static{this.\u0275fac=function(t){return new(t||n)(e.rXU(g.Ix))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-prescripciones"]],standalone:!0,features:[e.aNF],decls:125,vars:26,consts:[[1,"space-y-6"],[1,"relative","h-40","rounded-lg","overflow-hidden","bg-gradient-to-r","from-blue-600","to-blue-500"],[1,"absolute","inset-0","bg-gradient-to-r","from-blue-600/80","to-blue-500/60","flex","items-center","px-8"],[1,"text-white","text-2xl","mb-1"],[1,"text-white/90"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-blue-500","p-4"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"p-3","bg-blue-100","rounded-lg"],[1,"w-6","h-6","text-blue-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-orange-500","p-4"],[1,"p-3","bg-orange-100","rounded-lg"],[1,"w-6","h-6","text-orange-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-green-500","p-4"],[1,"p-3","bg-green-100","rounded-lg"],[1,"w-6","h-6","text-green-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-purple-500","p-4"],[1,"p-3","bg-purple-100","rounded-lg"],[1,"w-6","h-6","text-purple-600",3,"img"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","shadow","p-6","hover:shadow-md","transition-shadow","cursor-pointer",3,"click"],[1,"flex","items-center","space-x-4"],[1,"w-8","h-8","text-blue-600",3,"img"],[1,"text-lg","font-semibold","text-gray-900"],[1,"w-8","h-8","text-orange-600",3,"img"],[1,"w-8","h-8","text-green-600",3,"img"],[1,"p-3","bg-teal-100","rounded-lg"],[1,"w-8","h-8","text-teal-600",3,"img"],[1,"bg-white","rounded-lg","shadow","p-6"],[1,"flex","flex-col","md:flex-row","gap-4"],[1,"flex-1","relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-4","h-4","text-gray-400",3,"img"],["type","text","placeholder","Buscar por paciente, n\xfamero de receta o ID...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","input","ngModel"],[1,"flex","gap-2"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],["value",""],["value","borrador"],["value","emitida"],["value","dispensada"],["value","cancelada"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gradient-to-r","from-blue-50","to-white"],[1,"flex","items-center","space-x-3"],[1,"p-2","bg-blue-100","rounded-lg"],[1,"w-5","h-5","text-blue-600",3,"img"],[1,"text-sm","text-gray-600","mt-1"],[1,"px-3","py-2","text-sm","bg-blue-100","text-blue-700","rounded-lg","hover:bg-blue-200","flex","items-center","gap-2"],[1,"w-4","h-4",3,"img"],[1,"p-0"],["class","p-12 text-center",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-6"],[1,"flex","items-start","space-x-3"],[1,"w-5","h-5","text-blue-600","mt-0.5",3,"img"],[1,"font-medium","text-blue-900","mb-1"],[1,"text-sm","text-blue-800"],[1,"p-12","text-center"],[1,"flex","justify-center","mb-4"],[1,"p-4","bg-gray-100","rounded-full"],[1,"w-12","h-12","text-gray-400",3,"img"],[1,"text-lg","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-blue-50/50 cursor-pointer transition-all",3,"dblclick",4,"ngFor","ngForOf"],[1,"hover:bg-blue-50/50","cursor-pointer","transition-all",3,"dblclick"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],[1,"w-4","h-4","text-blue-600",3,"img"],[1,"flex","flex-col"],[1,"font-medium"],[1,"font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"w-4","h-4","text-gray-400",3,"img"],[1,"text-sm"],[1,"w-4","h-4","text-purple-600",3,"img"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full"],[1,"w-3","h-3","mr-1",3,"img"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","justify-end","gap-2"],[1,"text-blue-600","hover:text-blue-900","flex","items-center","gap-1",3,"click"],["class","text-green-600 hover:text-green-900 flex items-center gap-1",3,"click",4,"ngIf"],[1,"text-green-600","hover:text-green-900","flex","items-center","gap-1",3,"click"]],template:function(t,r){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3),e.EFF(5,"Prescripciones M\xe9dicas"),e.k0s(),e.j41(6,"p",4),e.EFF(7,"Centro de gesti\xf3n de recetas y prescripciones"),e.k0s()()()(),e.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"div")(12,"p",8),e.EFF(13,"Total Prescripciones"),e.k0s(),e.j41(14,"p",9),e.EFF(15),e.k0s()(),e.j41(16,"div",10),e.nrm(17,"lucide-icon",11),e.k0s()()(),e.j41(18,"div",12)(19,"div",7)(20,"div")(21,"p",8),e.EFF(22,"Borradores"),e.k0s(),e.j41(23,"p",9),e.EFF(24),e.k0s()(),e.j41(25,"div",13),e.nrm(26,"lucide-icon",14),e.k0s()()(),e.j41(27,"div",15)(28,"div",7)(29,"div")(30,"p",8),e.EFF(31,"Emitidas Hoy"),e.k0s(),e.j41(32,"p",9),e.EFF(33),e.k0s()(),e.j41(34,"div",16),e.nrm(35,"lucide-icon",17),e.k0s()()(),e.j41(36,"div",18)(37,"div",7)(38,"div")(39,"p",8),e.EFF(40,"Medicamentos"),e.k0s(),e.j41(41,"p",9),e.EFF(42),e.k0s()(),e.j41(43,"div",19),e.nrm(44,"lucide-icon",20),e.k0s()()()(),e.j41(45,"div",21)(46,"div",22),e.bIt("click",function(){return r.navigateToNewPrescription()}),e.j41(47,"div",23)(48,"div",10),e.nrm(49,"lucide-icon",24),e.k0s(),e.j41(50,"div")(51,"h3",25),e.EFF(52,"Nueva Receta"),e.k0s(),e.j41(53,"p",8),e.EFF(54,"Crear una nueva prescripci\xf3n m\xe9dica"),e.k0s()()()(),e.j41(55,"div",22),e.bIt("click",function(){return r.navigateToDrafts()}),e.j41(56,"div",23)(57,"div",13),e.nrm(58,"lucide-icon",26),e.k0s(),e.j41(59,"div")(60,"h3",25),e.EFF(61,"Mis Borradores"),e.k0s(),e.j41(62,"p",8),e.EFF(63),e.k0s()()()(),e.j41(64,"div",22),e.bIt("click",function(){return r.navigateToEmitted()}),e.j41(65,"div",23)(66,"div",16),e.nrm(67,"lucide-icon",27),e.k0s(),e.j41(68,"div")(69,"h3",25),e.EFF(70,"Recetas Emitidas"),e.k0s(),e.j41(71,"p",8),e.EFF(72,"Ver historial de prescripciones"),e.k0s()()()(),e.j41(73,"div",22),e.bIt("click",function(){return r.navigateToDuplicate()}),e.j41(74,"div",23)(75,"div",28),e.nrm(76,"lucide-icon",29),e.k0s(),e.j41(77,"div")(78,"h3",25),e.EFF(79,"Duplicar Receta"),e.k0s(),e.j41(80,"p",8),e.EFF(81,"Crear prescripci\xf3n basada en receta existente"),e.k0s()()()()(),e.j41(82,"div",30)(83,"div",31)(84,"div",32),e.nrm(85,"lucide-icon",33),e.j41(86,"input",34),e.mxI("ngModelChange",function(d){return e.DH7(r.searchTerm,d)||(r.searchTerm=d),d}),e.bIt("input",function(){return r.filterPrescriptions()}),e.k0s()(),e.j41(87,"div",35)(88,"select",36),e.mxI("ngModelChange",function(d){return e.DH7(r.statusFilter,d)||(r.statusFilter=d),d}),e.bIt("change",function(){return r.filterPrescriptions()}),e.j41(89,"option",37),e.EFF(90,"Todos los estados"),e.k0s(),e.j41(91,"option",38),e.EFF(92,"Borradores"),e.k0s(),e.j41(93,"option",39),e.EFF(94,"Emitidas"),e.k0s(),e.j41(95,"option",40),e.EFF(96,"Dispensadas"),e.k0s(),e.j41(97,"option",41),e.EFF(98,"Canceladas"),e.k0s()()()()(),e.j41(99,"div",42)(100,"div",43)(101,"div",7)(102,"div",44)(103,"div",45),e.nrm(104,"lucide-icon",46),e.k0s(),e.j41(105,"div")(106,"h3",25),e.EFF(107,"Prescripciones Recientes"),e.k0s(),e.j41(108,"p",47),e.EFF(109),e.k0s()()(),e.j41(110,"div",35)(111,"button",48),e.nrm(112,"lucide-icon",49),e.EFF(113," Reportes "),e.k0s()()()(),e.j41(114,"div",50),e.DNE(115,u,8,2,"div",51)(116,f,20,1,"div",52),e.k0s()(),e.j41(117,"div",53)(118,"div",54),e.nrm(119,"lucide-icon",55),e.j41(120,"div")(121,"h4",56),e.EFF(122,"Centro de Prescripciones"),e.k0s(),e.j41(123,"p",57),e.EFF(124," Desde aqu\xed puedes gestionar todas tus prescripciones m\xe9dicas. Haz doble clic en cualquier fila para ver detalles r\xe1pidos. Los borradores pueden editarse hasta que sean finalizados y firmados digitalmente. "),e.k0s()()()()()),2&t&&(e.R7$(15),e.JRh(r.totalPrescripciones),e.R7$(2),e.Y8G("img",r.fileTextIcon),e.R7$(7),e.JRh(r.totalBorradores),e.R7$(2),e.Y8G("img",r.fileEditIcon),e.R7$(7),e.JRh(r.emitidas),e.R7$(2),e.Y8G("img",r.checkCircleIcon),e.R7$(7),e.JRh(r.totalMedicamentos),e.R7$(2),e.Y8G("img",r.pillIcon),e.R7$(5),e.Y8G("img",r.plusIcon),e.R7$(9),e.Y8G("img",r.fileEditIcon),e.R7$(5),e.E5c("",r.totalBorradores," borrador",1!==r.totalBorradores?"es":""," pendiente",1!==r.totalBorradores?"s":"",""),e.R7$(4),e.Y8G("img",r.checkCircleIcon),e.R7$(9),e.Y8G("img",r.copyIcon),e.R7$(9),e.Y8G("img",r.searchIcon),e.R7$(),e.R50("ngModel",r.searchTerm),e.R7$(2),e.R50("ngModel",r.statusFilter),e.R7$(16),e.Y8G("img",r.fileTextIcon),e.R7$(5),e.E5c(" ",r.filteredPrescripciones.length," prescripci\xf3n",1!==r.filteredPrescripciones.length?"es":""," encontrada",1!==r.filteredPrescripciones.length?"s":""," "),e.R7$(3),e.Y8G("img",r.barChartIcon),e.R7$(3),e.Y8G("ngIf",0===r.filteredPrescripciones.length),e.R7$(),e.Y8G("ngIf",r.filteredPrescripciones.length>0),e.R7$(3),e.Y8G("img",r.alertTriangleIcon))},dependencies:[p.MD,p.Sq,p.bT,c.YN,c.xH,c.y7,c.me,c.wz,c.BC,c.vS,g.iI,o.flO,o.WGl],encapsulation:2})}}return n})()}}]);