"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[482],{482:(E,m,d)=>{d.r(m),d.d(m,{ActividadMedicoComponent:()=>x});var l=d(177),n=d(4341),o=d(8516),g=d(8961),e=d(4438),u=d(2957),b=d(1822);function F(s,c){if(1&s&&(e.j41(0,"span",63),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.criticalAlerts," cr\xedticas ")}}function h(s,c){if(1&s){const t=e.RV6();e.j41(0,"tr")(1,"td",46)(2,"div",47)(3,"div",48),e.nrm(4,"lucide-icon",49),e.k0s(),e.j41(5,"div")(6,"p",50),e.EFF(7),e.k0s(),e.j41(8,"p",7),e.EFF(9),e.k0s()()()(),e.j41(10,"td",51),e.EFF(11),e.k0s(),e.j41(12,"td",52)(13,"span",53),e.EFF(14),e.k0s()(),e.j41(15,"td",52)(16,"div",54)(17,"span",55),e.EFF(18),e.k0s(),e.j41(19,"span",56),e.EFF(20),e.k0s()()(),e.j41(21,"td",52)(22,"span",57),e.EFF(23),e.k0s()(),e.j41(24,"td",52)(25,"span",58),e.EFF(26),e.k0s()(),e.j41(27,"td",52),e.EFF(28),e.k0s(),e.j41(29,"td",52)(30,"div",59),e.DNE(31,F,2,1,"span",60),e.j41(32,"span",61),e.EFF(33),e.k0s()()(),e.j41(34,"td",52)(35,"button",62),e.bIt("click",function(){const r=e.eBV(t).$implicit,p=e.XpG();return e.Njj(p.openDoctorDetails(r))}),e.nrm(36,"lucide-icon",35),e.EFF(37," Detalles "),e.k0s()()()}if(2&s){const t=c.$implicit,i=e.XpG();e.R7$(4),e.Y8G("img",i.stethoscopeIcon),e.R7$(3),e.JRh(t.doctorName),e.R7$(2),e.JRh(t.department),e.R7$(2),e.JRh(t.specialty),e.R7$(3),e.JRh(t.totalPrescriptions),e.R7$(4),e.JRh(t.dispensedPrescriptions),e.R7$(2),e.SpI(" ",(t.dispensedPrescriptions/t.totalPrescriptions*100).toFixed(0),"% "),e.R7$(3),e.JRh(t.rejectedPrescriptions),e.R7$(3),e.SpI(" ",t.averagePerDay.toFixed(1)," "),e.R7$(2),e.JRh(t.totalPatients),e.R7$(3),e.Y8G("ngIf",t.criticalAlerts>0),e.R7$(2),e.SpI(" ",t.moderateAlerts," moderadas "),e.R7$(3),e.Y8G("img",i.eyeIcon)}}function v(s,c){if(1&s){const t=e.RV6();e.j41(0,"div",64),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.closeDetailsPanel())}),e.j41(1,"div",65),e.bIt("click",function(r){return e.eBV(t),e.Njj(r.stopPropagation())}),e.j41(2,"div",36)(3,"h2",66),e.EFF(4),e.k0s(),e.j41(5,"p",67),e.EFF(6),e.k0s()(),e.j41(7,"div",68)(8,"div",69)(9,"div",70)(10,"p",71),e.EFF(11),e.k0s(),e.j41(12,"p",72),e.EFF(13,"Total recetas"),e.k0s()(),e.j41(14,"div",73)(15,"p",74),e.EFF(16),e.k0s(),e.j41(17,"p",72),e.EFF(18,"Dispensadas"),e.k0s()(),e.j41(19,"div",75)(20,"p",76),e.EFF(21),e.k0s(),e.j41(22,"p",72),e.EFF(23,"Pacientes"),e.k0s()()(),e.j41(24,"div",77)(25,"div")(26,"label",7),e.EFF(27,"Promedio por d\xeda"),e.k0s(),e.j41(28,"p",78),e.EFF(29),e.k0s()(),e.j41(30,"div")(31,"label",7),e.EFF(32,"Medicamento m\xe1s prescrito"),e.k0s(),e.j41(33,"p",79),e.EFF(34),e.k0s()(),e.j41(35,"div")(36,"label",7),e.EFF(37,"D\xedas trabajados"),e.k0s(),e.j41(38,"p",79),e.EFF(39),e.k0s()(),e.j41(40,"div")(41,"label",7),e.EFF(42,"Costo total prescripciones"),e.k0s(),e.j41(43,"p",80),e.EFF(44),e.k0s()()(),e.j41(45,"div")(46,"label",81),e.EFF(47,"Alertas cl\xednicas"),e.k0s(),e.j41(48,"div",82)(49,"div",83)(50,"span",84),e.EFF(51,"Alertas cr\xedticas"),e.k0s(),e.j41(52,"span",63),e.EFF(53),e.k0s()(),e.j41(54,"div",85)(55,"span",86),e.EFF(56,"Alertas moderadas"),e.k0s(),e.j41(57,"span",61),e.EFF(58),e.k0s()()()(),e.j41(59,"div")(60,"label",81),e.EFF(61,"Estado de prescripciones"),e.k0s(),e.j41(62,"div",87)(63,"div",88)(64,"span",89),e.EFF(65,"Activas"),e.k0s(),e.j41(66,"span",53),e.EFF(67),e.k0s()(),e.j41(68,"div",88)(69,"span",89),e.EFF(70,"Pendientes"),e.k0s(),e.j41(71,"span",90),e.EFF(72),e.k0s()(),e.j41(73,"div",88)(74,"span",89),e.EFF(75,"Rechazadas"),e.k0s(),e.j41(76,"span",57),e.EFF(77),e.k0s()()()()(),e.j41(78,"div",91)(79,"button",92),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.closeDetailsPanel())}),e.EFF(80," Cerrar "),e.k0s(),e.j41(81,"button",93),e.nrm(82,"lucide-icon",35),e.EFF(83," Exportar detalles "),e.k0s()()()()}if(2&s){const t=e.XpG();e.R7$(4),e.SpI("Detalles de Actividad: ",t.selectedDoctor.doctorName,""),e.R7$(2),e.Lme("",t.selectedDoctor.specialty," - ",t.selectedDoctor.department,""),e.R7$(5),e.JRh(t.selectedDoctor.totalPrescriptions),e.R7$(5),e.JRh(t.selectedDoctor.dispensedPrescriptions),e.R7$(5),e.JRh(t.selectedDoctor.totalPatients),e.R7$(8),e.SpI("",t.selectedDoctor.averagePerDay.toFixed(1)," recetas"),e.R7$(5),e.JRh(t.selectedDoctor.mostPrescribedMedicine),e.R7$(5),e.SpI("",t.selectedDoctor.workingDays," d\xedas"),e.R7$(5),e.SpI("$",t.selectedDoctor.totalCost.toFixed(2),""),e.R7$(9),e.SpI(" ",t.selectedDoctor.criticalAlerts," "),e.R7$(5),e.SpI(" ",t.selectedDoctor.moderateAlerts," "),e.R7$(9),e.JRh(t.selectedDoctor.activePrescriptions),e.R7$(5),e.JRh(t.selectedDoctor.pendingPrescriptions),e.R7$(5),e.JRh(t.selectedDoctor.rejectedPrescriptions),e.R7$(5),e.Y8G("img",t.downloadIcon)}}let x=(()=>{class s{constructor(t,i){this.roleSuggestionService=t,this.roleDemoService=i,this.barChart3Icon=o.VH9,this.usersIcon=o.zWC,this.fileTextIcon=o.iUU,this.trendingUpIcon=o.ntg,this.checkCircle2Icon=o.Jly,this.dollarSignIcon=o.G9t,this.searchIcon=o.vji,this.downloadIcon=o.f5X,this.eyeIcon=o.kU3,this.stethoscopeIcon=o.oYO,this.alertTriangleIcon=o.hcu,this.searchTerm="",this.periodFilter="current_month",this.selectedDoctor=null,this.isDetailsPanelOpen=!1,this.breadcrumbItems=[{label:"Reportes y Anal\xedtica",route:"/reportes"},{label:"Actividad por M\xe9dico"}],this.doctors=[{id:"DOC-001",doctorName:"Dr. Carlos Andr\xe9s Mart\xednez L\xf3pez",specialty:"Medicina Interna",department:"Consulta Externa",period:"Septiembre 2024",totalPrescriptions:156,activePrescriptions:142,dispensedPrescriptions:128,pendingPrescriptions:14,rejectedPrescriptions:12,averagePerDay:5.2,mostPrescribedMedicine:"Paracetamol 500mg",totalPatients:98,criticalAlerts:3,moderateAlerts:12,totalCost:8456.32,workingDays:30},{id:"DOC-002",doctorName:"Dra. Laura Sof\xeda Ram\xedrez G\xf3mez",specialty:"Medicina Familiar",department:"Direcci\xf3n M\xe9dica",period:"Septiembre 2024",totalPrescriptions:234,activePrescriptions:198,dispensedPrescriptions:187,pendingPrescriptions:11,rejectedPrescriptions:25,averagePerDay:7.8,mostPrescribedMedicine:"Losart\xe1n 50mg",totalPatients:145,criticalAlerts:5,moderateAlerts:18,totalCost:12678.45,workingDays:30},{id:"DOC-003",doctorName:"Dra. Isabel Moreno Castro",specialty:"Cardiolog\xeda",department:"Cardiolog\xeda",period:"Septiembre 2024",totalPrescriptions:189,activePrescriptions:167,dispensedPrescriptions:156,pendingPrescriptions:11,rejectedPrescriptions:18,averagePerDay:6.3,mostPrescribedMedicine:"Atorvastatina 20mg",totalPatients:112,criticalAlerts:7,moderateAlerts:24,totalCost:15234.78,workingDays:30},{id:"DOC-004",doctorName:"Dr. Jos\xe9 Luis Torres Mendoza",specialty:"Endocrinolog\xeda",department:"Medicina Especializada",period:"Septiembre 2024",totalPrescriptions:198,activePrescriptions:176,dispensedPrescriptions:165,pendingPrescriptions:11,rejectedPrescriptions:20,averagePerDay:6.6,mostPrescribedMedicine:"Metformina 850mg",totalPatients:124,criticalAlerts:4,moderateAlerts:16,totalCost:9876.54,workingDays:30},{id:"DOC-005",doctorName:"Dr. Miguel \xc1ngel Ruiz S\xe1nchez",specialty:"Medicina General",department:"Urgencias",period:"Septiembre 2024",totalPrescriptions:312,activePrescriptions:278,dispensedPrescriptions:261,pendingPrescriptions:17,rejectedPrescriptions:29,averagePerDay:10.4,mostPrescribedMedicine:"Ibuprofeno 400mg",totalPatients:198,criticalAlerts:8,moderateAlerts:31,totalCost:11234.89,workingDays:30}]}ngOnInit(){}ngOnDestroy(){this.roleSubscription&&this.roleSubscription.unsubscribe()}get filteredDoctors(){return this.doctors.filter(t=>t.doctorName.toLowerCase().includes(this.searchTerm.toLowerCase())||t.specialty.toLowerCase().includes(this.searchTerm.toLowerCase())||t.department.toLowerCase().includes(this.searchTerm.toLowerCase()))}get totalStats(){return{prescriptions:this.doctors.reduce((t,i)=>t+i.totalPrescriptions,0),patients:this.doctors.reduce((t,i)=>t+i.totalPatients,0),dispensed:this.doctors.reduce((t,i)=>t+i.dispensedPrescriptions,0),totalCost:this.doctors.reduce((t,i)=>t+i.totalCost,0),averagePerDoctor:this.doctors.reduce((t,i)=>t+i.totalPrescriptions,0)/this.doctors.length}}openDoctorDetails(t){this.selectedDoctor=t,this.isDetailsPanelOpen=!0}closeDetailsPanel(){this.isDetailsPanelOpen=!1,this.selectedDoctor=null}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.i),e.rXU(b.z))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-actividad-medico"]],standalone:!0,features:[e.aNF],decls:100,vars:18,consts:[["title","Actividad por M\xe9dico","description","An\xe1lisis estad\xedstico de prescripciones por profesional","headerGradient","from-blue-600 via-indigo-500 to-purple-600",3,"icon","breadcrumbItems"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-blue-500"],[1,"p-6"],[1,"flex","items-center","justify-between"],[1,"space-y-1","flex-1"],[1,"text-sm","text-gray-600"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-3","bg-blue-100","rounded-xl"],[1,"w-8","h-8","text-blue-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-green-500"],[1,"p-3","bg-green-100","rounded-xl"],[1,"w-8","h-8","text-green-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-purple-500"],[1,"p-3","bg-purple-100","rounded-xl"],[1,"w-8","h-8","text-purple-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-orange-500"],[1,"p-3","bg-orange-100","rounded-xl"],[1,"w-8","h-8","text-orange-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-cyan-500"],[1,"text-2xl","font-bold","text-gray-900"],[1,"p-3","bg-cyan-100","rounded-xl"],[1,"w-8","h-8","text-cyan-600",3,"img"],[1,"bg-white","rounded-lg","shadow"],[1,"flex","gap-4"],[1,"flex-1","relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-4","h-4","text-gray-400",3,"img"],["type","text","placeholder","Buscar por m\xe9dico, especialidad o departamento...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-md","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"px-4","py-2","border","border-gray-300","rounded-md","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["value","current_month"],["value","last_month"],["value","last_3_months"],["value","year_to_date"],[1,"flex","items-center","gap-2","px-4","py-2","border","border-gray-300","rounded-md","hover:bg-gray-50"],[1,"w-4","h-4",3,"img"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase"],[1,"divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",3,"click",4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-blue-100","flex","items-center","justify-center"],[1,"w-5","h-5","text-blue-600",3,"img"],[1,"font-medium"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-right"],[1,"font-semibold"],[1,"flex","flex-col","items-end"],[1,"font-semibold","text-green-600"],[1,"text-xs","text-gray-600"],[1,"font-semibold","text-red-600"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-700","border","border-blue-300"],[1,"flex","flex-col","items-end","gap-1"],["class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700 border border-red-300",4,"ngIf"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-yellow-100","text-yellow-700","border","border-yellow-300"],[1,"inline-flex","items-center","gap-2","px-3","py-1","border","border-gray-300","rounded-md","text-sm","hover:bg-gray-50",3,"click"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-red-100","text-red-700","border","border-red-300"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","max-w-3xl","w-full","mx-4","max-h-[90vh]","overflow-y-auto",3,"click"],[1,"text-xl","font-semibold"],[1,"text-gray-600"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-3","gap-4"],[1,"text-center","p-4","bg-blue-50","rounded-lg"],[1,"text-3xl","font-semibold","text-blue-600"],[1,"text-sm","text-gray-600","mt-1"],[1,"text-center","p-4","bg-green-50","rounded-lg"],[1,"text-3xl","font-semibold","text-green-600"],[1,"text-center","p-4","bg-purple-50","rounded-lg"],[1,"text-3xl","font-semibold","text-purple-600"],[1,"grid","grid-cols-2","gap-4"],[1,"text-xl","font-semibold","mt-1"],[1,"font-medium","mt-1"],[1,"text-xl","font-semibold","mt-1","text-cyan-600"],[1,"text-sm","text-gray-600","mb-3","block"],[1,"grid","grid-cols-2","gap-3"],[1,"flex","items-center","justify-between","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-sm","font-medium","text-red-900"],[1,"flex","items-center","justify-between","p-3","bg-yellow-50","border","border-yellow-200","rounded-lg"],[1,"text-sm","font-medium","text-yellow-900"],[1,"space-y-2"],[1,"flex","items-center","justify-between","p-2","border","rounded"],[1,"text-sm"],[1,"font-semibold","text-orange-600"],[1,"px-6","py-4","border-t","border-gray-200","flex","justify-end","gap-3"],[1,"px-4","py-2","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],[1,"flex","items-center","gap-2","px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700"]],template:function(i,r){1&i&&(e.j41(0,"app-page-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"p",7),e.EFF(8,"Total recetas"),e.k0s(),e.j41(9,"p",8),e.EFF(10),e.k0s()(),e.j41(11,"div",9),e.nrm(12,"lucide-icon",10),e.k0s()()()(),e.j41(13,"div",11)(14,"div",4)(15,"div",5)(16,"div",6)(17,"p",7),e.EFF(18,"Pacientes"),e.k0s(),e.j41(19,"p",8),e.EFF(20),e.k0s()(),e.j41(21,"div",12),e.nrm(22,"lucide-icon",13),e.k0s()()()(),e.j41(23,"div",14)(24,"div",4)(25,"div",5)(26,"div",6)(27,"p",7),e.EFF(28,"Dispensadas"),e.k0s(),e.j41(29,"p",8),e.EFF(30),e.k0s()(),e.j41(31,"div",15),e.nrm(32,"lucide-icon",16),e.k0s()()()(),e.j41(33,"div",17)(34,"div",4)(35,"div",5)(36,"div",6)(37,"p",7),e.EFF(38,"Promedio/m\xe9dico"),e.k0s(),e.j41(39,"p",8),e.EFF(40),e.k0s()(),e.j41(41,"div",18),e.nrm(42,"lucide-icon",19),e.k0s()()()(),e.j41(43,"div",20)(44,"div",4)(45,"div",5)(46,"div",6)(47,"p",7),e.EFF(48,"Costo total"),e.k0s(),e.j41(49,"p",21),e.EFF(50),e.k0s()(),e.j41(51,"div",22),e.nrm(52,"lucide-icon",23),e.k0s()()()()(),e.j41(53,"div",24)(54,"div",4)(55,"div",25)(56,"div",26),e.nrm(57,"lucide-icon",27),e.j41(58,"input",28),e.mxI("ngModelChange",function(a){return e.DH7(r.searchTerm,a)||(r.searchTerm=a),a}),e.k0s()(),e.j41(59,"select",29),e.mxI("ngModelChange",function(a){return e.DH7(r.periodFilter,a)||(r.periodFilter=a),a}),e.j41(60,"option",30),e.EFF(61,"Mes actual"),e.k0s(),e.j41(62,"option",31),e.EFF(63,"Mes anterior"),e.k0s(),e.j41(64,"option",32),e.EFF(65,"\xdaltimos 3 meses"),e.k0s(),e.j41(66,"option",33),e.EFF(67,"A\xf1o en curso"),e.k0s()(),e.j41(68,"button",34),e.nrm(69,"lucide-icon",35),e.EFF(70," Exportar "),e.k0s()()()(),e.j41(71,"div",24)(72,"div",36)(73,"h2",37),e.EFF(74,"Estad\xedsticas por M\xe9dico"),e.k0s()(),e.j41(75,"div",38)(76,"table",39)(77,"thead",40)(78,"tr")(79,"th",41),e.EFF(80,"M\xe9dico"),e.k0s(),e.j41(81,"th",41),e.EFF(82,"Especialidad"),e.k0s(),e.j41(83,"th",42),e.EFF(84,"Total recetas"),e.k0s(),e.j41(85,"th",42),e.EFF(86,"Dispensadas"),e.k0s(),e.j41(87,"th",42),e.EFF(88,"Rechazadas"),e.k0s(),e.j41(89,"th",42),e.EFF(90,"Promedio/d\xeda"),e.k0s(),e.j41(91,"th",42),e.EFF(92,"Pacientes"),e.k0s(),e.j41(93,"th",42),e.EFF(94,"Alertas"),e.k0s(),e.j41(95,"th",42),e.EFF(96,"Acciones"),e.k0s()()(),e.j41(97,"tbody",43),e.DNE(98,h,38,13,"tr",44),e.k0s()()()(),e.DNE(99,v,84,16,"div",45),e.k0s()()),2&i&&(e.Y8G("icon",r.barChart3Icon)("breadcrumbItems",r.breadcrumbItems),e.R7$(10),e.JRh(r.totalStats.prescriptions),e.R7$(2),e.Y8G("img",r.fileTextIcon),e.R7$(8),e.JRh(r.totalStats.patients),e.R7$(2),e.Y8G("img",r.usersIcon),e.R7$(8),e.JRh(r.totalStats.dispensed),e.R7$(2),e.Y8G("img",r.checkCircle2Icon),e.R7$(8),e.JRh(r.totalStats.averagePerDoctor.toFixed(0)),e.R7$(2),e.Y8G("img",r.trendingUpIcon),e.R7$(8),e.SpI("$",r.totalStats.totalCost.toFixed(2),""),e.R7$(2),e.Y8G("img",r.dollarSignIcon),e.R7$(5),e.Y8G("img",r.searchIcon),e.R7$(),e.R50("ngModel",r.searchTerm),e.R7$(),e.R50("ngModel",r.periodFilter),e.R7$(10),e.Y8G("img",r.downloadIcon),e.R7$(29),e.Y8G("ngForOf",r.filteredDoctors),e.R7$(),e.Y8G("ngIf",r.selectedDoctor&&r.isDetailsPanelOpen))},dependencies:[l.MD,l.Sq,l.bT,n.YN,n.xH,n.y7,n.me,n.wz,n.BC,n.vS,o.flO,o.WGl,g.J],encapsulation:2})}}return s})()}}]);