"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[4441],{4441:(C,u,l)=>{l.r(u),l.d(u,{CatalogosMedicamentosComponent:()=>j});var m=l(177),s=l(4341),r=l(8516),g=l(8961),e=l(4438);function p(a,c){if(1&a&&(e.j41(0,"div",42)(1,"div",43)(2,"div",44),e.nrm(3,"lucide-icon",45),e.k0s()(),e.j41(4,"h3",46),e.EFF(5,"No hay medicamentos"),e.k0s(),e.j41(6,"p",47),e.EFF(7),e.k0s()()),2&a){const t=e.XpG();e.R7$(3),e.Y8G("img",t.pillIcon),e.R7$(4),e.SpI(" ",t.terminoBusqueda?"No se encontraron medicamentos que coincidan con tu b\xfasqueda.":"No hay medicamentos registrados en el cat\xe1logo."," ")}}function _(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",67),e.bIt("click",function(o){return e.eBV(t),e.Njj(o.stopPropagation())}),e.j41(1,"div",68)(2,"div",69),e.EFF(3," Acciones "),e.k0s(),e.j41(4,"button",70),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG(2);return i.editarMedicamento(o),e.Njj(i.cerrarModalAcciones())}),e.nrm(5,"lucide-icon",71),e.EFF(6," Editar "),e.k0s()()()}if(2&a){const t=e.XpG(3);e.R7$(5),e.Y8G("img",t.editIcon)}}function b(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr",55),e.bIt("dblclick",function(){const o=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.editarMedicamento(o))}),e.j41(1,"td",56)(2,"div",57),e.nrm(3,"lucide-icon",58),e.j41(4,"span",59),e.EFF(5),e.k0s()()(),e.j41(6,"td",60),e.EFF(7),e.k0s(),e.j41(8,"td",60),e.EFF(9),e.k0s(),e.j41(10,"td",56)(11,"span",61),e.EFF(12),e.k0s()(),e.j41(13,"td",56)(14,"span"),e.nrm(15,"lucide-icon",62),e.EFF(16),e.k0s()(),e.j41(17,"td",63)(18,"div",64)(19,"button",65),e.bIt("click",function(o){const i=e.eBV(t).$implicit;return e.XpG(2).toggleAccionesModal(i.id),e.Njj(o.stopPropagation())}),e.nrm(20,"lucide-icon",2),e.k0s(),e.DNE(21,_,7,1,"div",66),e.k0s()()()}if(2&a){const t=c.$implicit,n=e.XpG(2);e.R7$(3),e.Y8G("img",n.pillIcon),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.concentration),e.R7$(2),e.JRh(t.presentation),e.R7$(3),e.JRh(t.atc),e.R7$(2),e.HbH(n.getEstadoClasses(t.status)),e.R7$(),e.Y8G("img",n.getEstadoIcon(t.status)),e.R7$(),e.SpI(" ",n.getEstadoTexto(t.status)," "),e.R7$(4),e.Y8G("img",n.moreVerticalIcon),e.R7$(),e.Y8G("ngIf",n.modalAccionesAbierto===t.id)}}function h(a,c){if(1&a&&(e.j41(0,"div",48)(1,"table",49)(2,"thead",50)(3,"tr")(4,"th",51),e.EFF(5,"Medicamento"),e.k0s(),e.j41(6,"th",51),e.EFF(7,"Concentraci\xf3n"),e.k0s(),e.j41(8,"th",51),e.EFF(9,"Presentaci\xf3n"),e.k0s(),e.j41(10,"th",51),e.EFF(11,"C\xf3digo ATC"),e.k0s(),e.j41(12,"th",51),e.EFF(13,"Estado"),e.k0s(),e.j41(14,"th",52),e.EFF(15,"Acciones"),e.k0s()()(),e.j41(16,"tbody",53),e.DNE(17,b,22,11,"tr",54),e.k0s()()()),2&a){const t=e.XpG();e.R7$(17),e.Y8G("ngForOf",t.medicamentosPaginados)}}function f(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",78),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.cambiarPagina(o))}),e.EFF(1),e.k0s()}if(2&a){const t=c.$implicit,n=e.XpG(2);e.HbH(t===n.paginaActual?"px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-blue-600 rounded-md":"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50"),e.R7$(),e.SpI(" ",t," ")}}function F(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",72)(1,"div",7)(2,"div",73),e.EFF(3),e.k0s(),e.j41(4,"div",57)(5,"button",74),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cambiarPagina(o.paginaActual-1))}),e.nrm(6,"lucide-icon",75),e.EFF(7," Anterior "),e.k0s(),e.j41(8,"div",76),e.DNE(9,f,2,3,"button",77),e.k0s(),e.j41(10,"button",74),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cambiarPagina(o.paginaActual+1))}),e.EFF(11," Siguiente "),e.nrm(12,"lucide-icon",75),e.k0s()()()()}if(2&a){const t=e.XpG();e.R7$(3),e.E5c(" Mostrando ",(t.paginaActual-1)*t.elementosPorPagina+1," a ",t.Math.min(t.paginaActual*t.elementosPorPagina,t.medicamentosFiltrados.length)," de ",t.medicamentosFiltrados.length," medicamentos "),e.R7$(2),e.Y8G("disabled",1===t.paginaActual),e.R7$(),e.Y8G("img",t.chevronLeftIcon),e.R7$(3),e.Y8G("ngForOf",t.getPaginas()),e.R7$(),e.Y8G("disabled",t.paginaActual===t.totalPaginas),e.R7$(2),e.Y8G("img",t.chevronRightIcon)}}function v(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",79),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cerrarModalNuevo())}),e.j41(1,"div",80),e.nrm(2,"div",81),e.j41(3,"div",82),e.bIt("click",function(o){return e.eBV(t),e.Njj(o.stopPropagation())}),e.j41(4,"div",83)(5,"div",7)(6,"div",84),e.nrm(7,"lucide-icon",2),e.j41(8,"h2",85),e.EFF(9,"Nuevo Medicamento"),e.k0s()(),e.j41(10,"button",86),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cerrarModalNuevo())}),e.nrm(11,"lucide-icon",2),e.k0s()(),e.j41(12,"p",87),e.EFF(13,"Agregue un nuevo medicamento al vadem\xe9cum institucional"),e.k0s()(),e.j41(14,"div",88)(15,"div",89)(16,"div",90)(17,"h3",59),e.EFF(18,"Informaci\xf3n b\xe1sica"),e.k0s()(),e.j41(19,"div",91)(20,"div",92)(21,"label",93),e.EFF(22," Nombre del medicamento "),e.j41(23,"span",94),e.EFF(24,"*"),e.k0s()(),e.j41(25,"input",95),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.nuevoMedicamento.name,o)||(i.nuevoMedicamento.name=o),e.Njj(o)}),e.k0s()(),e.j41(26,"div")(27,"label",93),e.EFF(28," Concentraci\xf3n "),e.j41(29,"span",94),e.EFF(30,"*"),e.k0s()(),e.j41(31,"input",96),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.nuevoMedicamento.concentration,o)||(i.nuevoMedicamento.concentration=o),e.Njj(o)}),e.k0s()(),e.j41(32,"div")(33,"label",93),e.EFF(34," Presentaci\xf3n "),e.j41(35,"span",94),e.EFF(36,"*"),e.k0s()(),e.j41(37,"select",97),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.nuevoMedicamento.presentation,o)||(i.nuevoMedicamento.presentation=o),e.Njj(o)}),e.j41(38,"option",98),e.EFF(39,"Tableta"),e.k0s(),e.j41(40,"option",99),e.EFF(41,"C\xe1psula"),e.k0s(),e.j41(42,"option",100),e.EFF(43,"Jarabe"),e.k0s(),e.j41(44,"option",101),e.EFF(45,"Suspensi\xf3n"),e.k0s(),e.j41(46,"option",102),e.EFF(47,"Soluci\xf3n inyectable"),e.k0s(),e.j41(48,"option",103),e.EFF(49,"Ampolla"),e.k0s(),e.j41(50,"option",104),e.EFF(51,"Crema"),e.k0s(),e.j41(52,"option",105),e.EFF(53,"Ung\xfcento"),e.k0s(),e.j41(54,"option",106),e.EFF(55,"Gel"),e.k0s(),e.j41(56,"option",107),e.EFF(57,"Supositorio"),e.k0s(),e.j41(58,"option",108),e.EFF(59,"\xd3vulo"),e.k0s(),e.j41(60,"option",109),e.EFF(61,"Parche"),e.k0s(),e.j41(62,"option",110),e.EFF(63,"Inhalador"),e.k0s(),e.j41(64,"option",111),e.EFF(65,"Gotas"),e.k0s()()(),e.j41(66,"div",92)(67,"label",93),e.EFF(68," C\xf3digo ATC "),e.j41(69,"span",94),e.EFF(70,"*"),e.k0s()(),e.j41(71,"input",112),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.nuevoMedicamento.atc,o)||(i.nuevoMedicamento.atc=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.nuevoMedicamento.atc=o.nuevoMedicamento.atc.toUpperCase())}),e.k0s(),e.j41(72,"p",113),e.EFF(73," Formato: 1 letra + 2 d\xedgitos + 2 letras + 2 d\xedgitos "),e.k0s()()()()(),e.j41(74,"div",114)(75,"button",115),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cerrarModalNuevo())}),e.EFF(76," Cancelar "),e.k0s(),e.j41(77,"button",116),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.agregarMedicamento())}),e.nrm(78,"lucide-icon",75),e.EFF(79," Agregar medicamento "),e.k0s()()()()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("img",t.pillIcon),e.R7$(4),e.Y8G("img",t.xIcon),e.R7$(14),e.R50("ngModel",t.nuevoMedicamento.name),e.R7$(6),e.R50("ngModel",t.nuevoMedicamento.concentration),e.R7$(6),e.R50("ngModel",t.nuevoMedicamento.presentation),e.R7$(34),e.R50("ngModel",t.nuevoMedicamento.atc),e.R7$(7),e.Y8G("img",t.plusIcon)}}function x(a,c){if(1&a&&(e.j41(0,"div",137)(1,"div",84),e.nrm(2,"lucide-icon",138),e.j41(3,"p",139),e.EFF(4," Hay cambios sin guardar. Recuerde guardar antes de cerrar. "),e.k0s()()()),2&a){const t=e.XpG(2);e.R7$(2),e.Y8G("img",t.alertTriangleIcon)}}function E(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",117),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cerrarModalEdicion())}),e.nrm(1,"div",118),e.j41(2,"div",119),e.bIt("click",function(o){return e.eBV(t),e.Njj(o.stopPropagation())}),e.j41(3,"div",120)(4,"div",7)(5,"div")(6,"div",84),e.nrm(7,"lucide-icon",2),e.j41(8,"h2",85),e.EFF(9,"Editar Medicamento"),e.k0s()(),e.j41(10,"p",87),e.EFF(11,"Modifique la informaci\xf3n del medicamento en el vadem\xe9cum institucional"),e.k0s()(),e.j41(12,"button",86),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cerrarModalEdicion())}),e.nrm(13,"lucide-icon",2),e.k0s()()(),e.j41(14,"div",121)(15,"div",88)(16,"div",89)(17,"div",90)(18,"h3",59),e.EFF(19,"Informaci\xf3n b\xe1sica"),e.k0s(),e.j41(20,"p",9),e.EFF(21,"Datos principales del medicamento"),e.k0s()(),e.j41(22,"div",91)(23,"div",92)(24,"label",93),e.EFF(25,"ID del medicamento"),e.k0s(),e.nrm(26,"input",122),e.k0s(),e.j41(27,"div",92)(28,"label",93),e.EFF(29," Nombre del medicamento "),e.j41(30,"span",94),e.EFF(31,"*"),e.k0s()(),e.j41(32,"input",123),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.medicamentoEditando.name,o)||(i.medicamentoEditando.name=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.marcarCambios())}),e.k0s()(),e.j41(33,"div")(34,"label",93),e.EFF(35," Concentraci\xf3n "),e.j41(36,"span",94),e.EFF(37,"*"),e.k0s()(),e.j41(38,"input",124),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.medicamentoEditando.concentration,o)||(i.medicamentoEditando.concentration=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.marcarCambios())}),e.k0s()(),e.j41(39,"div")(40,"label",93),e.EFF(41," Presentaci\xf3n "),e.j41(42,"span",94),e.EFF(43,"*"),e.k0s()(),e.j41(44,"select",125),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.medicamentoEditando.presentation,o)||(i.medicamentoEditando.presentation=o),e.Njj(o)}),e.bIt("change",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.marcarCambios())}),e.j41(45,"option",98),e.EFF(46,"Tableta"),e.k0s(),e.j41(47,"option",99),e.EFF(48,"C\xe1psula"),e.k0s(),e.j41(49,"option",100),e.EFF(50,"Jarabe"),e.k0s(),e.j41(51,"option",101),e.EFF(52,"Suspensi\xf3n"),e.k0s(),e.j41(53,"option",102),e.EFF(54,"Soluci\xf3n inyectable"),e.k0s(),e.j41(55,"option",103),e.EFF(56,"Ampolla"),e.k0s(),e.j41(57,"option",104),e.EFF(58,"Crema"),e.k0s(),e.j41(59,"option",105),e.EFF(60,"Ung\xfcento"),e.k0s(),e.j41(61,"option",106),e.EFF(62,"Gel"),e.k0s(),e.j41(63,"option",107),e.EFF(64,"Supositorio"),e.k0s(),e.j41(65,"option",108),e.EFF(66,"\xd3vulo"),e.k0s(),e.j41(67,"option",109),e.EFF(68,"Parche"),e.k0s(),e.j41(69,"option",110),e.EFF(70,"Inhalador"),e.k0s(),e.j41(71,"option",111),e.EFF(72,"Gotas"),e.k0s()()()()(),e.j41(73,"div",89)(74,"div",90)(75,"h3",59),e.EFF(76,"Clasificaci\xf3n ATC"),e.k0s(),e.j41(77,"p",9),e.EFF(78," Sistema Anat\xf3mico Terap\xe9utico Qu\xedmico (ATC) de la OMS "),e.k0s()(),e.j41(79,"div")(80,"label",93),e.EFF(81," C\xf3digo ATC "),e.j41(82,"span",94),e.EFF(83,"*"),e.k0s()(),e.j41(84,"input",112),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.medicamentoEditando.atc,o)||(i.medicamentoEditando.atc=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return o.medicamentoEditando.atc=o.medicamentoEditando.atc.toUpperCase(),e.Njj(o.marcarCambios())}),e.k0s(),e.j41(85,"p",113),e.EFF(86," Formato: 1 letra + 2 d\xedgitos + 2 letras + 2 d\xedgitos (Ej: N02BE01) "),e.k0s()(),e.j41(87,"div",35)(88,"div",126),e.nrm(89,"lucide-icon",127),e.j41(90,"div")(91,"p",128),e.EFF(92," Informaci\xf3n del c\xf3digo ATC "),e.k0s(),e.j41(93,"p",129),e.EFF(94," El c\xf3digo ATC clasifica los medicamentos seg\xfan el \xf3rgano o sistema sobre el que act\xfaan y sus propiedades qu\xedmicas, farmacol\xf3gicas y terap\xe9uticas. "),e.k0s()()()()(),e.j41(95,"div",89)(96,"div",90)(97,"h3",59),e.EFF(98,"Estado del medicamento"),e.k0s(),e.j41(99,"p",9),e.EFF(100,"Control de disponibilidad en el sistema"),e.k0s()(),e.j41(101,"div")(102,"label",93),e.EFF(103,"Estado"),e.k0s(),e.j41(104,"select",125),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.medicamentoEditando.status,o)||(i.medicamentoEditando.status=o),e.Njj(o)}),e.bIt("change",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.marcarCambios())}),e.j41(105,"option",130),e.EFF(106," \u2713 Activo "),e.k0s(),e.j41(107,"option",131),e.EFF(108," \u2717 Inactivo "),e.k0s(),e.j41(109,"option",132),e.EFF(110," \u26a0 Descontinuado "),e.k0s()()()(),e.DNE(111,x,5,1,"div",133),e.k0s()(),e.j41(112,"div",134)(113,"div",126)(114,"button",135),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cancelarEdicion())}),e.nrm(115,"lucide-icon",75),e.EFF(116," Cancelar "),e.k0s(),e.j41(117,"button",136),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.guardarCambios())}),e.nrm(118,"lucide-icon",75),e.EFF(119," Guardar cambios "),e.k0s()()()()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("img",t.pillIcon),e.R7$(6),e.Y8G("img",t.xIcon),e.R7$(13),e.Y8G("value",t.medicamentoSeleccionado.id),e.R7$(6),e.R50("ngModel",t.medicamentoEditando.name),e.R7$(6),e.R50("ngModel",t.medicamentoEditando.concentration),e.R7$(6),e.R50("ngModel",t.medicamentoEditando.presentation),e.R7$(40),e.R50("ngModel",t.medicamentoEditando.atc),e.R7$(5),e.Y8G("img",t.alertTriangleIcon),e.R7$(15),e.R50("ngModel",t.medicamentoEditando.status),e.R7$(7),e.Y8G("ngIf",t.hayCambios),e.R7$(4),e.Y8G("img",t.xIcon),e.R7$(2),e.Y8G("disabled",!t.hayCambios),e.R7$(),e.Y8G("img",t.saveIcon)}}let j=(()=>{class a{constructor(){this.pillIcon=r.abF,this.plusIcon=r.FWt,this.searchIcon=r.vji,this.editIcon=r.ffu,this.eyeIcon=r.kU3,this.xIcon=r.X,this.saveIcon=r.eMP,this.alertTriangleIcon=r.hcu,this.checkCircle2Icon=r.Jly,this.xCircleIcon=r.Jpz,this.moreVerticalIcon=r.GvN,this.chevronLeftIcon=r.JGc,this.chevronRightIcon=r.c_$,this.infoIcon=r.R2D,this.breadcrumbItems=[{label:"Cat\xe1logos cl\xednicos",route:"/catalogos"},{label:"Medicamentos",route:"/catalogos/medicamentos"}],this.medicamentos=[{id:"MED-1001",name:"Paracetamol",concentration:"500mg",presentation:"Tableta",atc:"N02BE01",status:"active"},{id:"MED-1002",name:"Amoxicilina",concentration:"500mg",presentation:"C\xe1psula",atc:"J01CA04",status:"active"},{id:"MED-1003",name:"Omeprazol",concentration:"20mg",presentation:"C\xe1psula",atc:"A02BC01",status:"active"},{id:"MED-1004",name:"Ibuprofeno",concentration:"400mg",presentation:"Tableta",atc:"M01AE01",status:"active"},{id:"MED-1005",name:"Losart\xe1n",concentration:"50mg",presentation:"Tableta",atc:"C09CA01",status:"active"}],this.terminoBusqueda="",this.medicamentosFiltrados=[],this.modalNuevoAbierto=!1,this.medicamentoSeleccionado=null,this.medicamentoEditando={},this.hayCambios=!1,this.modalAccionesAbierto=null,this.paginaActual=1,this.elementosPorPagina=10,this.nuevoMedicamento={name:"",concentration:"",presentation:"Tableta",atc:"",status:"active"},this.Math=Math,this.filtrarMedicamentos()}get medicamentosActivos(){return this.medicamentos.filter(t=>"active"===t.status).length}get categoriasATC(){return new Set(this.medicamentos.map(t=>t.atc[0])).size}get totalPaginas(){return Math.ceil(this.medicamentosFiltrados.length/this.elementosPorPagina)}get medicamentosPaginados(){const t=(this.paginaActual-1)*this.elementosPorPagina;return this.medicamentosFiltrados.slice(t,t+this.elementosPorPagina)}filtrarMedicamentos(){if(this.terminoBusqueda.trim()){const t=this.terminoBusqueda.toLowerCase();this.medicamentosFiltrados=this.medicamentos.filter(n=>n.name.toLowerCase().includes(t)||n.atc.toLowerCase().includes(t))}else this.medicamentosFiltrados=[...this.medicamentos];this.paginaActual=1}cambiarPagina(t){t>=1&&t<=this.totalPaginas&&(this.paginaActual=t)}getPaginas(){const t=[],n=Math.max(1,this.paginaActual-2),o=Math.min(this.totalPaginas,this.paginaActual+2);for(let i=n;i<=o;i++)t.push(i);return t}getEstadoClasses(t){const n="px-2 inline-flex text-xs leading-5 font-semibold rounded-full";switch(t){case"active":return`${n} bg-green-100 text-green-700 border-green-300`;case"inactive":default:return`${n} bg-gray-100 text-gray-700 border-gray-300`;case"discontinued":return`${n} bg-red-100 text-red-700 border-red-300`}}getEstadoIcon(t){switch(t){case"active":return this.checkCircle2Icon;case"inactive":default:return this.xCircleIcon;case"discontinued":return this.alertTriangleIcon}}getEstadoTexto(t){switch(t){case"active":return"Activo";case"inactive":return"Inactivo";case"discontinued":return"Descontinuado";default:return"Desconocido"}}toggleAccionesModal(t){this.modalAccionesAbierto=this.modalAccionesAbierto===t?null:t}cerrarModalAcciones(){this.modalAccionesAbierto=null}abrirModalNuevo(){this.modalNuevoAbierto=!0,this.nuevoMedicamento={name:"",concentration:"",presentation:"Tableta",atc:"",status:"active"}}cerrarModalNuevo(){this.modalNuevoAbierto=!1}agregarMedicamento(){if(!this.nuevoMedicamento.name.trim())return void alert("El nombre del medicamento es obligatorio");if(!this.nuevoMedicamento.concentration.trim())return void alert("La concentraci\xf3n es obligatoria");if(!this.nuevoMedicamento.atc.trim())return void alert("El c\xf3digo ATC es obligatorio");const n={id:`MED-${(this.medicamentos.length+1001).toString().padStart(4,"0")}`,...this.nuevoMedicamento};this.medicamentos.push(n),this.filtrarMedicamentos(),this.cerrarModalNuevo(),alert(`Medicamento ${n.name} agregado correctamente`)}editarMedicamento(t){this.medicamentoSeleccionado=t,this.medicamentoEditando={...t},this.hayCambios=!1,this.cerrarModalAcciones()}cerrarModalEdicion(){this.hayCambios?confirm("\xbfDesea descartar los cambios realizados?")&&(this.medicamentoSeleccionado=null,this.hayCambios=!1):this.medicamentoSeleccionado=null}marcarCambios(){this.hayCambios=!0}cancelarEdicion(){this.hayCambios?confirm("\xbfDesea descartar los cambios realizados?")&&(this.medicamentoSeleccionado=null,this.hayCambios=!1):this.medicamentoSeleccionado=null}guardarCambios(){if(!this.medicamentoEditando.name.trim())return void alert("El nombre del medicamento es obligatorio");if(!this.medicamentoEditando.concentration.trim())return void alert("La concentraci\xf3n es obligatoria");if(!this.medicamentoEditando.atc.trim())return void alert("El c\xf3digo ATC es obligatorio");const t=this.medicamentos.findIndex(n=>n.id===this.medicamentoEditando.id);-1!==t&&(this.medicamentos[t]={...this.medicamentoEditando},this.filtrarMedicamentos(),this.medicamentoSeleccionado=null,this.hayCambios=!1,alert(`Medicamento ${this.medicamentoEditando.name} actualizado correctamente`))}static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-catalogos-medicamentos"]],standalone:!0,features:[e.aNF],decls:66,vars:22,consts:[["title","Cat\xe1logo de Medicamentos","description","Vadem\xe9cum institucional con c\xf3digos ATC","headerGradient","from-blue-600 via-indigo-500 to-purple-600",3,"icon","breadcrumbItems","hasActionButton"],["slot","action",1,"bg-white","text-blue-600","hover:bg-blue-50","font-medium","py-2","px-4","rounded-lg","transition-colors","flex","items-center","gap-2",3,"click"],[1,"w-5","h-5",3,"img"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-blue-500"],[1,"p-6"],[1,"flex","items-center","justify-between"],[1,"space-y-1","flex-1"],[1,"text-sm","text-gray-600"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-3","bg-blue-100","rounded-xl"],[1,"w-8","h-8","text-blue-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-green-500"],[1,"p-3","bg-green-100","rounded-xl"],[1,"w-8","h-8","text-green-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-purple-500"],[1,"p-3","bg-purple-100","rounded-xl"],[1,"w-8","h-8","text-purple-600",3,"img"],[1,"bg-white","rounded-lg","shadow","p-6"],[1,"flex","gap-4"],[1,"flex-1","relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-4","h-4","text-gray-400",3,"img"],["type","text","placeholder","Buscar medicamento o c\xf3digo ATC...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","input","ngModel"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gradient-to-r","from-blue-50","to-white"],[1,"flex","items-center","space-x-3"],[1,"p-2","bg-blue-100","rounded-lg"],[1,"w-5","h-5","text-blue-600",3,"img"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"p-0"],["class","p-12 text-center",4,"ngIf"],["class","overflow-x-auto","style","max-height: 500px; overflow-y: auto;",4,"ngIf"],["class","px-6 py-4 border-t border-gray-200 bg-gray-50",4,"ngIf"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"flex","items-start"],[1,"w-5","h-5","text-blue-600","mt-0.5","mr-3","flex-shrink-0",3,"img"],[1,"text-sm","font-medium","text-blue-900","mb-1"],[1,"text-sm","text-blue-700"],["class","fixed inset-0 z-50 overflow-y-auto",3,"click",4,"ngIf"],["class","fixed inset-0 z-50 overflow-hidden",3,"click",4,"ngIf"],[1,"p-12","text-center"],[1,"flex","justify-center","mb-4"],[1,"p-4","bg-gray-100","rounded-full"],[1,"w-12","h-12","text-gray-400",3,"img"],[1,"text-lg","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"overflow-x-auto",2,"max-height","500px","overflow-y","auto"],[1,"w-full","min-w-[1000px]"],[1,"bg-gray-50","sticky","top-0"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-blue-50/50 cursor-pointer transition-all","title","Doble clic para editar",3,"dblclick",4,"ngFor","ngForOf"],["title","Doble clic para editar",1,"hover:bg-blue-50/50","cursor-pointer","transition-all",3,"dblclick"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],[1,"w-4","h-4","text-blue-600",3,"img"],[1,"font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"font-mono","text-sm","text-gray-900"],[1,"w-3","h-3","mr-1",3,"img"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"relative"],["title","M\xe1s acciones",1,"p-2","text-gray-400","hover:text-gray-600","rounded-full","hover:bg-gray-100","transition-colors",3,"click"],["class","absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",3,"click",4,"ngIf"],[1,"absolute","right-0","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","z-50",3,"click"],[1,"py-2"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","border-b","border-gray-100"],[1,"w-full","px-4","py-2","text-left","text-sm","text-gray-700","hover:bg-gray-50","flex","items-center","gap-3",3,"click"],[1,"w-4","h-4","text-gray-500",3,"img"],[1,"px-6","py-4","border-t","border-gray-200","bg-gray-50"],[1,"text-sm","text-gray-700"],[1,"px-3","py-2","text-sm","font-medium","text-gray-500","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-1",3,"click","disabled"],[1,"w-4","h-4",3,"img"],[1,"flex","space-x-1"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"fixed","inset-0","z-50","overflow-y-auto",3,"click"],[1,"flex","items-center","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-2xl","sm:w-full",3,"click"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","px-6","py-4","text-white"],[1,"flex","items-center","gap-2"],[1,"text-lg","font-semibold"],[1,"p-2","hover:bg-white/20","rounded-lg","transition-colors",3,"click"],[1,"text-blue-100","text-sm","mt-1"],[1,"p-6","space-y-6"],[1,"space-y-4"],[1,"pb-2","border-b"],[1,"grid","grid-cols-2","gap-4"],[1,"col-span-2"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"text-red-500"],["type","text","placeholder","Ej: Paracetamol",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","text","placeholder","Ej: 500mg",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["value","Tableta"],["value","C\xe1psula"],["value","Jarabe"],["value","Suspensi\xf3n"],["value","Soluci\xf3n inyectable"],["value","Ampolla"],["value","Crema"],["value","Ung\xfcento"],["value","Gel"],["value","Supositorio"],["value","\xd3vulo"],["value","Parche"],["value","Inhalador"],["value","Gotas"],["type","text","placeholder","Ej: N02BE01","maxlength","7",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","font-mono",3,"ngModelChange","input","ngModel"],[1,"text-xs","text-gray-500","mt-1"],[1,"px-6","py-4","bg-gray-50","border-t","border-gray-200","flex","justify-end","gap-3"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","transition-colors",3,"click"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-lg","transition-colors","flex","items-center","gap-2",3,"click"],[1,"fixed","inset-0","z-50","overflow-hidden",3,"click"],[1,"absolute","inset-0","bg-black","bg-opacity-50"],[1,"absolute","right-0","top-0","h-full","w-full","max-w-2xl","bg-white","shadow-xl","transform","transition-transform","duration-300","ease-in-out","flex","flex-col",3,"click"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","px-6","py-4","text-white","flex-shrink-0"],[1,"flex-1","overflow-y-auto"],["type","text","disabled","",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-300","rounded-lg","font-mono",3,"value"],["type","text","placeholder","Ej: Paracetamol",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","input","ngModel"],["type","text","placeholder","Ej: 500mg",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","input","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],[1,"flex","gap-2"],[1,"w-5","h-5","text-blue-600","flex-shrink-0","mt-0.5",3,"img"],[1,"text-sm","font-medium","text-blue-900"],[1,"text-sm","text-blue-700","mt-1"],["value","active"],["value","inactive"],["value","discontinued"],["class","bg-amber-50 border border-amber-200 rounded-lg p-3",4,"ngIf"],[1,"border-t","border-gray-200","px-6","py-4","bg-gray-50","space-y-3","flex-shrink-0"],[1,"flex-1","bg-white","hover:bg-gray-50","text-gray-700","font-medium","py-3","px-4","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2","border","border-gray-300",3,"click"],[1,"flex-1","bg-blue-600","hover:bg-blue-700","disabled:bg-gray-300","text-white","font-medium","py-3","px-4","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2",3,"click","disabled"],[1,"bg-amber-50","border","border-amber-200","rounded-lg","p-3"],[1,"w-4","h-4","text-amber-600",3,"img"],[1,"text-sm","text-amber-800"]],template:function(n,o){1&n&&(e.j41(0,"app-page-layout",0)(1,"button",1),e.bIt("click",function(){return o.abrirModalNuevo()}),e.nrm(2,"lucide-icon",2),e.EFF(3," Nuevo medicamento "),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"p",9),e.EFF(11,"Total medicamentos"),e.k0s(),e.j41(12,"p",10),e.EFF(13),e.k0s()(),e.j41(14,"div",11),e.nrm(15,"lucide-icon",12),e.k0s()()()(),e.j41(16,"div",13)(17,"div",6)(18,"div",7)(19,"div",8)(20,"p",9),e.EFF(21,"Activos"),e.k0s(),e.j41(22,"p",10),e.EFF(23),e.k0s()(),e.j41(24,"div",14),e.nrm(25,"lucide-icon",15),e.k0s()()()(),e.j41(26,"div",16)(27,"div",6)(28,"div",7)(29,"div",8)(30,"p",9),e.EFF(31,"Categor\xedas ATC"),e.k0s(),e.j41(32,"p",10),e.EFF(33),e.k0s()(),e.j41(34,"div",17),e.nrm(35,"lucide-icon",18),e.k0s()()()()(),e.j41(36,"div",19)(37,"div",20)(38,"div",21),e.nrm(39,"lucide-icon",22),e.j41(40,"input",23),e.mxI("ngModelChange",function(d){return e.DH7(o.terminoBusqueda,d)||(o.terminoBusqueda=d),d}),e.bIt("input",function(){return o.filtrarMedicamentos()}),e.k0s()()()(),e.j41(41,"div",24)(42,"div",25)(43,"div",7)(44,"div",26)(45,"div",27),e.nrm(46,"lucide-icon",28),e.k0s(),e.j41(47,"div")(48,"h3",29),e.EFF(49,"Medicamentos Registrados"),e.k0s(),e.j41(50,"p",30),e.EFF(51),e.k0s()()()()(),e.j41(52,"div",31),e.DNE(53,p,8,2,"div",32)(54,h,18,1,"div",33),e.k0s(),e.DNE(55,F,13,8,"div",34),e.k0s(),e.j41(56,"div",35)(57,"div",36),e.nrm(58,"lucide-icon",37),e.j41(59,"div")(60,"h4",38),e.EFF(61,"Informaci\xf3n del cat\xe1logo"),e.k0s(),e.j41(62,"p",39),e.EFF(63," El cat\xe1logo de medicamentos utiliza c\xf3digos ATC (Anat\xf3mico Terap\xe9utico Qu\xedmico) de la OMS para clasificar los medicamentos seg\xfan el \xf3rgano o sistema sobre el que act\xfaan y sus propiedades qu\xedmicas, farmacol\xf3gicas y terap\xe9uticas. "),e.k0s()()()()(),e.DNE(64,v,80,7,"div",40)(65,E,120,13,"div",41),e.k0s()),2&n&&(e.Y8G("icon",o.pillIcon)("breadcrumbItems",o.breadcrumbItems)("hasActionButton",!0),e.R7$(2),e.Y8G("img",o.plusIcon),e.R7$(11),e.JRh(o.medicamentos.length),e.R7$(2),e.Y8G("img",o.pillIcon),e.R7$(8),e.JRh(o.medicamentosActivos),e.R7$(2),e.Y8G("img",o.checkCircle2Icon),e.R7$(8),e.JRh(o.categoriasATC),e.R7$(2),e.Y8G("img",o.pillIcon),e.R7$(4),e.Y8G("img",o.searchIcon),e.R7$(),e.R50("ngModel",o.terminoBusqueda),e.R7$(6),e.Y8G("img",o.pillIcon),e.R7$(5),e.E5c(" ",o.medicamentosFiltrados.length," medicamento",1!==o.medicamentosFiltrados.length?"s":""," encontrado",1!==o.medicamentosFiltrados.length?"s":""," \u2022 Doble clic para editar "),e.R7$(2),e.Y8G("ngIf",0===o.medicamentosFiltrados.length),e.R7$(),e.Y8G("ngIf",o.medicamentosFiltrados.length>0),e.R7$(),e.Y8G("ngIf",o.medicamentosFiltrados.length>0),e.R7$(3),e.Y8G("img",o.infoIcon),e.R7$(6),e.Y8G("ngIf",o.modalNuevoAbierto),e.R7$(),e.Y8G("ngIf",o.medicamentoSeleccionado))},dependencies:[m.MD,m.Sq,m.bT,s.YN,s.xH,s.y7,s.me,s.wz,s.BC,s.tU,s.vS,r.flO,r.WGl,g.J],encapsulation:2})}}return a})()}}]);