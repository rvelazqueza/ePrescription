"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[8943],{8943:(v,r,s)=>{s.r(r),s.d(r,{InventarioComponent:()=>p});var e=s(4438),l=s(177),i=s(8516),g=s(8961),c=s(2193),d=s(8359),m=s(1822);function u(n,h){if(1&n&&(e.j41(0,"tr")(1,"td",8),e.EFF(2),e.k0s(),e.j41(3,"td",8),e.EFF(4),e.k0s(),e.j41(5,"td",8)(6,"span"),e.EFF(7),e.k0s()()()),2&n){const o=h.$implicit;e.R7$(2),e.JRh(o.nombre),e.R7$(2),e.JRh(o.stock),e.R7$(2),e.HbH(o.stock<10?"text-red-600":"text-green-600"),e.R7$(),e.SpI(" ",o.stock<10?"Stock Bajo":"Disponible"," ")}}let p=(()=>{class n{constructor(o){this.roleDemoService=o,this.packageIcon=i.lPX,this.searchIcon=i.vji,this.alertTriangleIcon=i.hcu,this.pageTitle="Farmacia e Inventario",this.pageDescription="Control y gesti\xf3n de medicamentos disponibles en el sistema",this.breadcrumbItems=[{label:"Inventario"}],this.inventario=[{nombre:"Ibuprofeno 400mg",stock:150},{nombre:"Paracetamol 500mg",stock:8},{nombre:"Omeprazol 20mg",stock:75}],this.showRoleSuggestionModal=(0,e.vPA)(!1),this.subscriptions=new d.yU}ngOnInit(){this.checkRoleSuggestion(),this.subscribeToRoleChanges()}ngOnDestroy(){this.subscriptions.unsubscribe()}checkRoleSuggestion(){const o=this.roleDemoService.getCurrentSession();console.log("\u{1f527} Inventario - checkRoleSuggestion - currentRole:",o.activeRole),"Farmac\xe9utico"!==o.activeRole&&"Administrador"!==o.activeRole?(console.log("\u{1f527} Inventario - Showing role suggestion modal for role:",o.activeRole),this.showRoleSuggestionModal.set(!0)):(console.log("\u{1f527} Inventario - Not showing modal, user has appropriate role"),this.showRoleSuggestionModal.set(!1))}subscribeToRoleChanges(){this.subscriptions.add(this.roleDemoService.currentSession$.subscribe(o=>{console.log("\u{1f527} Inventario - Role changed to:",o.activeRole),this.checkRoleSuggestion()}))}onRoleSuggestionDismiss(){console.log("\u{1f527} Inventario - Role suggestion dismissed"),this.showRoleSuggestionModal.set(!1)}onRoleChanged(){console.log("\u{1f527} Inventario - Role changed, closing modal"),this.showRoleSuggestionModal.set(!1)}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(m.z))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-inventario"]],standalone:!0,features:[e.aNF],decls:14,vars:8,consts:[[3,"title","description","icon","breadcrumbItems"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase"],[1,"divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[3,"dismiss","roleChanged","isOpen","suggestedRole","pageName"],[1,"px-6","py-4"]],template:function(a,t){1&a&&(e.j41(0,"app-page-layout",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th",4),e.EFF(6,"Medicamento"),e.k0s(),e.j41(7,"th",4),e.EFF(8,"Stock"),e.k0s(),e.j41(9,"th",4),e.EFF(10,"Estado"),e.k0s()()(),e.j41(11,"tbody",5),e.DNE(12,u,8,5,"tr",6),e.k0s()()(),e.j41(13,"app-role-suggestion-modal",7),e.bIt("dismiss",function(){return t.onRoleSuggestionDismiss()})("roleChanged",function(){return t.onRoleChanged()}),e.k0s()()),2&a&&(e.Y8G("title",t.pageTitle)("description",t.pageDescription)("icon",t.packageIcon)("breadcrumbItems",t.breadcrumbItems),e.R7$(12),e.Y8G("ngForOf",t.inventario),e.R7$(),e.Y8G("isOpen",t.showRoleSuggestionModal())("suggestedRole","Farmac\xe9utico")("pageName","inventario-principal"))},dependencies:[l.MD,l.Sq,i.flO,g.J,c.t],encapsulation:2})}}return n})()}}]);