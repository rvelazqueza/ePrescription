"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[229],{8777:(y,E,l)=>{l.d(E,{m:()=>w});var e=l(177),b=l(6283),i=l(8516),o=l(4438);function d(m,x){if(1&m&&o.nrm(0,"lucide-icon",4),2&m){const g=o.XpG(2).$implicit;o.Y8G("img",g.icon)}}function F(m,x){if(1&m&&(o.j41(0,"a",9),o.DNE(1,d,1,1,"lucide-icon",10),o.EFF(2),o.k0s()),2&m){const g=o.XpG().$implicit;o.Y8G("routerLink",g.route),o.R7$(),o.Y8G("ngIf",g.icon),o.R7$(),o.SpI(" ",g.label," ")}}function k(m,x){if(1&m&&o.nrm(0,"lucide-icon",4),2&m){const g=o.XpG(2).$implicit;o.Y8G("img",g.icon)}}function R(m,x){if(1&m&&(o.j41(0,"span",11),o.DNE(1,k,1,1,"lucide-icon",10),o.EFF(2),o.k0s()),2&m){const g=o.XpG(),c=g.$implicit;o.BMQ("aria-current",g.last?"page":null),o.R7$(),o.Y8G("ngIf",c.icon),o.R7$(),o.SpI(" ",c.label," ")}}function j(m,x){if(1&m&&(o.j41(0,"li",2),o.nrm(1,"lucide-icon",6),o.DNE(2,F,3,3,"a",7)(3,R,3,3,"span",8),o.k0s()),2&m){const g=x.$implicit,c=x.last,_=o.XpG();o.R7$(),o.Y8G("img",_.chevronRightIcon),o.R7$(),o.Y8G("ngIf",g.route&&!c),o.R7$(),o.Y8G("ngIf",!g.route||c)}}let w=(()=>{class m{constructor(){this.items=[],this.homeIcon=i.ww0,this.chevronRightIcon=i.c_$}static{this.\u0275fac=function(c){return new(c||m)}}static{this.\u0275cmp=o.VBU({type:m,selectors:[["app-breadcrumbs"]],inputs:{items:"items"},standalone:!0,features:[o.aNF],decls:7,vars:2,consts:[["aria-label","Breadcrumb",1,"fixed","left-64","right-0","z-30","bg-gray-50","border-b","border-gray-200","px-6","py-3",2,"top","93px"],[1,"inline-flex","items-center","space-x-1","md:space-x-3"],[1,"inline-flex","items-center"],["routerLink","/dashboard",1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors"],["aria-hidden","true",1,"w-4","h-4","mr-2",3,"img"],["class","inline-flex items-center",4,"ngFor","ngForOf"],["aria-hidden","true",1,"w-4","h-4","text-gray-400","mx-1",3,"img"],["class","inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors",3,"routerLink",4,"ngIf"],["class","inline-flex items-center text-sm font-medium text-gray-500",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors",3,"routerLink"],["class","w-4 h-4 mr-2","aria-hidden","true",3,"img",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-500"]],template:function(c,_){1&c&&(o.j41(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),o.nrm(4,"lucide-icon",4),o.EFF(5," Inicio "),o.k0s()(),o.DNE(6,j,4,3,"li",5),o.k0s()()),2&c&&(o.R7$(4),o.Y8G("img",_.homeIcon),o.R7$(2),o.Y8G("ngForOf",_.items))},dependencies:[e.MD,e.Sq,e.bT,b.iI,b.Wk,i.flO,i.WGl],encapsulation:2})}}return m})()},1265:(y,E,l)=>{l.d(E,{y:()=>g});var e=l(177),b=l(8516),i=l(4438),o=l(6283);const d=[[["","slot","action"]]],F=["[slot=action]"];function k(c,_){if(1&c){const h=i.RV6();i.j41(0,"button",12),i.bIt("click",function(){i.eBV(h);const u=i.XpG();return i.Njj(u.onCreateUserClick())}),i.qSk(),i.j41(1,"svg",13),i.nrm(2,"path",14),i.k0s(),i.EFF(3," \xbfCrear usuario? "),i.k0s()}}function R(c,_){1&c&&(i.j41(0,"span",15),i.EFF(1," Sistema profesional de seguridad "),i.k0s())}function j(c,_){if(1&c&&(i.j41(0,"div",1)(1,"div",16),i.nrm(2,"lucide-icon",17),i.k0s(),i.j41(3,"div",18),i.nrm(4,"lucide-icon",17),i.k0s(),i.j41(5,"div",19),i.nrm(6,"lucide-icon",17),i.k0s()()),2&c){const h=i.XpG();i.R7$(2),i.Y8G("img",h.stethoscopeIcon),i.R7$(2),i.Y8G("img",h.shieldCheckIcon),i.R7$(2),i.Y8G("img",h.building2Icon)}}function w(c,_){if(1&c){const h=i.RV6();i.j41(0,"div",20)(1,"span",21),i.nrm(2,"lucide-icon",22),i.EFF(3," HL7 FHIR "),i.k0s(),i.j41(4,"span",21),i.qSk(),i.j41(5,"svg",23),i.nrm(6,"path",24),i.k0s(),i.EFF(7," FDA Compliant "),i.k0s(),i.joV(),i.j41(8,"span",21),i.nrm(9,"lucide-icon",22),i.EFF(10," OMS Standards "),i.k0s(),i.j41(11,"span",25),i.bIt("click",function(){i.eBV(h);const u=i.XpG();return i.Njj(u.navigateToNotifications())}),i.qSk(),i.j41(12,"svg",26),i.nrm(13,"path",27)(14,"path",28),i.k0s(),i.EFF(15," 3 notificaciones "),i.k0s()()}if(2&c){const h=i.XpG();i.R7$(2),i.Y8G("img",h.shieldCheckIcon),i.R7$(7),i.Y8G("img",h.stethoscopeIcon)}}function m(c,_){1&c&&(i.j41(0,"div",29)(1,"span",15),i.EFF(2," Cifrado E2E "),i.k0s(),i.j41(3,"span",15),i.EFF(4," HIPAA Compliant "),i.k0s(),i.j41(5,"span",15),i.EFF(6," FDA 21 CFR Part 11 "),i.k0s(),i.j41(7,"span",15),i.EFF(8," NIST 800-63B "),i.k0s()())}function x(c,_){1&c&&(i.j41(0,"div",30)(1,"div",31)(2,"div",32),i.qSk(),i.j41(3,"svg",33),i.nrm(4,"path",34),i.k0s()(),i.joV(),i.j41(5,"span",35),i.EFF(6,"Validaci\xf3n autom\xe1tica con colegios profesionales"),i.k0s()(),i.j41(7,"div",31)(8,"div",32),i.qSk(),i.j41(9,"svg",33),i.nrm(10,"path",36),i.k0s()(),i.joV(),i.j41(11,"span",35),i.EFF(12,"Cumplimiento normativo HL7, FDA y OMS"),i.k0s()()())}let g=(()=>{class c{constructor(h){this.router=h,this.title="",this.description="",this.actionButton=!1,this.gradient="",this.showMedicalIcons=!1,this.showCreateUserButton=!1,this.createUserButtonClick=null,this.showSecurityBadge=!1,this.stethoscopeIcon=b.oYO,this.shieldCheckIcon=b.oxo,this.building2Icon=b.t6i}onCreateUserClick(){this.createUserButtonClick&&this.createUserButtonClick()}navigateToNotifications(){this.router.navigate(["/notificaciones/lista"])}static{this.\u0275fac=function(v){return new(v||c)(i.rXU(o.Ix))}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-page-header"]],inputs:{title:"title",description:"description",icon:"icon",actionButton:"actionButton",gradient:"gradient",showMedicalIcons:"showMedicalIcons",showCreateUserButton:"showCreateUserButton",createUserButtonClick:"createUserButtonClick",showSecurityBadge:"showSecurityBadge"},standalone:!0,features:[i.aNF],ngContentSelectors:F,decls:18,vars:11,consts:[[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"w-16","h-16","bg-white/20","rounded-xl","flex","items-center","justify-center","backdrop-blur-sm"],[1,"w-8","h-8","text-white",3,"img"],[1,"text-2xl","font-bold"],[1,"text-blue-100"],["class","inline-flex items-center px-4 py-2 bg-white/10 text-white border border-white/30 rounded-lg hover:bg-white/20 transition-colors text-sm",3,"click",4,"ngIf"],["class","inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-white/20 text-white border border-white/30",4,"ngIf"],["class","flex items-center gap-4",4,"ngIf"],["class","flex gap-2",4,"ngIf"],["class","mt-4 flex flex-wrap gap-2",4,"ngIf"],["class","mt-6 flex flex-wrap gap-4",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","bg-white/10","text-white","border","border-white/30","rounded-lg","hover:bg-white/20","transition-colors","text-sm",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-white/20","text-white","border","border-white/30"],["title","Servicios M\xe9dicos",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],[1,"w-7","h-7","text-white","group-hover:scale-110","transition-transform","duration-200",3,"img"],["title","Seguridad y Protecci\xf3n",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],["title","Centros M\xe9dicos",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],[1,"flex","gap-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-white/20","text-white","border","border-white/30","hover:bg-white/30","transition-colors"],[1,"w-3","h-3","mr-1",3,"img"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["title","Ver notificaciones pendientes",1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-red-500","text-white","border","border-red-400","cursor-pointer","hover:bg-red-600","transition-colors","shadow-lg",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1","animate-pulse"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m13.73 21a2 2 0 0 1-3.46 0"],[1,"mt-4","flex","flex-wrap","gap-2"],[1,"mt-6","flex","flex-wrap","gap-4"],[1,"flex","items-center","gap-2","text-white/90"],[1,"w-5","h-5","bg-white/20","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-sm","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.5-2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(v,u){1&v&&(i.NAR(d),i.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),i.nrm(4,"lucide-icon",3),i.k0s(),i.j41(5,"div")(6,"h1",4),i.EFF(7),i.k0s(),i.j41(8,"p",5),i.EFF(9),i.k0s()()(),i.j41(10,"div",1),i.SdG(11),i.DNE(12,k,4,0,"button",6)(13,R,2,0,"span",7)(14,j,7,3,"div",8)(15,w,16,2,"div",9),i.k0s()(),i.DNE(16,m,9,0,"div",10)(17,x,13,0,"div",11),i.k0s()),2&v&&(i.HbH("bg-gradient-to-r text-white rounded-lg p-6 "+(u.gradient||"from-blue-600 to-purple-700")),i.R7$(4),i.Y8G("img",u.icon),i.R7$(3),i.JRh(u.title),i.R7$(2),i.JRh(u.description),i.R7$(3),i.Y8G("ngIf",u.showCreateUserButton),i.R7$(),i.Y8G("ngIf",u.showSecurityBadge),i.R7$(),i.Y8G("ngIf",(u.showMedicalIcons||u.title.includes("Registro de usuarios")||u.title.includes("Usuarios")&&!u.title.includes("Gesti\xf3n de Usuarios")||u.title.includes("Seguridad")&&!u.title.includes("Par\xe1metros de Seguridad"))&&!u.title.includes("Autoservicio")),i.R7$(),i.Y8G("ngIf",u.title.includes("Dashboard")||u.description.includes("Prescripci\xf3n Electr\xf3nica")),i.R7$(),i.Y8G("ngIf",u.title.includes("Autoservicio")),i.R7$(),i.Y8G("ngIf",u.title.includes("Registro de usuarios")))},dependencies:[e.MD,e.bT,b.flO,b.WGl],encapsulation:2})}}return c})()},229:(y,E,l)=>{l.r(E),l.d(E,{EmitidasComponent:()=>P});var e=l(4438),b=l(177),i=l(4341),o=l(8359),d=l(8516),F=l(8777),k=l(1265),R=l(2193),j=l(6283),w=l(1822),m=l(2957);function x(s,f){if(1&s&&(e.j41(0,"div",60),e.nrm(1,"lucide-icon",61),e.j41(2,"h3",62),e.EFF(3,"No hay recetas"),e.k0s(),e.j41(4,"p",63),e.EFF(5,"No se encontraron recetas con los filtros aplicados"),e.k0s()()),2&s){const t=e.XpG();e.R7$(),e.Y8G("img",t.fileTextIcon)}}function g(s,f){if(1&s&&(e.j41(0,"div",86),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.farmacia)}}function c(s,f){if(1&s){const t=e.RV6();e.j41(0,"div",93)(1,"button",94),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return r.anularReceta(n),e.Njj(r.cerrarModalAcciones())}),e.nrm(2,"lucide-icon",95),e.EFF(3," Anular receta "),e.k0s()()}if(2&s){const t=e.XpG(4);e.R7$(2),e.Y8G("img",t.banIcon)}}function _(s,f){if(1&s){const t=e.RV6();e.j41(0,"div",87),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(1,"div",88)(2,"div",89),e.EFF(3," Acciones "),e.k0s(),e.j41(4,"button",90),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(2);return r.verReceta(n),e.Njj(r.cerrarModalAcciones())}),e.nrm(5,"lucide-icon",91),e.EFF(6," Ver detalles "),e.k0s(),e.j41(7,"button",90),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(2);return r.reimprimirReceta(n),e.Njj(r.cerrarModalAcciones())}),e.nrm(8,"lucide-icon",91),e.EFF(9," Reimprimir "),e.k0s(),e.j41(10,"button",90),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(2);return r.descargarReceta(n),e.Njj(r.cerrarModalAcciones())}),e.nrm(11,"lucide-icon",91),e.EFF(12," Exportar PDF "),e.k0s(),e.DNE(13,c,4,1,"div",92),e.k0s()()}if(2&s){const t=e.XpG().$implicit,a=e.XpG(2);e.R7$(5),e.Y8G("img",a.eyeIcon),e.R7$(3),e.Y8G("img",a.printerIcon),e.R7$(3),e.Y8G("img",a.downloadIcon),e.R7$(2),e.Y8G("ngIf","emitida"===t.estado)}}function h(s,f){if(1&s){const t=e.RV6();e.j41(0,"tr",70),e.bIt("dblclick",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.verReceta(n))}),e.j41(1,"td",71)(2,"div",72),e.nrm(3,"lucide-icon",73),e.j41(4,"span",74),e.EFF(5),e.k0s()()(),e.j41(6,"td",71)(7,"div")(8,"p",75),e.EFF(9),e.k0s(),e.j41(10,"p",76),e.EFF(11),e.k0s()()(),e.j41(12,"td",71)(13,"div",72),e.nrm(14,"lucide-icon",77),e.j41(15,"span",78),e.EFF(16),e.k0s()()(),e.j41(17,"td",71)(18,"div",72),e.nrm(19,"lucide-icon",77),e.j41(20,"span",78),e.EFF(21),e.k0s()()(),e.j41(22,"td",71)(23,"div",72),e.nrm(24,"lucide-icon",79),e.j41(25,"span"),e.EFF(26),e.k0s()()(),e.j41(27,"td",71)(28,"span",80),e.EFF(29),e.k0s(),e.DNE(30,g,2,1,"div",81),e.k0s(),e.j41(31,"td",82)(32,"div",28)(33,"button",83),e.bIt("click",function(n){const r=e.eBV(t).$implicit;return e.XpG(2).toggleAccionesModal(r.id),e.Njj(n.stopPropagation())}),e.nrm(34,"lucide-icon",84),e.k0s(),e.DNE(35,_,14,4,"div",85),e.k0s()()()}if(2&s){const t=f.$implicit,a=e.XpG(2);e.R7$(3),e.Y8G("img",a.fileTextIcon),e.R7$(2),e.JRh(t.id),e.R7$(4),e.JRh(t.paciente.nombre),e.R7$(2),e.JRh(t.paciente.cedula),e.R7$(3),e.Y8G("img",a.calendarIcon),e.R7$(2),e.JRh(t.fechaEmision),e.R7$(3),e.Y8G("img",a.clockIcon),e.R7$(2),e.JRh(t.fechaVencimiento),e.R7$(3),e.Y8G("img",a.pillIcon),e.R7$(2),e.JRh(t.medicamentos.length),e.R7$(2),e.HbH(a.getEstadoClass(t.estado)),e.R7$(),e.SpI(" ",a.getEstadoTexto(t.estado)," "),e.R7$(),e.Y8G("ngIf",t.farmacia),e.R7$(4),e.Y8G("img",a.moreVerticalIcon),e.R7$(),e.Y8G("ngIf",a.modalAccionesAbierto===t.id)}}function v(s,f){if(1&s&&(e.j41(0,"div",64)(1,"table",65)(2,"thead",66)(3,"tr")(4,"th",67),e.EFF(5,"N\xfamero de Receta"),e.k0s(),e.j41(6,"th",67),e.EFF(7,"Paciente"),e.k0s(),e.j41(8,"th",67),e.EFF(9,"Fecha de emisi\xf3n"),e.k0s(),e.j41(10,"th",67),e.EFF(11,"V\xe1lida hasta"),e.k0s(),e.j41(12,"th",67),e.EFF(13,"Medicamentos"),e.k0s(),e.j41(14,"th",67),e.EFF(15,"Estado"),e.k0s(),e.j41(16,"th",67),e.EFF(17,"Acciones"),e.k0s()()(),e.j41(18,"tbody",68),e.DNE(19,h,36,16,"tr",69),e.k0s()()()),2&s){const t=e.XpG();e.R7$(19),e.Y8G("ngForOf",t.recetasPaginadas)}}function u(s,f){if(1&s){const t=e.RV6();e.j41(0,"button",101),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.cambiarPagina(n))}),e.EFF(1),e.k0s()}if(2&s){const t=f.$implicit,a=e.XpG(2);e.HbH(t===a.paginaActual?"px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-blue-600 rounded-md":"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50"),e.R7$(),e.SpI(" ",t," ")}}function I(s,f){if(1&s){const t=e.RV6();e.j41(0,"div",96)(1,"div",9)(2,"div",97),e.EFF(3),e.k0s(),e.j41(4,"div",72)(5,"button",98),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cambiarPagina(n.paginaActual-1))}),e.nrm(6,"lucide-icon",48),e.EFF(7," Anterior "),e.k0s(),e.j41(8,"div",99),e.DNE(9,u,2,3,"button",100),e.k0s(),e.j41(10,"button",98),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cambiarPagina(n.paginaActual+1))}),e.EFF(11," Siguiente "),e.nrm(12,"lucide-icon",48),e.k0s()()()()}if(2&s){const t=e.XpG();e.R7$(3),e.E5c(" Mostrando ",(t.paginaActual-1)*t.elementosPorPagina+1," a ",t.Math.min(t.paginaActual*t.elementosPorPagina,t.recetasFiltradas.length)," de ",t.recetasFiltradas.length," recetas "),e.R7$(2),e.Y8G("disabled",1===t.paginaActual),e.R7$(),e.Y8G("img",t.chevronLeftIcon),e.R7$(3),e.Y8G("ngForOf",t.getPaginas()),e.R7$(),e.Y8G("disabled",t.paginaActual===t.totalPaginas),e.R7$(2),e.Y8G("img",t.chevronRightIcon)}}function C(s,f){if(1&s&&(e.j41(0,"span",143),e.nrm(1,"lucide-icon",144),e.EFF(2," Dispensado "),e.k0s()),2&s){const t=e.XpG(3);e.R7$(),e.Y8G("img",t.checkCircleIcon)}}function M(s,f){if(1&s&&(e.j41(0,"span",145),e.nrm(1,"lucide-icon",144),e.EFF(2," Pendiente "),e.k0s()),2&s){const t=e.XpG(3);e.R7$(),e.Y8G("img",t.clockIcon)}}function $(s,f){if(1&s&&(e.j41(0,"div",135)(1,"div",136)(2,"div",137)(3,"h4",138),e.EFF(4),e.k0s(),e.j41(5,"div",139)(6,"div")(7,"p",63),e.EFF(8,"Dosis: "),e.j41(9,"span",75),e.EFF(10),e.k0s()(),e.j41(11,"p",63),e.EFF(12,"Frecuencia: "),e.j41(13,"span",75),e.EFF(14),e.k0s()()(),e.j41(15,"div")(16,"p",63),e.EFF(17,"Duraci\xf3n: "),e.j41(18,"span",75),e.EFF(19),e.k0s()()()()(),e.j41(20,"div",140),e.DNE(21,C,3,1,"span",141)(22,M,3,1,"span",142),e.k0s()()()),2&s){const t=f.$implicit;e.R7$(4),e.JRh(t.nombre),e.R7$(6),e.JRh(t.dosis),e.R7$(4),e.JRh(t.frecuencia),e.R7$(5),e.JRh(t.duracion),e.R7$(2),e.Y8G("ngIf","dispensado"===t.estado),e.R7$(),e.Y8G("ngIf",!t.estado||"pendiente"===t.estado)}}function D(s,f){if(1&s){const t=e.RV6();e.j41(0,"div",102),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cerrarModalDetalles())}),e.nrm(1,"div",103),e.j41(2,"div",104),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(3,"div",105)(4,"div",9)(5,"div")(6,"div",106),e.nrm(7,"lucide-icon",84),e.j41(8,"h2",107),e.EFF(9,"Receta Emitida"),e.k0s()(),e.j41(10,"p",108),e.EFF(11),e.k0s()(),e.j41(12,"button",109),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cerrarModalDetalles())}),e.nrm(13,"lucide-icon",84),e.k0s()()(),e.j41(14,"div",110)(15,"div",111)(16,"div",112)(17,"div",9)(18,"div",106),e.nrm(19,"lucide-icon",113),e.j41(20,"span",114),e.EFF(21,"Estado de la receta"),e.k0s()(),e.j41(22,"span",115),e.EFF(23),e.k0s()()(),e.j41(24,"div")(25,"div",116),e.nrm(26,"lucide-icon",117),e.j41(27,"h3",44),e.EFF(28,"Informaci\xf3n del Paciente"),e.k0s()(),e.j41(29,"div",118)(30,"div")(31,"p",119),e.EFF(32,"Nombre completo"),e.k0s(),e.j41(33,"p",120),e.EFF(34),e.k0s()(),e.j41(35,"div",121)(36,"div")(37,"p",122),e.EFF(38,"Identificaci\xf3n"),e.k0s(),e.j41(39,"p",123),e.EFF(40),e.k0s()(),e.j41(41,"div")(42,"p",122),e.EFF(43,"Edad"),e.k0s(),e.j41(44,"p",123),e.EFF(45),e.k0s()(),e.j41(46,"div")(47,"p",122),e.EFF(48,"Sexo"),e.k0s(),e.j41(49,"p",123),e.EFF(50),e.k0s()()()()(),e.j41(51,"div")(52,"div",116),e.nrm(53,"lucide-icon",117),e.j41(54,"h3",44),e.EFF(55,"M\xe9dico Prescriptor"),e.k0s()(),e.j41(56,"div",118)(57,"div")(58,"p",120),e.EFF(59),e.k0s(),e.j41(60,"p",119),e.EFF(61),e.k0s()(),e.j41(62,"div",124)(63,"div",106),e.nrm(64,"lucide-icon",125),e.j41(65,"span",126),e.EFF(66,"Firma digital verificada"),e.k0s()()()()(),e.j41(67,"div")(68,"div",127)(69,"div",106),e.nrm(70,"lucide-icon",117),e.j41(71,"h3",44),e.EFF(72),e.k0s()()(),e.j41(73,"div",128),e.DNE(74,$,23,6,"div",129),e.k0s()(),e.j41(75,"div",130)(76,"div",112)(77,"div",131),e.nrm(78,"lucide-icon",113),e.j41(79,"span",114),e.EFF(80,"Fecha de emisi\xf3n"),e.k0s()(),e.j41(81,"p",132),e.EFF(82),e.k0s()(),e.j41(83,"div",112)(84,"div",131),e.nrm(85,"lucide-icon",113),e.j41(86,"span",114),e.EFF(87,"V\xe1lida hasta"),e.k0s()(),e.j41(88,"p",132),e.EFF(89),e.k0s()()()()(),e.j41(90,"div",133)(91,"button",134),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.reimprimirReceta(n.recetaSeleccionada))}),e.nrm(92,"lucide-icon",48),e.EFF(93," Reimprimir receta "),e.k0s()()()()}if(2&s){const t=e.XpG();e.R7$(7),e.Y8G("img",t.fileTextIcon),e.R7$(4),e.JRh(t.recetaSeleccionada.id),e.R7$(2),e.Y8G("img",t.xIcon),e.R7$(6),e.Y8G("img",t.fileTextIcon),e.R7$(3),e.HbH(t.getEstadoClass(t.recetaSeleccionada.estado)),e.R7$(),e.SpI(" ",t.getEstadoTexto(t.recetaSeleccionada.estado)," "),e.R7$(3),e.Y8G("img",t.userIcon),e.R7$(8),e.JRh(t.recetaSeleccionada.paciente.nombre),e.R7$(6),e.JRh(t.recetaSeleccionada.paciente.cedula),e.R7$(5),e.SpI("",t.recetaSeleccionada.paciente.edad," a\xf1os"),e.R7$(5),e.JRh("M"===t.recetaSeleccionada.paciente.genero?"Masculino":"Femenino"),e.R7$(3),e.Y8G("img",t.stethoscopeIcon),e.R7$(6),e.JRh(t.recetaSeleccionada.medico.nombre),e.R7$(2),e.JRh(t.recetaSeleccionada.medico.especialidad),e.R7$(3),e.Y8G("img",t.userCheckIcon),e.R7$(6),e.Y8G("img",t.pillIcon),e.R7$(2),e.SpI("Medicamentos (",t.recetaSeleccionada.medicamentos.length,")"),e.R7$(2),e.Y8G("ngForOf",t.recetaSeleccionada.medicamentos),e.R7$(4),e.Y8G("img",t.calendarIcon),e.R7$(4),e.JRh(t.recetaSeleccionada.fechaEmision),e.R7$(3),e.Y8G("img",t.clockIcon),e.R7$(4),e.JRh(t.recetaSeleccionada.fechaVencimiento),e.R7$(3),e.Y8G("img",t.printerIcon)}}function G(s,f){if(1&s&&(e.j41(0,"div",159)(1,"div",169)(2,"div",170)(3,"p")(4,"strong"),e.EFF(5,"N\xfamero:"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"p")(8,"strong"),e.EFF(9,"Paciente:"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"p")(12,"strong"),e.EFF(13,"C\xe9dula:"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"p")(16,"strong"),e.EFF(17,"Medicamentos:"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"p")(20,"strong"),e.EFF(21,"Fecha de emisi\xf3n:"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"p")(24,"strong"),e.EFF(25,"Estado actual:"),e.k0s(),e.j41(26,"span",171),e.EFF(27," Emitida "),e.k0s()()()()()),2&s){const t=e.XpG(2);e.R7$(6),e.SpI(" ",t.recetaAAnular.id,""),e.R7$(4),e.SpI(" ",t.recetaAAnular.paciente.nombre,""),e.R7$(4),e.SpI(" ",t.recetaAAnular.paciente.cedula,""),e.R7$(4),e.SpI(" ",t.recetaAAnular.medicamentos.length,""),e.R7$(4),e.SpI(" ",t.recetaAAnular.fechaEmision,"")}}function A(s,f){if(1&s){const t=e.RV6();e.j41(0,"div",146),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cerrarModalAnular())}),e.j41(1,"div",147),e.nrm(2,"div",148),e.j41(3,"div",149),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(4,"div",150)(5,"div",151)(6,"div",152),e.nrm(7,"lucide-icon",153),e.k0s(),e.j41(8,"div",154)(9,"h3",155),e.EFF(10," Anular receta m\xe9dica "),e.k0s(),e.j41(11,"div",156)(12,"p",157),e.EFF(13,' \xbfEst\xe1s seguro de que deseas anular esta receta? Esta acci\xf3n cambiar\xe1 el estado de la receta a "anulada" y no podr\xe1 ser dispensada. '),e.k0s()()()()(),e.DNE(14,G,28,5,"div",158),e.j41(15,"div",159)(16,"div",160)(17,"div",53),e.nrm(18,"lucide-icon",161),e.j41(19,"div",162)(20,"p",163),e.EFF(21,"Importante:"),e.k0s(),e.j41(22,"ul",164)(23,"li"),e.EFF(24,"La receta anulada no podr\xe1 ser dispensada en ninguna farmacia"),e.k0s(),e.j41(25,"li"),e.EFF(26,"Esta acci\xf3n no se puede deshacer"),e.k0s(),e.j41(27,"li"),e.EFF(28,"Se generar\xe1 un registro de auditor\xeda de la anulaci\xf3n"),e.k0s(),e.j41(29,"li"),e.EFF(30,"El paciente deber\xe1 solicitar una nueva receta si la necesita"),e.k0s()()()()()(),e.j41(31,"div",165)(32,"button",166),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmarAnularReceta())}),e.nrm(33,"lucide-icon",167),e.EFF(34," Anular receta "),e.k0s(),e.j41(35,"button",168),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cerrarModalAnular())}),e.EFF(36," Cancelar "),e.k0s()()()()()}if(2&s){const t=e.XpG();e.R7$(7),e.Y8G("img",t.banIcon),e.R7$(7),e.Y8G("ngIf",t.recetaAAnular),e.R7$(4),e.Y8G("img",t.infoIcon),e.R7$(15),e.Y8G("img",t.banIcon)}}let P=(()=>{class s{constructor(t,a,n){this.router=t,this.roleDemoService=a,this.roleSuggestionService=n,this.fileTextIcon=d.iUU,this.checkCircleIcon=d.rAV,this.searchIcon=d.vji,this.calendarIcon=d.VvS,this.userIcon=d.KJW,this.eyeIcon=d.kU3,this.downloadIcon=d.f5X,this.qrCodeIcon=d.vW6,this.filterIcon=d.dJT,this.pillIcon=d.abF,this.chevronLeftIcon=d.JGc,this.chevronRightIcon=d.c_$,this.infoIcon=d.R2D,this.xCircleIcon=d.Jpz,this.clockIcon=d.zD7,this.moreVerticalIcon=d.GvN,this.printerIcon=d.xjr,this.banIcon=d.MAP,this.xIcon=d.X,this.userCheckIcon=d.MWd,this.stethoscopeIcon=d.oYO,this.terminoBusqueda="",this.filtroEstado="",this.fechaDesde="",this.fechaHasta="",this.recetasFiltradas=[],this.recetasPaginadas=[],this.modalAccionesAbierto=null,this.recetaSeleccionada=null,this.modalAnularAbierto=!1,this.recetaAAnular=null,this.paginaActual=1,this.elementosPorPagina=10,this.totalPaginas=0,this.recetasEmitidas=0,this.recetasDispensadas=0,this.recetasParciales=0,this.recetasAnuladas=0,this.recetasVencidas=0,this.recetasEsteMes=0,this.totalMedicamentos=0,this.showRoleSuggestionModal=(0,e.vPA)(!1),this.subscriptions=new o.yU,this.breadcrumbItems=[{label:"Prescripciones",route:"/prescripciones"},{label:"Recetas Emitidas"}],this.recetas=[{id:"RX-2025-001234",paciente:{nombre:"Carlos Rodr\xedguez S\xe1nchez",cedula:"1-0856-0432",edad:45,genero:"M"},diagnostico:"Hipertensi\xf3n arterial esencial (I10)",fechaEmision:"01/10/2025",fechaVencimiento:"15/10/2025",estado:"emitida",medicamentos:[{nombre:"Ibuprofeno",dosis:"400 mg",cantidad:30,frecuencia:"3 veces al d\xeda",duracion:"5 d\xedas",estado:"dispensado"}],farmacia:null,fechaDispensacion:null,medico:{nombre:"Dra. Mar\xeda Fern\xe1ndez L\xf3pez",especialidad:"Medicina Interna",codigoMedico:"MED-12345",firmaDigital:!0}},{id:"RX-2025-001235",paciente:{nombre:"Ana Garc\xeda Mora",cedula:"2-0654-0821",edad:32,genero:"F"},diagnostico:"Diabetes mellitus tipo 2 no insulinodependiente (E11.9)",fechaEmision:"15/01/2025",fechaVencimiento:"15/04/2025",estado:"emitida",medicamentos:[{nombre:"Metformina",dosis:"850mg",cantidad:60,frecuencia:"2 veces al d\xeda",duracion:"30 d\xedas",estado:"pendiente"},{nombre:"Glibenclamida",dosis:"5mg",cantidad:30,frecuencia:"1 vez al d\xeda",duracion:"30 d\xedas",estado:"pendiente"}],farmacia:null,fechaDispensacion:null,medico:{nombre:"Dr. Jos\xe9 Mart\xednez Ruiz",especialidad:"Endocrinolog\xeda",codigoMedico:"MED-67890",firmaDigital:!0}},{id:"RX-2025-009842",paciente:{nombre:"Carlos Andr\xe9s P\xe9rez Guti\xe9rrez",cedula:"41.523.789",edad:28,genero:"M"},diagnostico:"Migra\xf1a sin aura, epis\xf3dica (G43.009)",fechaEmision:"01/10/2025",fechaVencimiento:"15/10/2025",estado:"emitida",medicamentos:[{nombre:"Sumatript\xe1n",dosis:"50mg",cantidad:6,frecuencia:"Seg\xfan necesidad",duracion:"14 d\xedas",estado:"pendiente"}],farmacia:null,fechaDispensacion:null,medico:{nombre:"Dra. Mar\xeda Fern\xe1ndez L\xf3pez",especialidad:"Neurolog\xeda",codigoMedico:"MED-12345",firmaDigital:!0}},{id:"RX-2025-009841",paciente:{nombre:"Sandra Milena Torres Vargas",cedula:"52.367.941",edad:35,genero:"F"},diagnostico:"Infecci\xf3n respiratoria aguda del tracto superior (J06.9)",fechaEmision:"01/10/2025",fechaVencimiento:"15/10/2025",estado:"dispensada",medicamentos:[{nombre:"Amoxicilina",dosis:"500mg",cantidad:21,frecuencia:"3 veces al d\xeda",duracion:"7 d\xedas",estado:"dispensado"},{nombre:"Acetaminof\xe9n",dosis:"500mg",cantidad:20,frecuencia:"Cada 6 horas",duracion:"5 d\xedas",estado:"dispensado"}],farmacia:"Farmacia Sucre",fechaDispensacion:"02/10/2025",medico:{nombre:"Dra. Mar\xeda Fern\xe1ndez L\xf3pez",especialidad:"Medicina General",codigoMedico:"MED-12345",firmaDigital:!0}},{id:"RX-2025-009840",paciente:{nombre:"Diego Fernando Ram\xedrez Castro",cedula:"38.941.652",edad:42,genero:"M"},diagnostico:"Hipertensi\xf3n arterial esencial (I10)",fechaEmision:"30/09/2025",fechaVencimiento:"14/10/2025",estado:"emitida",medicamentos:[{nombre:"Enalapril",dosis:"10mg",cantidad:30,frecuencia:"2 veces al d\xeda",duracion:"30 d\xedas",estado:"pendiente"},{nombre:"Hidroclorotiazida",dosis:"25mg",cantidad:30,frecuencia:"1 vez al d\xeda",duracion:"30 d\xedas",estado:"pendiente"}],farmacia:null,fechaDispensacion:null,medico:{nombre:"Dr. Jos\xe9 Mart\xednez Ruiz",especialidad:"Cardiolog\xeda",codigoMedico:"MED-67890",firmaDigital:!0}}],this.Math=Math,this.recetasFiltradas=[...this.recetas],this.calcularEstadisticas(),this.actualizarPaginacion()}ngOnInit(){this.checkRoleSuggestion();const t=this.roleDemoService.currentSession$.subscribe(a=>{"M\xe9dico"===a.activeRole&&(this.showRoleSuggestionModal.set(!1),this.roleSuggestionService.clearDismissedPages())});this.subscriptions.add(t)}ngOnDestroy(){this.subscriptions.unsubscribe()}checkRoleSuggestion(){const t=this.roleDemoService.getCurrentSession();this.showRoleSuggestionModal.set("M\xe9dico"!==t.activeRole&&"Administrador"!==t.activeRole)}onRoleSuggestionDismiss(){this.showRoleSuggestionModal.set(!1)}onRoleChanged(){this.showRoleSuggestionModal.set(!1)}filtrarRecetas(){let t=[...this.recetas];if(this.terminoBusqueda.trim()){const a=this.terminoBusqueda.toLowerCase();t=t.filter(n=>n.id.toLowerCase().includes(a)||n.paciente.nombre.toLowerCase().includes(a)||n.paciente.cedula.includes(a)||n.diagnostico.toLowerCase().includes(a))}this.filtroEstado&&(t=t.filter(a=>a.estado===this.filtroEstado)),this.fechaDesde&&(t=t.filter(a=>a.fechaEmision>=this.fechaDesde)),this.fechaHasta&&(t=t.filter(a=>a.fechaEmision<=this.fechaHasta)),this.recetasFiltradas=t,this.paginaActual=1,this.actualizarPaginacion()}calcularEstadisticas(){this.recetasEmitidas=this.recetas.filter(n=>"emitida"===n.estado).length,this.recetasDispensadas=this.recetas.filter(n=>"dispensada"===n.estado).length,this.recetasParciales=this.recetas.filter(n=>"parcialmente-dispensada"===n.estado).length,this.recetasAnuladas=this.recetas.filter(n=>"anulada"===n.estado).length,this.recetasVencidas=this.recetas.filter(n=>"vencida"===n.estado).length;const t=new Date,a=new Date(t.getFullYear(),t.getMonth(),1);this.recetasEsteMes=this.recetas.filter(n=>new Date(n.fechaEmision)>=a).length,this.totalMedicamentos=this.recetas.reduce((n,r)=>n+(r.medicamentos?.length||0),0)}getEstadoClass(t){return{emitida:"bg-blue-100 text-blue-800",dispensada:"bg-green-100 text-green-800","parcialmente-dispensada":"bg-yellow-100 text-yellow-800",vencida:"bg-red-100 text-red-800",anulada:"bg-red-100 text-red-800 border border-red-200"}[t]||"bg-gray-100 text-gray-800"}getEstadoTexto(t){return{emitida:"Emitida",dispensada:"Dispensada","parcialmente-dispensada":"Parcial",vencida:"Vencida",anulada:"Anulada"}[t]||t}getDiasVencimiento(t){const a=new Date,n=new Date(t),r=Math.ceil((n.getTime()-a.getTime())/864e5);return r<0?`Vencida hace ${Math.abs(r)} d\xedas`:0===r?"Vence hoy":`${r} d\xedas restantes`}getDiasVencimientoClass(t){const a=new Date,n=new Date(t),r=Math.ceil((n.getTime()-a.getTime())/864e5);return r<0?"text-red-600":r<=7?"text-yellow-600":"text-green-600"}verReceta(t){this.recetaSeleccionada=t,this.cerrarModalAcciones()}cerrarModalDetalles(){this.recetaSeleccionada=null}verQR(t){console.log("Ver QR:",t),alert(`C\xf3digo QR generado: QR-${t.id}\n\nReceta: ${t.id}\nPaciente: ${t.paciente.nombre}`)}toggleAccionesModal(t){this.modalAccionesAbierto=this.modalAccionesAbierto===t?null:t}cerrarModalAcciones(){this.modalAccionesAbierto=null}reimprimirReceta(t){window.open(`/prescripciones/imprimir/${t.id}`,"_blank","width=1200,height=800,scrollbars=yes,resizable=yes")}descargarReceta(t){window.open(`/prescripciones/imprimir/${t.id}?autoprint=true`,"_blank","width=1200,height=800,scrollbars=yes,resizable=yes")}actualizarPaginacion(){this.totalPaginas=Math.ceil(this.recetasFiltradas.length/this.elementosPorPagina);const t=(this.paginaActual-1)*this.elementosPorPagina;this.recetasPaginadas=this.recetasFiltradas.slice(t,t+this.elementosPorPagina)}cambiarPagina(t){t>=1&&t<=this.totalPaginas&&(this.paginaActual=t,this.actualizarPaginacion())}getPaginas(){const t=[];let n=Math.max(1,this.paginaActual-Math.floor(2.5)),r=Math.min(this.totalPaginas,n+5-1);r-n<4&&(n=Math.max(1,r-5+1));for(let p=n;p<=r;p++)t.push(p);return t}anularReceta(t){"emitida"===t.estado?(this.recetaAAnular=t,this.modalAnularAbierto=!0):console.warn('Solo se pueden anular recetas en estado "emitida"')}cerrarModalAnular(){this.modalAnularAbierto=!1,this.recetaAAnular=null}confirmarAnularReceta(){if(this.recetaAAnular){const t=this.recetas.findIndex(a=>a.id===this.recetaAAnular.id);t>-1&&(this.recetas[t]={...this.recetas[t],estado:"anulada",fechaAnulacion:(new Date).toLocaleDateString("es-ES"),motivoAnulacion:"Anulada por el m\xe9dico prescriptor"},this.filtrarRecetas(),this.calcularEstadisticas(),console.log("Receta anulada:",this.recetaAAnular))}this.cerrarModalAnular()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(j.Ix),e.rXU(w.z),e.rXU(m.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-emitidas"]],standalone:!0,features:[e.aNF],decls:104,vars:32,consts:[[1,"space-y-6",3,"click"],[3,"items"],["title","Recetas Emitidas","description","Prescripciones firmadas digitalmente y listas para dispensaci\xf3n",3,"icon","actionButton"],["slot","action",1,"bg-white/20","backdrop-blur-sm","text-white","px-4","py-2","rounded-lg","border","border-white/30"],[1,"text-right"],[1,"text-xs","text-white/80"],[1,"text-2xl","font-bold","text-white"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-blue-500","p-6"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600","font-medium"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-3","bg-blue-100","rounded-lg"],[1,"w-8","h-8","text-blue-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-yellow-500","p-6"],[1,"p-3","bg-yellow-100","rounded-lg"],[1,"w-8","h-8","text-yellow-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-green-500","p-6"],[1,"p-3","bg-green-100","rounded-lg"],[1,"w-8","h-8","text-green-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-red-500","p-6"],[1,"p-3","bg-red-100","rounded-lg"],[1,"w-8","h-8","text-red-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-purple-500","p-6"],[1,"p-3","bg-purple-100","rounded-lg"],[1,"w-8","h-8","text-purple-600",3,"img"],[1,"bg-white","rounded-lg","shadow","p-6"],[1,"grid","gap-4","md:grid-cols-4"],[1,"relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-4","h-4","text-gray-400",3,"img"],["type","text","placeholder","Buscar por paciente, ID o diagn\xf3stico...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent",3,"ngModelChange","input","ngModel"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],["value",""],["value","emitida"],["value","dispensada"],["value","parcialmente-dispensada"],["value","vencida"],["value","anulada"],["type","date",1,"px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gradient-to-r","from-blue-50","to-white"],[1,"flex","items-center","space-x-3"],[1,"p-2","bg-blue-100","rounded-lg"],[1,"w-5","h-5","text-blue-600",3,"img"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","gap-2"],[1,"px-3","py-2","text-sm","bg-blue-100","text-blue-700","rounded-lg","hover:bg-blue-200","flex","items-center","gap-2"],[1,"w-4","h-4",3,"img"],["class","text-center py-12",4,"ngIf"],["class","overflow-x-auto","style","max-height: 500px; overflow-y: auto;",4,"ngIf"],["class","px-6 py-4 border-t border-gray-200 bg-gray-50",4,"ngIf"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"flex","items-start"],[1,"w-5","h-5","text-blue-600","mt-0.5","mr-3","flex-shrink-0",3,"img"],[1,"text-sm","font-medium","text-blue-900","mb-1"],[1,"text-sm","text-blue-700"],["class","fixed inset-0 z-50 overflow-hidden",3,"click",4,"ngIf"],["class","fixed inset-0 z-50 overflow-y-auto",3,"click",4,"ngIf"],[3,"dismiss","roleChanged","isOpen","suggestedRole"],[1,"text-center","py-12"],[1,"w-16","h-16","text-gray-300","mx-auto","mb-4",3,"img"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"overflow-x-auto",2,"max-height","500px","overflow-y","auto"],[1,"w-full","min-w-[1200px]"],[1,"bg-gray-50","sticky","top-0"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-blue-50/50 cursor-pointer transition-all","title","Doble clic para ver detalles",3,"dblclick",4,"ngFor","ngForOf"],["title","Doble clic para ver detalles",1,"hover:bg-blue-50/50","cursor-pointer","transition-all",3,"dblclick"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],[1,"w-4","h-4","text-blue-600",3,"img"],[1,"font-medium"],[1,"font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"w-4","h-4","text-gray-400",3,"img"],[1,"text-sm"],[1,"w-4","h-4","text-purple-600",3,"img"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full"],["class","text-xs text-gray-500 mt-1",4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],["title","M\xe1s acciones",1,"p-2","text-gray-400","hover:text-gray-600","rounded-full","hover:bg-gray-100","transition-colors",3,"click"],[1,"w-5","h-5",3,"img"],["class","absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",3,"click",4,"ngIf"],[1,"text-xs","text-gray-500","mt-1"],[1,"absolute","right-0","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","z-50",3,"click"],[1,"py-2"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","border-b","border-gray-100"],[1,"w-full","px-4","py-2","text-left","text-sm","text-gray-700","hover:bg-gray-50","flex","items-center","gap-3",3,"click"],[1,"w-4","h-4","text-gray-500",3,"img"],["class","border-t border-gray-100 mt-1 pt-1",4,"ngIf"],[1,"border-t","border-gray-100","mt-1","pt-1"],[1,"w-full","px-4","py-2","text-left","text-sm","text-red-600","hover:bg-red-50","flex","items-center","gap-3",3,"click"],[1,"w-4","h-4","text-red-500",3,"img"],[1,"px-6","py-4","border-t","border-gray-200","bg-gray-50"],[1,"text-sm","text-gray-700"],[1,"px-3","py-2","text-sm","font-medium","text-gray-500","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-1",3,"click","disabled"],[1,"flex","space-x-1"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"fixed","inset-0","z-50","overflow-hidden",3,"click"],[1,"absolute","inset-0","bg-black","bg-opacity-50"],[1,"absolute","right-0","top-0","h-full","w-full","max-w-md","bg-white","shadow-xl","transform","transition-transform","duration-300","ease-in-out","flex","flex-col",3,"click"],[1,"bg-gradient-to-r","from-blue-600","to-blue-700","px-6","py-4","text-white","flex-shrink-0"],[1,"flex","items-center","gap-2"],[1,"text-lg","font-semibold"],[1,"text-blue-100","text-sm","mt-1"],[1,"p-2","hover:bg-white/20","rounded-lg","transition-colors",3,"click"],[1,"flex-1","overflow-y-auto"],[1,"p-6","space-y-6"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"w-4","h-4","text-gray-600",3,"img"],[1,"text-sm","font-medium","text-gray-700"],[1,"px-3","py-1","text-xs","font-semibold","rounded-full"],[1,"flex","items-center","gap-2","mb-3"],[1,"w-5","h-5","text-gray-600",3,"img"],[1,"bg-gray-50","rounded-lg","p-4","space-y-3"],[1,"text-sm","text-gray-600"],[1,"font-semibold","text-gray-900"],[1,"grid","grid-cols-3","gap-4"],[1,"text-xs","text-gray-600"],[1,"text-sm","font-medium","text-gray-900"],[1,"flex","items-center","gap-4"],[1,"w-4","h-4","text-green-600",3,"img"],[1,"text-xs","text-green-700","font-medium"],[1,"flex","items-center","justify-between","mb-3"],[1,"space-y-3"],["class","bg-gray-50 rounded-lg p-4 border-l-4 border-l-purple-500",4,"ngFor","ngForOf"],[1,"grid","grid-cols-2","gap-4"],[1,"flex","items-center","gap-2","mb-2"],[1,"text-sm","text-gray-900"],[1,"border-t","border-gray-200","px-6","py-4","bg-gray-50","flex-shrink-0"],[1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-medium","py-3","px-4","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2",3,"click"],[1,"bg-gray-50","rounded-lg","p-4","border-l-4","border-l-purple-500"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"font-semibold","text-gray-900","mb-2"],[1,"grid","grid-cols-2","gap-3","text-sm"],[1,"ml-4","text-right"],["class","inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",4,"ngIf"],["class","inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",4,"ngIf"],[1,"inline-flex","items-center","px-2","py-1","text-xs","font-medium","bg-green-100","text-green-800","rounded-full"],[1,"w-3","h-3","mr-1",3,"img"],[1,"inline-flex","items-center","px-2","py-1","text-xs","font-medium","bg-yellow-100","text-yellow-800","rounded-full"],[1,"fixed","inset-0","z-50","overflow-y-auto",3,"click"],[1,"flex","items-center","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full",3,"click"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mx-auto","flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-red-100","sm:mx-0","sm:h-10","sm:w-10"],[1,"h-6","w-6","text-red-600",3,"img"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left","flex-1"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],["class","px-4 pb-4 sm:px-6",4,"ngIf"],[1,"px-4","pb-4","sm:px-6"],[1,"bg-yellow-50","border","border-yellow-200","rounded-lg","p-4"],[1,"w-5","h-5","text-yellow-600","mt-0.5","mr-3","flex-shrink-0",3,"img"],[1,"text-sm","text-yellow-700"],[1,"font-medium","mb-1"],[1,"list-disc","list-inside","space-y-1"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse","gap-3"],[1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-red-600","text-base","font-medium","text-white","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],[1,"w-4","h-4","mr-2",3,"img"],[1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4"],[1,"text-sm","text-red-700","space-y-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","ml-1"]],template:function(a,n){1&a&&(e.j41(0,"div",0),e.bIt("click",function(){return n.cerrarModalAcciones()}),e.nrm(1,"app-breadcrumbs",1),e.j41(2,"app-page-header",2)(3,"div",3)(4,"div",4)(5,"p",5),e.EFF(6,"Total de recetas"),e.k0s(),e.j41(7,"p",6),e.EFF(8),e.k0s()()()(),e.j41(9,"div",7)(10,"div",8)(11,"div",9)(12,"div")(13,"p",10),e.EFF(14,"Emitidas"),e.k0s(),e.j41(15,"p",11),e.EFF(16),e.k0s()(),e.j41(17,"div",12),e.nrm(18,"lucide-icon",13),e.k0s()()(),e.j41(19,"div",14)(20,"div",9)(21,"div")(22,"p",10),e.EFF(23,"Parcialmente"),e.k0s(),e.j41(24,"p",11),e.EFF(25),e.k0s()(),e.j41(26,"div",15),e.nrm(27,"lucide-icon",16),e.k0s()()(),e.j41(28,"div",17)(29,"div",9)(30,"div")(31,"p",10),e.EFF(32,"Completadas"),e.k0s(),e.j41(33,"p",11),e.EFF(34),e.k0s()(),e.j41(35,"div",18),e.nrm(36,"lucide-icon",19),e.k0s()()(),e.j41(37,"div",20)(38,"div",9)(39,"div")(40,"p",10),e.EFF(41,"Anuladas"),e.k0s(),e.j41(42,"p",11),e.EFF(43),e.k0s()(),e.j41(44,"div",21),e.nrm(45,"lucide-icon",22),e.k0s()()(),e.j41(46,"div",23)(47,"div",9)(48,"div")(49,"p",10),e.EFF(50,"Medicamentos"),e.k0s(),e.j41(51,"p",11),e.EFF(52),e.k0s()(),e.j41(53,"div",24),e.nrm(54,"lucide-icon",25),e.k0s()()()(),e.j41(55,"div",26)(56,"div",27)(57,"div",28),e.nrm(58,"lucide-icon",29),e.j41(59,"input",30),e.mxI("ngModelChange",function(p){return e.DH7(n.terminoBusqueda,p)||(n.terminoBusqueda=p),p}),e.bIt("input",function(){return n.filtrarRecetas()}),e.k0s()(),e.j41(60,"select",31),e.mxI("ngModelChange",function(p){return e.DH7(n.filtroEstado,p)||(n.filtroEstado=p),p}),e.bIt("change",function(){return n.filtrarRecetas()}),e.j41(61,"option",32),e.EFF(62,"Todos los estados"),e.k0s(),e.j41(63,"option",33),e.EFF(64,"Emitida"),e.k0s(),e.j41(65,"option",34),e.EFF(66,"Dispensada"),e.k0s(),e.j41(67,"option",35),e.EFF(68,"Parcialmente Dispensada"),e.k0s(),e.j41(69,"option",36),e.EFF(70,"Vencida"),e.k0s(),e.j41(71,"option",37),e.EFF(72,"Anulada"),e.k0s()(),e.j41(73,"input",38),e.mxI("ngModelChange",function(p){return e.DH7(n.fechaDesde,p)||(n.fechaDesde=p),p}),e.bIt("change",function(){return n.filtrarRecetas()}),e.k0s(),e.j41(74,"input",38),e.mxI("ngModelChange",function(p){return e.DH7(n.fechaHasta,p)||(n.fechaHasta=p),p}),e.bIt("change",function(){return n.filtrarRecetas()}),e.k0s()()(),e.j41(75,"div",39)(76,"div",40)(77,"div",9)(78,"div",41)(79,"div",42),e.nrm(80,"lucide-icon",43),e.k0s(),e.j41(81,"div")(82,"h3",44),e.EFF(83,"Recetas Emitidas"),e.k0s(),e.j41(84,"p",45),e.EFF(85),e.k0s()()(),e.j41(86,"div",46)(87,"button",47),e.nrm(88,"lucide-icon",48),e.EFF(89," Exportar "),e.k0s()()()(),e.DNE(90,x,6,1,"div",49)(91,v,20,1,"div",50)(92,I,13,8,"div",51),e.k0s(),e.j41(93,"div",52)(94,"div",53),e.nrm(95,"lucide-icon",54),e.j41(96,"div")(97,"h4",55),e.EFF(98,"Informaci\xf3n sobre recetas emitidas"),e.k0s(),e.j41(99,"p",56),e.EFF(100," Las recetas emitidas son firmadas digitalmente y tienen validez legal. Haz doble clic en cualquier fila para ver detalles completos. Puedes reimprimir, exportar a PDF o anular recetas seg\xfan los permisos configurados. Las recetas tienen una validez de 14 d\xedas desde su emisi\xf3n seg\xfan normativa vigente. "),e.k0s()()()()(),e.DNE(101,D,94,24,"div",57)(102,A,37,4,"div",58),e.j41(103,"app-role-suggestion-modal",59),e.bIt("dismiss",function(){return n.onRoleSuggestionDismiss()})("roleChanged",function(){return n.onRoleChanged()}),e.k0s()),2&a&&(e.R7$(),e.Y8G("items",n.breadcrumbItems),e.R7$(),e.Y8G("icon",n.checkCircleIcon)("actionButton",!0),e.R7$(6),e.JRh(n.recetas.length),e.R7$(8),e.JRh(n.recetasEmitidas),e.R7$(2),e.Y8G("img",n.fileTextIcon),e.R7$(7),e.JRh(n.recetasParciales),e.R7$(2),e.Y8G("img",n.clockIcon),e.R7$(7),e.JRh(n.recetasDispensadas),e.R7$(2),e.Y8G("img",n.checkCircleIcon),e.R7$(7),e.JRh(n.recetasAnuladas),e.R7$(2),e.Y8G("img",n.xCircleIcon),e.R7$(7),e.JRh(n.totalMedicamentos),e.R7$(2),e.Y8G("img",n.pillIcon),e.R7$(4),e.Y8G("img",n.searchIcon),e.R7$(),e.R50("ngModel",n.terminoBusqueda),e.R7$(),e.R50("ngModel",n.filtroEstado),e.R7$(13),e.R50("ngModel",n.fechaDesde),e.R7$(),e.R50("ngModel",n.fechaHasta),e.R7$(6),e.Y8G("img",n.checkCircleIcon),e.R7$(5),e.E5c(" ",n.recetasFiltradas.length," receta",1!==n.recetasFiltradas.length?"s":""," encontrada",1!==n.recetasFiltradas.length?"s":""," \u2022 Doble clic para vista r\xe1pida "),e.R7$(3),e.Y8G("img",n.downloadIcon),e.R7$(2),e.Y8G("ngIf",0===n.recetasFiltradas.length),e.R7$(),e.Y8G("ngIf",n.recetasFiltradas.length>0),e.R7$(),e.Y8G("ngIf",n.recetasFiltradas.length>0),e.R7$(3),e.Y8G("img",n.infoIcon),e.R7$(6),e.Y8G("ngIf",n.recetaSeleccionada),e.R7$(),e.Y8G("ngIf",n.modalAnularAbierto),e.R7$(),e.Y8G("isOpen",n.showRoleSuggestionModal())("suggestedRole","M\xe9dico"))},dependencies:[b.MD,b.Sq,b.bT,i.YN,i.xH,i.y7,i.me,i.wz,i.BC,i.vS,d.flO,d.WGl,F.m,k.y,R.t],encapsulation:2})}}return s})()}}]);