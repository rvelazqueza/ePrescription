"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[1542],{1542:(U,u,l)=>{l.r(u),l.d(u,{RolesComponent:()=>X});var c=l(177),a=l(4341),d=l(8516),p=l(8961),e=l(4438);function m(t,r){if(1&t){const i=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){const s=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.activeTab=s.id)}),e.nrm(1,"lucide-icon",30),e.EFF(2),e.k0s()}if(2&t){const i=r.$implicit,o=e.XpG();e.HbH(o.getTabClass(i.id)),e.R7$(),e.Y8G("img",i.icon),e.R7$(),e.Lme(" ",i.label," (",i.count,") ")}}function g(t,r){if(1&t){const i=e.RV6();e.j41(0,"tr",38)(1,"td",39)(2,"div")(3,"p",40),e.EFF(4),e.k0s(),e.j41(5,"p",7),e.EFF(6),e.k0s()()(),e.j41(7,"td",41)(8,"span",42),e.EFF(9),e.k0s()(),e.j41(10,"td",41)(11,"span",43),e.EFF(12),e.k0s()(),e.j41(13,"td",44),e.EFF(14),e.k0s(),e.j41(15,"td",45)(16,"button",46),e.bIt("click",function(){const s=e.eBV(i).$implicit,n=e.XpG(2);return e.Njj(n.openPermissionsModal(s))}),e.nrm(17,"lucide-icon",47),e.EFF(18," Ver permisos "),e.k0s(),e.j41(19,"button",48),e.bIt("click",function(){const s=e.eBV(i).$implicit,n=e.XpG(2);return e.Njj(n.createCustomRole(s))}),e.nrm(20,"lucide-icon",47),e.EFF(21," Crear personalizado "),e.k0s()()()}if(2&t){const i=r.$implicit,o=e.XpG(2);e.R7$(4),e.JRh(i.name),e.R7$(2),e.JRh(i.description),e.R7$(3),e.SpI(" ",i.usersCount," directos "),e.R7$(3),e.SpI(" ",i.derivedCount," personalizados "),e.R7$(2),e.SpI(" ",i.lastModified," "),e.R7$(3),e.Y8G("img",o.eyeIcon),e.R7$(3),e.Y8G("img",o.plusIcon)}}function F(t,r){if(1&t&&(e.j41(0,"div")(1,"div",31)(2,"table",32)(3,"thead",33)(4,"tr")(5,"th",34),e.EFF(6,"Descripci\xf3n"),e.k0s(),e.j41(7,"th",34),e.EFF(8,"Asignaciones"),e.k0s(),e.j41(9,"th",34),e.EFF(10,"Derivados"),e.k0s(),e.j41(11,"th",34),e.EFF(12,"\xdaltima modificaci\xf3n"),e.k0s(),e.j41(13,"th",35),e.EFF(14,"Acciones"),e.k0s()()(),e.j41(15,"tbody",36),e.DNE(16,g,22,7,"tr",37),e.k0s()()()()),2&t){const i=e.XpG();e.R7$(16),e.Y8G("ngForOf",i.getBaseRoles())}}function _(t,r){if(1&t){const i=e.RV6();e.j41(0,"button",64),e.bIt("click",function(){e.eBV(i);const s=e.XpG().$implicit,n=e.XpG(2);return e.Njj(n.removeRole(s))}),e.EFF(1," Remover "),e.k0s()}}function b(t,r){1&t&&(e.j41(0,"span",65),e.EFF(1," Pendiente "),e.k0s())}function v(t,r){if(1&t){const i=e.RV6();e.j41(0,"tr",38)(1,"td",39)(2,"div",49),e.nrm(3,"lucide-icon",50),e.j41(4,"div")(5,"p",40),e.EFF(6),e.k0s(),e.j41(7,"p",51),e.EFF(8),e.k0s()()()(),e.j41(9,"td",41)(10,"span",52),e.EFF(11),e.k0s()(),e.j41(12,"td",41)(13,"div",53)(14,"p",54),e.EFF(15),e.k0s(),e.j41(16,"p",10),e.EFF(17),e.k0s()()(),e.j41(18,"td",41)(19,"div",55)(20,"span",56),e.EFF(21),e.k0s(),e.j41(22,"span",57),e.EFF(23),e.k0s()()(),e.j41(24,"td",41)(25,"span",58),e.EFF(26," activo "),e.k0s()(),e.j41(27,"td",41)(28,"div",53)(29,"p",54),e.EFF(30),e.k0s()()(),e.j41(31,"td",59)(32,"div",49)(33,"button",60),e.bIt("click",function(){const s=e.eBV(i).$implicit,n=e.XpG(2);return e.Njj(n.openPermissionsModal(s))}),e.nrm(34,"lucide-icon",61),e.k0s(),e.DNE(35,_,2,0,"button",62)(36,b,2,0,"span",63),e.k0s()()()}if(2&t){const i=r.$implicit,o=e.XpG(2);e.R7$(3),e.Y8G("img",o.starIcon),e.R7$(3),e.JRh(i.name),e.R7$(2),e.JRh(i.code),e.R7$(3),e.JRh(o.getBaseRoleName(i)),e.R7$(4),e.JRh(o.getUserForRole(i)),e.R7$(2),e.JRh(o.getUserEmailForRole(i)),e.R7$(4),e.SpI(" -",o.getAdjustmentsCount(i)," quitados "),e.R7$(2),e.SpI(" +",o.getAdditionsCount(i)," agregados "),e.R7$(7),e.JRh(o.getVigencia(i)),e.R7$(4),e.Y8G("img",o.eyeIcon),e.R7$(),e.Y8G("ngIf","active"===i.status),e.R7$(),e.Y8G("ngIf","pending"===i.status)}}function j(t,r){if(1&t&&(e.j41(0,"div")(1,"div",31)(2,"table",32)(3,"thead",33)(4,"tr")(5,"th",34),e.EFF(6,"Rol Personalizado"),e.k0s(),e.j41(7,"th",34),e.EFF(8,"Rol Base"),e.k0s(),e.j41(9,"th",34),e.EFF(10,"Usuario"),e.k0s(),e.j41(11,"th",34),e.EFF(12,"Ajustes"),e.k0s(),e.j41(13,"th",34),e.EFF(14,"Estado"),e.k0s(),e.j41(15,"th",34),e.EFF(16,"Vigencia"),e.k0s(),e.j41(17,"th",35),e.EFF(18,"Acciones"),e.k0s()()(),e.j41(19,"tbody",36),e.DNE(20,v,37,12,"tr",37),e.k0s()()()()),2&t){const i=e.XpG();e.R7$(20),e.Y8G("ngForOf",i.getCustomRoles())}}function f(t,r){if(1&t&&(e.j41(0,"div",68),e.nrm(1,"lucide-icon",69),e.j41(2,"h3",70),e.EFF(3,"No hay roles pendientes"),e.k0s(),e.j41(4,"p",7),e.EFF(5,"Todos los roles personalizados han sido aprobados"),e.k0s()()),2&t){const i=e.XpG(2);e.R7$(),e.Y8G("img",i.checkCircle2Icon)}}function R(t,r){if(1&t&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&t){const i=r.$implicit;e.R7$(),e.SpI("\u2022 ",i,"")}}function x(t,r){if(1&t&&(e.j41(0,"div",89)(1,"div",90)(2,"span",91),e.EFF(3,"\u2795"),e.k0s(),e.j41(4,"span",92),e.EFF(5,"Permisos Agregados:"),e.k0s()(),e.j41(6,"ul",93),e.DNE(7,R,2,1,"li",94),e.k0s()()),2&t){const i=e.XpG().$implicit;e.R7$(7),e.Y8G("ngForOf",i.permissionsAdded)}}function E(t,r){if(1&t&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&t){const i=r.$implicit;e.R7$(),e.SpI("\u2022 ",i,"")}}function k(t,r){if(1&t&&(e.j41(0,"div",95)(1,"div",90)(2,"span",91),e.EFF(3,"\u2796"),e.k0s(),e.j41(4,"span",96),e.EFF(5,"Permisos Removidos:"),e.k0s()(),e.j41(6,"ul",97),e.DNE(7,E,2,1,"li",94),e.k0s()()),2&t){const i=e.XpG().$implicit;e.R7$(7),e.Y8G("ngForOf",i.permissionsRemoved)}}function h(t,r){if(1&t){const i=e.RV6();e.j41(0,"div",73)(1,"div",74)(2,"div",75),e.nrm(3,"lucide-icon",76),e.j41(4,"div")(5,"h3",77),e.EFF(6),e.k0s(),e.j41(7,"p",7),e.EFF(8),e.k0s()()(),e.j41(9,"span",78),e.EFF(10," Pendiente de Aprobaci\xf3n "),e.k0s()(),e.j41(11,"div",79)(12,"h4",80),e.EFF(13,"Ajustes de Permisos:"),e.k0s(),e.DNE(14,x,8,1,"div",81)(15,k,8,1,"div",82),e.k0s(),e.j41(16,"div",79)(17,"h4",80),e.EFF(18,"Justificaci\xf3n:"),e.k0s(),e.j41(19,"div",83)(20,"p",84),e.EFF(21),e.k0s()()(),e.j41(22,"div",85)(23,"span"),e.EFF(24),e.k0s(),e.j41(25,"span"),e.EFF(26),e.k0s()(),e.j41(27,"div",86)(28,"button",87),e.bIt("click",function(){const s=e.eBV(i).$implicit,n=e.XpG(3);return e.Njj(n.approveRole(s))}),e.nrm(29,"lucide-icon",30),e.EFF(30," Aprobar Rol "),e.k0s(),e.j41(31,"button",88),e.bIt("click",function(){const s=e.eBV(i).$implicit,n=e.XpG(3);return e.Njj(n.rejectRole(s))}),e.nrm(32,"lucide-icon",30),e.EFF(33," Rechazar "),e.k0s()()()}if(2&t){const i=r.$implicit,o=e.XpG(3);e.R7$(3),e.Y8G("img",o.alertTriangleIcon),e.R7$(3),e.JRh(i.name),e.R7$(2),e.Lme("Base: ",i.baseRole," \u2022 Usuario: ",i.userName,""),e.R7$(6),e.Y8G("ngIf",i.permissionsAdded.length>0),e.R7$(),e.Y8G("ngIf",i.permissionsRemoved.length>0),e.R7$(6),e.JRh(i.justification),e.R7$(3),e.SpI("Creado por: ",i.createdBy,""),e.R7$(2),e.SpI("Fecha de solicitud: ",i.createdDate,""),e.R7$(3),e.Y8G("img",o.checkCircle2Icon),e.R7$(3),e.Y8G("img",o.xCircleIcon)}}function C(t,r){if(1&t&&(e.j41(0,"div",71),e.DNE(1,h,34,11,"div",72),e.k0s()),2&t){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",i.pendingRoles)}}function y(t,r){if(1&t&&(e.j41(0,"div"),e.DNE(1,f,6,1,"div",66)(2,C,2,1,"div",67),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",0===i.pendingRoles.length),e.R7$(),e.Y8G("ngIf",i.pendingRoles.length>0)}}function I(t,r){if(1&t&&(e.j41(0,"div")(1,"div",114)(2,"div",90),e.nrm(3,"lucide-icon",115),e.j41(4,"span",40),e.EFF(5,"Advertencias de seguridad"),e.k0s()(),e.j41(6,"ul",116)(7,"li"),e.EFF(8,'\u2022 ADVERTENCIA HIPAA: El permiso "Exportar PHI" permite exportar datos protegidos de salud. Requiere auditor\xeda completa.'),e.k0s(),e.j41(9,"li"),e.EFF(10,'\u2022 ADVERTENCIA: "Gesti\xf3n total de seguridad" es un permiso cr\xedtico que permite control total del sistema.'),e.k0s(),e.j41(11,"li"),e.EFF(12,'\u2022 ADVERTENCIA: El permiso "Restaurar sistema" puede sobrescribir datos. Requiere aprobaci\xf3n especial.'),e.k0s()()(),e.j41(13,"div",117)(14,"div",118)(15,"h4",119),e.nrm(16,"lucide-icon",120),e.EFF(17," Matriz de Permisos (RBAC Profesional) "),e.k0s(),e.j41(18,"div",121)(19,"span",122),e.EFF(20,"Lectura"),e.k0s(),e.j41(21,"span",123),e.EFF(22,"Escritura"),e.k0s(),e.j41(23,"span",124),e.EFF(24,"Eliminaci\xf3n"),e.k0s(),e.j41(25,"span",125),e.EFF(26,"Especial"),e.k0s(),e.j41(27,"span",126),e.EFF(28,"Admin"),e.k0s()()(),e.j41(29,"div",127)(30,"div",128)(31,"div",49),e.nrm(32,"lucide-icon",129),e.j41(33,"div")(34,"label",130),e.EFF(35," Prescripciones "),e.j41(36,"span",131),e.EFF(37," CR\xcdTICO "),e.k0s()(),e.j41(38,"p",132),e.EFF(39,"Control de recetas m\xe9dicas y prescripciones"),e.k0s()()(),e.j41(40,"span",133),e.EFF(41," 6 de 9 "),e.k0s()(),e.j41(42,"div",134)(43,"div",135),e.nrm(44,"input",136),e.j41(45,"div",137)(46,"div",49)(47,"label",138),e.EFF(48,"Ver"),e.k0s(),e.j41(49,"span",139),e.EFF(50,"read"),e.k0s()(),e.j41(51,"p",140),e.EFF(52,"Visualizar prescripciones"),e.k0s()()(),e.j41(53,"div",135),e.nrm(54,"input",136),e.j41(55,"div",137)(56,"div",49)(57,"label",138),e.EFF(58,"Crear"),e.k0s(),e.j41(59,"span",141),e.EFF(60,"write"),e.k0s()(),e.j41(61,"p",140),e.EFF(62,"Crear nuevas recetas"),e.k0s()()(),e.j41(63,"div",135),e.nrm(64,"input",136),e.j41(65,"div",137)(66,"div",49)(67,"label",138),e.EFF(68,"Editar"),e.k0s(),e.j41(69,"span",141),e.EFF(70,"write"),e.k0s()(),e.j41(71,"p",140),e.EFF(72,"Modificar recetas no firmadas"),e.k0s()()(),e.j41(73,"div",142),e.nrm(74,"input",143),e.j41(75,"div",137)(76,"div",49)(77,"label",138),e.EFF(78,"Eliminar"),e.k0s(),e.j41(79,"span",144),e.EFF(80,"delete"),e.k0s()(),e.j41(81,"p",140),e.EFF(82,"Eliminar borradores"),e.k0s()()(),e.j41(83,"div",145),e.nrm(84,"input",143),e.j41(85,"div",137)(86,"div",49)(87,"label",138),e.EFF(88,"Firmar"),e.k0s(),e.j41(89,"span",146),e.EFF(90,"special"),e.k0s()(),e.j41(91,"p",140),e.EFF(92,"Firma digital de recetas"),e.k0s()()(),e.j41(93,"div",135),e.nrm(94,"input",136),e.j41(95,"div",137)(96,"div",49)(97,"label",138),e.EFF(98,"Aprobar"),e.k0s(),e.j41(99,"span",146),e.EFF(100,"special"),e.k0s()(),e.j41(101,"p",140),e.EFF(102,"Aprobar prescripciones especiales"),e.k0s()()()()(),e.j41(103,"div",127)(104,"div",128)(105,"div",49),e.nrm(106,"lucide-icon",129),e.j41(107,"div")(108,"label",130),e.EFF(109," Pacientes "),e.j41(110,"span",131),e.EFF(111," CR\xcdTICO "),e.k0s()(),e.j41(112,"p",132),e.EFF(113,"Acceso a datos protegidos de salud (PHI/HIPAA)"),e.k0s()()(),e.j41(114,"span",133),e.EFF(115," 4 de 6 "),e.k0s()(),e.j41(116,"div",134)(117,"div",135),e.nrm(118,"input",136),e.j41(119,"div",137)(120,"div",49)(121,"label",138),e.EFF(122,"Ver"),e.k0s(),e.j41(123,"span",139),e.EFF(124,"read"),e.k0s()(),e.j41(125,"p",140),e.EFF(126,"Visualizar datos PHI (HIPAA)"),e.k0s()()(),e.j41(127,"div",135),e.nrm(128,"input",136),e.j41(129,"div",137)(130,"div",49)(131,"label",138),e.EFF(132,"Registrar"),e.k0s(),e.j41(133,"span",141),e.EFF(134,"write"),e.k0s()(),e.j41(135,"p",140),e.EFF(136,"Crear registros de pacientes"),e.k0s()()(),e.j41(137,"div",135),e.nrm(138,"input",136),e.j41(139,"div",137)(140,"div",49)(141,"label",138),e.EFF(142,"Actualizar"),e.k0s(),e.j41(143,"span",141),e.EFF(144,"write"),e.k0s()(),e.j41(145,"p",140),e.EFF(146,"Modificar datos de pacientes"),e.k0s()()(),e.j41(147,"div",145),e.nrm(148,"input",143),e.j41(149,"div",137)(150,"div",49)(151,"label",138),e.EFF(152,"Eliminar"),e.k0s(),e.j41(153,"span",144),e.EFF(154,"delete"),e.k0s()(),e.j41(155,"p",140),e.EFF(156,"Eliminar registros (soft delete)"),e.k0s()()(),e.j41(157,"div",135),e.nrm(158,"input",136),e.j41(159,"div",137)(160,"div",49)(161,"label",138),e.EFF(162,"Exportar PHI"),e.k0s(),e.j41(163,"span",146),e.EFF(164,"special"),e.k0s()(),e.j41(165,"p",140),e.EFF(166,"Exportar datos protegidos"),e.k0s()()(),e.j41(167,"div",145),e.nrm(168,"input",143),e.j41(169,"div",137)(170,"div",49)(171,"label",138),e.EFF(172,"Fusionar"),e.k0s(),e.j41(173,"span",147),e.EFF(174,"admin"),e.k0s()(),e.j41(175,"p",140),e.EFF(176,"Fusionar registros duplicados"),e.k0s()()()()(),e.j41(177,"div",127)(178,"div",128)(179,"div",49),e.nrm(180,"lucide-icon",129),e.j41(181,"div")(182,"label",130),e.EFF(183," Usuarios y Seguridad "),e.j41(184,"span",131),e.EFF(185," CR\xcdTICO "),e.k0s()(),e.j41(186,"p",132),e.EFF(187,"Gesti\xf3n de cuentas y accesos al sistema"),e.k0s()()(),e.j41(188,"span",133),e.EFF(189," 8 de 8 "),e.k0s()(),e.j41(190,"div",134)(191,"div",135),e.nrm(192,"input",136),e.j41(193,"div",137)(194,"div",49)(195,"label",138),e.EFF(196,"Ver usuarios"),e.k0s(),e.j41(197,"span",139),e.EFF(198,"read"),e.k0s()(),e.j41(199,"p",140),e.EFF(200,"Visualizar usuarios del sistema"),e.k0s()()(),e.j41(201,"div",135),e.nrm(202,"input",136),e.j41(203,"div",137)(204,"div",49)(205,"label",138),e.EFF(206,"Crear"),e.k0s(),e.j41(207,"span",141),e.EFF(208,"write"),e.k0s()(),e.j41(209,"p",140),e.EFF(210,"Crear nuevas cuentas"),e.k0s()()(),e.j41(211,"div",135),e.nrm(212,"input",136),e.j41(213,"div",137)(214,"div",49)(215,"label",138),e.EFF(216,"Modificar"),e.k0s(),e.j41(217,"span",141),e.EFF(218,"write"),e.k0s()(),e.j41(219,"p",140),e.EFF(220,"Editar usuarios"),e.k0s()()(),e.j41(221,"div",135),e.nrm(222,"input",136),e.j41(223,"div",137)(224,"div",49)(225,"label",138),e.EFF(226,"Eliminar"),e.k0s(),e.j41(227,"span",144),e.EFF(228,"delete"),e.k0s()(),e.j41(229,"p",140),e.EFF(230,"Desactivar cuentas"),e.k0s()()(),e.j41(231,"div",135),e.nrm(232,"input",136),e.j41(233,"div",137)(234,"div",49)(235,"label",138),e.EFF(236,"Gestionar roles"),e.k0s(),e.j41(237,"span",147),e.EFF(238,"admin"),e.k0s()(),e.j41(239,"p",140),e.EFF(240,"Asignar y modificar roles"),e.k0s()()(),e.j41(241,"div",135),e.nrm(242,"input",136),e.j41(243,"div",137)(244,"div",49)(245,"label",138),e.EFF(246,"Reset password"),e.k0s(),e.j41(247,"span",147),e.EFF(248,"admin"),e.k0s()(),e.j41(249,"p",140),e.EFF(250,"Restablecer contrase\xf1as"),e.k0s()()(),e.j41(251,"div",135),e.nrm(252,"input",136),e.j41(253,"div",137)(254,"div",49)(255,"label",138),e.EFF(256,"Gestionar 2FA"),e.k0s(),e.j41(257,"span",147),e.EFF(258,"admin"),e.k0s()(),e.j41(259,"p",140),e.EFF(260,"Configurar autenticaci\xf3n 2FA"),e.k0s()()(),e.j41(261,"div",135),e.nrm(262,"input",136),e.j41(263,"div",137)(264,"div",49)(265,"label",138),e.EFF(266,"Aprobar solicitudes"),e.k0s(),e.j41(267,"span",146),e.EFF(268,"special"),e.k0s()(),e.j41(269,"p",140),e.EFF(270,"Registro de nuevos usuarios"),e.k0s()()()()(),e.j41(271,"div",148)(272,"div",128)(273,"div",49),e.nrm(274,"lucide-icon",149),e.j41(275,"div")(276,"label",40),e.EFF(277,"Inventario"),e.k0s(),e.j41(278,"p",132),e.EFF(279,"Control de stock y medicamentos"),e.k0s()()(),e.j41(280,"span",133),e.EFF(281," 2 de 6 "),e.k0s()(),e.j41(282,"div",134)(283,"div",135),e.nrm(284,"input",136),e.j41(285,"div",137)(286,"div",49)(287,"label",138),e.EFF(288,"Consultar"),e.k0s(),e.j41(289,"span",139),e.EFF(290,"read"),e.k0s()(),e.j41(291,"p",140),e.EFF(292,"Ver stock de medicamentos"),e.k0s()()(),e.j41(293,"div",145),e.nrm(294,"input",143),e.j41(295,"div",137)(296,"div",49)(297,"label",138),e.EFF(298,"Registrar"),e.k0s(),e.j41(299,"span",141),e.EFF(300,"write"),e.k0s()(),e.j41(301,"p",140),e.EFF(302,"Agregar medicamentos"),e.k0s()()(),e.j41(303,"div",145),e.nrm(304,"input",143),e.j41(305,"div",137)(306,"div",49)(307,"label",138),e.EFF(308,"Actualizar"),e.k0s(),e.j41(309,"span",141),e.EFF(310,"write"),e.k0s()(),e.j41(311,"p",140),e.EFF(312,"Modificar cantidades"),e.k0s()()(),e.j41(313,"div",145),e.nrm(314,"input",143),e.j41(315,"div",137)(316,"div",49)(317,"label",138),e.EFF(318,"Eliminar"),e.k0s(),e.j41(319,"span",144),e.EFF(320,"delete"),e.k0s()(),e.j41(321,"p",140),e.EFF(322,"Eliminar del cat\xe1logo"),e.k0s()()(),e.j41(323,"div",135),e.nrm(324,"input",136),e.j41(325,"div",137)(326,"div",49)(327,"label",138),e.EFF(328,"Ajustes"),e.k0s(),e.j41(329,"span",146),e.EFF(330,"special"),e.k0s()(),e.j41(331,"p",140),e.EFF(332,"Ajustes manuales de stock"),e.k0s()()(),e.j41(333,"div",145),e.nrm(334,"input",143),e.j41(335,"div",137)(336,"div",49)(337,"label",138),e.EFF(338,"Transferir"),e.k0s(),e.j41(339,"span",146),e.EFF(340,"special"),e.k0s()(),e.j41(341,"p",140),e.EFF(342,"Transferir entre farmacias"),e.k0s()()()()()()()),2&t){const i=e.XpG(2);e.R7$(3),e.Y8G("img",i.alertTriangleIcon),e.R7$(13),e.Y8G("img",i.checkCircle2Icon),e.R7$(16),e.Y8G("img",i.editIcon),e.R7$(74),e.Y8G("img",i.userIcon),e.R7$(74),e.Y8G("img",i.usersIcon),e.R7$(94),e.Y8G("img",i.activityIcon)}}function T(t,r){if(1&t&&(e.j41(0,"div")(1,"div",150)(2,"h4",151),e.nrm(3,"lucide-icon",152),e.EFF(4," Configuraci\xf3n de Seguridad del Rol "),e.k0s(),e.j41(5,"div",153)(6,"div")(7,"label",7),e.EFF(8,"Nivel de seguridad"),e.k0s(),e.j41(9,"div",154)(10,"span",155),e.EFF(11," ALTO (HIPAA Compliant) "),e.k0s()()(),e.j41(12,"div")(13,"label",7),e.EFF(14,"Requiere aprobaci\xf3n"),e.k0s(),e.j41(15,"p",156),e.EFF(16,"S\xed"),e.k0s()(),e.j41(17,"div")(18,"label",7),e.EFF(19,"Puede delegar"),e.k0s(),e.j41(20,"p",156),e.EFF(21,"No"),e.k0s()(),e.j41(22,"div")(23,"label",7),e.EFF(24,"Duraci\xf3n m\xe1xima de sesi\xf3n"),e.k0s(),e.j41(25,"p",156),e.EFF(26,"480 minutos (8 horas)"),e.k0s()()(),e.nrm(27,"div",157),e.j41(28,"div")(29,"label",158),e.EFF(30,"Cumplimiento normativo"),e.k0s(),e.j41(31,"div",159)(32,"div",49),e.nrm(33,"lucide-icon",160),e.j41(34,"span",53),e.EFF(35,"HIPAA - Health Insurance Portability and Accountability Act"),e.k0s()(),e.j41(36,"div",49),e.nrm(37,"lucide-icon",160),e.j41(38,"span",53),e.EFF(39,"HL7 FHIR R4 - Fast Healthcare Interoperability Resources"),e.k0s()(),e.j41(40,"div",49),e.nrm(41,"lucide-icon",160),e.j41(42,"span",53),e.EFF(43,"FDA 21 CFR Part 11 - Electronic Records and Signatures"),e.k0s()()()()()()),2&t){const i=e.XpG(2);e.R7$(3),e.Y8G("img",i.shieldIcon),e.R7$(30),e.Y8G("img",i.checkCircle2Icon),e.R7$(4),e.Y8G("img",i.checkCircle2Icon),e.R7$(4),e.Y8G("img",i.checkCircle2Icon)}}function P(t,r){if(1&t&&(e.j41(0,"div")(1,"div",161)(2,"div",90),e.nrm(3,"lucide-icon",120),e.j41(4,"span",162),e.EFF(5,"Historial de cambios"),e.k0s()(),e.j41(6,"p",163),e.EFF(7,"\xdaltima modificaci\xf3n: 2024-09-15 por Sistema"),e.k0s()(),e.j41(8,"div",150)(9,"h4",151),e.nrm(10,"lucide-icon",152),e.EFF(11," Registro de auditor\xeda "),e.k0s(),e.j41(12,"div",71)(13,"div",164),e.nrm(14,"div",165),e.j41(15,"div",166)(16,"div",5)(17,"span",40),e.EFF(18,"Rol actualizado"),e.k0s(),e.j41(19,"span",167),e.EFF(20,"2024-09-15"),e.k0s()(),e.j41(21,"p",7),e.EFF(22,"Modificaci\xf3n de permisos por Admin Sistema"),e.k0s()()(),e.j41(23,"div",164),e.nrm(24,"div",168),e.j41(25,"div",166)(26,"div",5)(27,"span",40),e.EFF(28,"Rol creado"),e.k0s(),e.j41(29,"span",167),e.EFF(30,"2022-06-01"),e.k0s()(),e.j41(31,"p",7),e.EFF(32,"Creaci\xf3n inicial del rol en el sistema"),e.k0s()()()()()()),2&t){const i=e.XpG(2);e.R7$(3),e.Y8G("img",i.activityIcon),e.R7$(7),e.Y8G("img",i.clockIcon)}}function G(t,r){if(1&t){const i=e.RV6();e.j41(0,"div",98),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.closePermissionsModal())}),e.j41(1,"div",99),e.bIt("click",function(s){return e.eBV(i),e.Njj(s.stopPropagation())}),e.j41(2,"div",100)(3,"div",75)(4,"div",101),e.nrm(5,"lucide-icon",102),e.k0s(),e.j41(6,"div")(7,"h3",103),e.EFF(8),e.k0s(),e.j41(9,"p",7),e.EFF(10),e.k0s()()(),e.j41(11,"button",104),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.closePermissionsModal())}),e.nrm(12,"lucide-icon",105),e.k0s()(),e.j41(13,"div",106)(14,"div",107)(15,"nav",108)(16,"button",109),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.activePermissionsTab="permissions")}),e.nrm(17,"lucide-icon",30),e.EFF(18," Permisos "),e.k0s(),e.j41(19,"button",109),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.activePermissionsTab="security")}),e.nrm(20,"lucide-icon",30),e.EFF(21," Seguridad "),e.k0s(),e.j41(22,"button",109),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.activePermissionsTab="audit")}),e.nrm(23,"lucide-icon",30),e.EFF(24," Auditor\xeda "),e.k0s()()()(),e.j41(25,"div",110),e.DNE(26,I,343,6,"div",27)(27,T,44,4,"div",27)(28,P,33,2,"div",27),e.k0s(),e.j41(29,"div",111)(30,"button",112),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.closePermissionsModal())}),e.EFF(31," Cerrar "),e.k0s(),e.j41(32,"button",113),e.nrm(33,"lucide-icon",30),e.EFF(34," Guardar cambios "),e.k0s()()()()}if(2&t){const i=e.XpG();e.R7$(5),e.Y8G("img",i.shieldIcon),e.R7$(3),e.SpI("Configuraci\xf3n de Rol: ",null==i.selectedRoleForPermissions?null:i.selectedRoleForPermissions.name,""),e.R7$(2),e.LHq("",null==i.selectedRoleForPermissions?null:i.selectedRoleForPermissions.description," \u2022 C\xf3digo: ",null==i.selectedRoleForPermissions?null:i.selectedRoleForPermissions.code," \u2022 ",null==i.selectedRoleForPermissions?null:i.selectedRoleForPermissions.usersCount," usuario",1!==(null==i.selectedRoleForPermissions?null:i.selectedRoleForPermissions.usersCount)?"s":"",""),e.R7$(2),e.Y8G("img",i.xCircleIcon),e.R7$(4),e.HbH(i.getPermissionsTabClass("permissions")),e.R7$(),e.Y8G("img",i.shieldIcon),e.R7$(2),e.HbH(i.getPermissionsTabClass("security")),e.R7$(),e.Y8G("img",i.lockIcon),e.R7$(2),e.HbH(i.getPermissionsTabClass("audit")),e.R7$(),e.Y8G("img",i.activityIcon),e.R7$(3),e.Y8G("ngIf","permissions"===i.activePermissionsTab),e.R7$(),e.Y8G("ngIf","security"===i.activePermissionsTab),e.R7$(),e.Y8G("ngIf","audit"===i.activePermissionsTab),e.R7$(5),e.Y8G("img",i.saveIcon)}}function A(t,r){if(1&t){const i=e.RV6();e.j41(0,"div",71)(1,"h3",177),e.EFF(2,"Paso 1: Informaci\xf3n B\xe1sica"),e.k0s(),e.j41(3,"div")(4,"label",178),e.EFF(5,"Nombre del rol personalizado *"),e.k0s(),e.j41(6,"input",179),e.mxI("ngModelChange",function(s){e.eBV(i);const n=e.XpG(2);return e.DH7(n.customRoleForm.name,s)||(n.customRoleForm.name=s),e.Njj(s)}),e.k0s()(),e.j41(7,"div")(8,"label",178),e.EFF(9,"Descripci\xf3n"),e.k0s(),e.j41(10,"textarea",180),e.mxI("ngModelChange",function(s){e.eBV(i);const n=e.XpG(2);return e.DH7(n.customRoleForm.description,s)||(n.customRoleForm.description=s),e.Njj(s)}),e.EFF(11,"              "),e.k0s()(),e.j41(12,"div",181)(13,"div",90),e.nrm(14,"lucide-icon",182),e.j41(15,"span",183),e.EFF(16),e.k0s()(),e.j41(17,"p",163),e.EFF(18),e.k0s()()()}if(2&t){const i=e.XpG(2);e.R7$(6),e.R50("ngModel",i.customRoleForm.name),e.R7$(4),e.R50("ngModel",i.customRoleForm.description),e.R7$(4),e.Y8G("img",i.alertTriangleIcon),e.R7$(2),e.SpI("Rol Base: ",null==i.selectedBaseRoleForCustom?null:i.selectedBaseRoleForCustom.name,""),e.R7$(2),e.SpI(' Este rol personalizado heredar\xe1 todos los permisos del rol base "',null==i.selectedBaseRoleForCustom?null:i.selectedBaseRoleForCustom.name,'" y podr\xe1 agregar o quitar permisos espec\xedficos. ')}}function $(t,r){if(1&t){const i=e.RV6();e.j41(0,"div",71)(1,"h3",177),e.EFF(2,"Paso 2: Seleccionar Usuario"),e.k0s(),e.j41(3,"div",184)(4,"div")(5,"label",178),e.EFF(6,"ID de Usuario *"),e.k0s(),e.j41(7,"input",185),e.mxI("ngModelChange",function(s){e.eBV(i);const n=e.XpG(2);return e.DH7(n.customRoleForm.userId,s)||(n.customRoleForm.userId=s),e.Njj(s)}),e.k0s()(),e.j41(8,"div")(9,"label",178),e.EFF(10,"Nombre Completo *"),e.k0s(),e.j41(11,"input",186),e.mxI("ngModelChange",function(s){e.eBV(i);const n=e.XpG(2);return e.DH7(n.customRoleForm.userName,s)||(n.customRoleForm.userName=s),e.Njj(s)}),e.k0s()()(),e.j41(12,"div")(13,"label",178),e.EFF(14,"Email del Usuario *"),e.k0s(),e.j41(15,"input",187),e.mxI("ngModelChange",function(s){e.eBV(i);const n=e.XpG(2);return e.DH7(n.customRoleForm.userEmail,s)||(n.customRoleForm.userEmail=s),e.Njj(s)}),e.k0s()(),e.j41(16,"div",181)(17,"div",90),e.nrm(18,"lucide-icon",182),e.j41(19,"span",183),e.EFF(20,"Usuario objetivo"),e.k0s()(),e.j41(21,"p",163),e.EFF(22),e.k0s()()()}if(2&t){const i=e.XpG(2);e.R7$(7),e.R50("ngModel",i.customRoleForm.userId),e.R7$(4),e.R50("ngModel",i.customRoleForm.userName),e.R7$(4),e.R50("ngModel",i.customRoleForm.userEmail),e.R7$(3),e.Y8G("img",i.alertTriangleIcon),e.R7$(4),e.SpI(' Este rol personalizado se crear\xe1 espec\xedficamente para el usuario indicado y heredar\xe1 los permisos del rol base "',null==i.selectedBaseRoleForCustom?null:i.selectedBaseRoleForCustom.name,'". En el siguiente paso podr\xe1s ajustar los permisos. ')}}function w(t,r){if(1&t&&(e.j41(0,"div",200)(1,"div",90),e.nrm(2,"lucide-icon",201),e.j41(3,"span",202),e.EFF(4,"Sin cambios de permisos"),e.k0s()(),e.j41(5,"p",203),e.EFF(6," Debes agregar o quitar al menos un permiso para crear un rol personalizado. Si no necesitas cambios, asigna directamente el rol base al usuario. "),e.k0s()()),2&t){const i=e.XpG(3);e.R7$(2),e.Y8G("img",i.alertTriangleIcon)}}function M(t,r){if(1&t){const i=e.RV6();e.j41(0,"div",71)(1,"h3",177),e.EFF(2,"Paso 3: Ajustar Permisos"),e.k0s(),e.j41(3,"p",7),e.EFF(4),e.k0s(),e.j41(5,"div",188)(6,"button",189)(7,"span",91),e.EFF(8,"\u2795"),e.k0s(),e.j41(9,"span",190),e.EFF(10),e.k0s()(),e.j41(11,"button",191)(12,"span",91),e.EFF(13,"\u2796"),e.k0s(),e.j41(14,"span",190),e.EFF(15),e.k0s()()(),e.j41(16,"p",192),e.EFF(17," Selecciona permisos adicionales que este usuario necesita m\xe1s all\xe1 del rol base "),e.k0s(),e.j41(18,"div",193)(19,"div",128)(20,"div",49),e.nrm(21,"lucide-icon",194),e.j41(22,"div")(23,"label",130),e.EFF(24," Prescripciones "),e.j41(25,"span",195),e.EFF(26," CR\xcdTICO "),e.k0s()(),e.j41(27,"p",132),e.EFF(28,"Control de recetas m\xe9dicas y prescripciones"),e.k0s()()(),e.j41(29,"span",133),e.EFF(30," 6 disponibles "),e.k0s()(),e.j41(31,"div",196)(32,"div",197)(33,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("prescriptions.sign"))}),e.k0s(),e.j41(34,"div",137)(35,"div",49)(36,"label",138),e.EFF(37,"Firmar"),e.k0s(),e.j41(38,"span",146),e.EFF(39,"special"),e.k0s(),e.j41(40,"span",51),e.EFF(41,"prescriptions.sign"),e.k0s()(),e.j41(42,"p",140),e.EFF(43,"Firma digital de recetas"),e.k0s()()(),e.j41(44,"div",197)(45,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("prescriptions.verify"))}),e.k0s(),e.j41(46,"div",137)(47,"div",49)(48,"label",138),e.EFF(49,"Verificar"),e.k0s(),e.j41(50,"span",139),e.EFF(51,"read"),e.k0s(),e.j41(52,"span",51),e.EFF(53,"prescriptions.verify"),e.k0s()(),e.j41(54,"p",140),e.EFF(55,"Verificar autenticidad"),e.k0s()()(),e.j41(56,"div",197)(57,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("prescriptions.dispense"))}),e.k0s(),e.j41(58,"div",137)(59,"div",49)(60,"label",138),e.EFF(61,"Dispensar"),e.k0s(),e.j41(62,"span",146),e.EFF(63,"special"),e.k0s(),e.j41(64,"span",51),e.EFF(65,"prescriptions.dispense"),e.k0s()(),e.j41(66,"p",140),e.EFF(67,"Registrar dispensaci\xf3n (SoD)"),e.k0s()()(),e.j41(68,"div",197)(69,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("prescriptions.approve"))}),e.k0s(),e.j41(70,"div",137)(71,"div",49)(72,"label",138),e.EFF(73,"Aprobar"),e.k0s(),e.j41(74,"span",146),e.EFF(75,"special"),e.k0s(),e.j41(76,"span",51),e.EFF(77,"prescriptions.approve"),e.k0s()(),e.j41(78,"p",140),e.EFF(79,"Aprobar prescripciones especiales"),e.k0s()()(),e.j41(80,"div",197)(81,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("prescriptions.delete"))}),e.k0s(),e.j41(82,"div",137)(83,"div",49)(84,"label",138),e.EFF(85,"Eliminar"),e.k0s(),e.j41(86,"span",144),e.EFF(87,"delete"),e.k0s(),e.j41(88,"span",51),e.EFF(89,"prescriptions.delete"),e.k0s()(),e.j41(90,"p",140),e.EFF(91,"Eliminar borradores"),e.k0s()()(),e.j41(92,"div",197)(93,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("prescriptions.review_all"))}),e.k0s(),e.j41(94,"div",137)(95,"div",49)(96,"label",138),e.EFF(97,"Revisar todas"),e.k0s(),e.j41(98,"span",147),e.EFF(99,"admin"),e.k0s(),e.j41(100,"span",51),e.EFF(101,"prescriptions.review_all"),e.k0s()(),e.j41(102,"p",140),e.EFF(103,"Acceso a todas las recetas"),e.k0s()()()()(),e.j41(104,"div",193)(105,"div",128)(106,"div",49),e.nrm(107,"lucide-icon",194),e.j41(108,"div")(109,"label",130),e.EFF(110," Pacientes "),e.j41(111,"span",195),e.EFF(112," CR\xcdTICO "),e.k0s()(),e.j41(113,"p",132),e.EFF(114,"Acceso a datos protegidos de salud (PHI/HIPAA)"),e.k0s()()(),e.j41(115,"span",133),e.EFF(116," 3 disponibles "),e.k0s()(),e.j41(117,"div",196)(118,"div",197)(119,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("patients.export"))}),e.k0s(),e.j41(120,"div",137)(121,"div",49)(122,"label",138),e.EFF(123,"Exportar PHI"),e.k0s(),e.j41(124,"span",146),e.EFF(125,"special"),e.k0s(),e.j41(126,"span",51),e.EFF(127,"patients.export"),e.k0s()(),e.j41(128,"p",140),e.EFF(129,"Exportar datos protegidos"),e.k0s()()(),e.j41(130,"div",197)(131,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("patients.delete"))}),e.k0s(),e.j41(132,"div",137)(133,"div",49)(134,"label",138),e.EFF(135,"Eliminar"),e.k0s(),e.j41(136,"span",144),e.EFF(137,"delete"),e.k0s(),e.j41(138,"span",51),e.EFF(139,"patients.delete"),e.k0s()(),e.j41(140,"p",140),e.EFF(141,"Eliminar registros (soft delete)"),e.k0s()()(),e.j41(142,"div",197)(143,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("patients.merge"))}),e.k0s(),e.j41(144,"div",137)(145,"div",49)(146,"label",138),e.EFF(147,"Fusionar"),e.k0s(),e.j41(148,"span",147),e.EFF(149,"admin"),e.k0s(),e.j41(150,"span",51),e.EFF(151,"patients.merge"),e.k0s()(),e.j41(152,"p",140),e.EFF(153,"Fusionar registros duplicados"),e.k0s()()()()(),e.j41(154,"div",193)(155,"div",128)(156,"div",49),e.nrm(157,"lucide-icon",194),e.j41(158,"div")(159,"label",130),e.EFF(160," Usuarios y Seguridad "),e.j41(161,"span",195),e.EFF(162," CR\xcdTICO "),e.k0s()(),e.j41(163,"p",132),e.EFF(164,"Gesti\xf3n de cuentas y accesos al sistema"),e.k0s()()(),e.j41(165,"span",133),e.EFF(166," 4 disponibles "),e.k0s()(),e.j41(167,"div",196)(168,"div",197)(169,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("users.manage_roles"))}),e.k0s(),e.j41(170,"div",137)(171,"div",49)(172,"label",138),e.EFF(173,"Gestionar roles"),e.k0s(),e.j41(174,"span",147),e.EFF(175,"admin"),e.k0s(),e.j41(176,"span",51),e.EFF(177,"users.manage_roles"),e.k0s()(),e.j41(178,"p",140),e.EFF(179,"Asignar y modificar roles"),e.k0s()()(),e.j41(180,"div",197)(181,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("users.reset_password"))}),e.k0s(),e.j41(182,"div",137)(183,"div",49)(184,"label",138),e.EFF(185,"Reset password"),e.k0s(),e.j41(186,"span",147),e.EFF(187,"admin"),e.k0s(),e.j41(188,"span",51),e.EFF(189,"users.reset_password"),e.k0s()(),e.j41(190,"p",140),e.EFF(191,"Restablecer contrase\xf1as"),e.k0s()()(),e.j41(192,"div",197)(193,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("users.manage_2fa"))}),e.k0s(),e.j41(194,"div",137)(195,"div",49)(196,"label",138),e.EFF(197,"Gestionar 2FA"),e.k0s(),e.j41(198,"span",147),e.EFF(199,"admin"),e.k0s(),e.j41(200,"span",51),e.EFF(201,"users.manage_2fa"),e.k0s()(),e.j41(202,"p",140),e.EFF(203,"Configurar autenticaci\xf3n 2FA"),e.k0s()()(),e.j41(204,"div",197)(205,"input",198),e.bIt("change",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.togglePermissionToAdd("users.delete"))}),e.k0s(),e.j41(206,"div",137)(207,"div",49)(208,"label",138),e.EFF(209,"Eliminar"),e.k0s(),e.j41(210,"span",144),e.EFF(211,"delete"),e.k0s(),e.j41(212,"span",51),e.EFF(213,"users.delete"),e.k0s()(),e.j41(214,"p",140),e.EFF(215,"Desactivar cuentas"),e.k0s()()()()(),e.DNE(216,w,7,1,"div",199),e.k0s()}if(2&t){const i=e.XpG(2);e.R7$(4),e.SpI(' Selecciona los permisos que deseas agregar o quitar del rol base "',null==i.selectedBaseRoleForCustom?null:i.selectedBaseRoleForCustom.name,'" '),e.R7$(6),e.SpI("Agregar Permisos (",i.permissionsToAdd.length,")"),e.R7$(5),e.SpI("Quitar Permisos (",i.permissionsToRemove.length,")"),e.R7$(6),e.Y8G("img",i.editIcon),e.R7$(11),e.HbH(i.isPermissionSelected("prescriptions.sign")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("prescriptions.sign")),e.R7$(11),e.HbH(i.isPermissionSelected("prescriptions.verify")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("prescriptions.verify")),e.R7$(11),e.HbH(i.isPermissionSelected("prescriptions.dispense")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("prescriptions.dispense")),e.R7$(11),e.HbH(i.isPermissionSelected("prescriptions.approve")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("prescriptions.approve")),e.R7$(11),e.HbH(i.isPermissionSelected("prescriptions.delete")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("prescriptions.delete")),e.R7$(11),e.HbH(i.isPermissionSelected("prescriptions.review_all")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("prescriptions.review_all")),e.R7$(14),e.Y8G("img",i.userIcon),e.R7$(11),e.HbH(i.isPermissionSelected("patients.export")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("patients.export")),e.R7$(11),e.HbH(i.isPermissionSelected("patients.delete")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("patients.delete")),e.R7$(11),e.HbH(i.isPermissionSelected("patients.merge")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("patients.merge")),e.R7$(14),e.Y8G("img",i.usersIcon),e.R7$(11),e.HbH(i.isPermissionSelected("users.manage_roles")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("users.manage_roles")),e.R7$(11),e.HbH(i.isPermissionSelected("users.reset_password")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("users.reset_password")),e.R7$(11),e.HbH(i.isPermissionSelected("users.manage_2fa")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("users.manage_2fa")),e.R7$(11),e.HbH(i.isPermissionSelected("users.delete")?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),e.R7$(),e.Y8G("checked",i.isPermissionSelected("users.delete")),e.R7$(11),e.Y8G("ngIf",0===i.permissionsToAdd.length&&0===i.permissionsToRemove.length)}}function S(t,r){if(1&t){const i=e.RV6();e.j41(0,"div",154)(1,"input",208),e.mxI("ngModelChange",function(s){e.eBV(i);const n=e.XpG(3);return e.DH7(n.customRoleForm.validUntil,s)||(n.customRoleForm.validUntil=s),e.Njj(s)}),e.k0s()()}if(2&t){const i=e.XpG(3);e.R7$(),e.R50("ngModel",i.customRoleForm.validUntil)}}function D(t,r){1&t&&(e.j41(0,"span"),e.EFF(1,"\u26a0\ufe0f Este rol agrega permisos. Si incluye permisos cr\xedticos, requerir\xe1 aprobaci\xf3n antes de activarse."),e.k0s())}function H(t,r){1&t&&(e.j41(0,"span"),e.EFF(1,"\u2713 Este rol solo quita permisos. Se activar\xe1 inmediatamente sin requerir aprobaci\xf3n."),e.k0s())}function N(t,r){if(1&t){const i=e.RV6();e.j41(0,"div",71)(1,"h3",177),e.EFF(2,"Paso 4: Justificaci\xf3n y Vigencia"),e.k0s(),e.j41(3,"div")(4,"label",178),e.EFF(5,"Justificaci\xf3n * (m\xednimo 20 caracteres)"),e.k0s(),e.j41(6,"textarea",204),e.mxI("ngModelChange",function(s){e.eBV(i);const n=e.XpG(2);return e.DH7(n.customRoleForm.justification,s)||(n.customRoleForm.justification=s),e.Njj(s)}),e.EFF(7,"              "),e.k0s(),e.j41(8,"p",140),e.EFF(9),e.k0s()(),e.j41(10,"div")(11,"label",178),e.EFF(12,"Vigencia"),e.k0s(),e.j41(13,"div",205)(14,"div",49)(15,"input",206),e.mxI("ngModelChange",function(s){e.eBV(i);const n=e.XpG(2);return e.DH7(n.customRoleForm.isPermanent,s)||(n.customRoleForm.isPermanent=s),e.Njj(s)}),e.k0s(),e.j41(16,"span",53),e.EFF(17,"Permanente"),e.k0s()(),e.j41(18,"div",49)(19,"input",206),e.mxI("ngModelChange",function(s){e.eBV(i);const n=e.XpG(2);return e.DH7(n.customRoleForm.isPermanent,s)||(n.customRoleForm.isPermanent=s),e.Njj(s)}),e.k0s(),e.j41(20,"span",53),e.EFF(21,"Temporal hasta:"),e.k0s()()(),e.DNE(22,S,2,1,"div",207),e.k0s(),e.j41(23,"div",181)(24,"div",90),e.nrm(25,"lucide-icon",182),e.j41(26,"span",183),e.EFF(27,"Informaci\xf3n importante"),e.k0s()(),e.j41(28,"p",163),e.DNE(29,D,2,0,"span",27)(30,H,2,0,"span",27),e.k0s()()()}if(2&t){const i=e.XpG(2);e.R7$(6),e.R50("ngModel",i.customRoleForm.justification),e.R7$(3),e.SpI(" Caracteres: ",i.customRoleForm.justification.length," / 20 m\xednimo "),e.R7$(6),e.R50("ngModel",i.customRoleForm.isPermanent),e.Y8G("value",!0),e.R7$(4),e.R50("ngModel",i.customRoleForm.isPermanent),e.Y8G("value",!1),e.R7$(3),e.Y8G("ngIf",!i.customRoleForm.isPermanent),e.R7$(3),e.Y8G("img",i.alertTriangleIcon),e.R7$(4),e.Y8G("ngIf",i.permissionsToAdd.length>0),e.R7$(),e.Y8G("ngIf",0===i.permissionsToAdd.length)}}function B(t,r){if(1&t){const i=e.RV6();e.j41(0,"button",112),e.bIt("click",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.previousStep())}),e.EFF(1," Anterior "),e.k0s()}}function Y(t,r){if(1&t){const i=e.RV6();e.j41(0,"button",209),e.bIt("click",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.nextStep())}),e.EFF(1," Siguiente "),e.k0s()}}function V(t,r){if(1&t){const i=e.RV6();e.j41(0,"button",210),e.bIt("click",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.createCustomRoleSubmit())}),e.nrm(1,"lucide-icon",30),e.EFF(2," Crear Rol Personalizado "),e.k0s()}if(2&t){const i=e.XpG(2);e.R7$(),e.Y8G("img",i.plusIcon)}}function O(t,r){if(1&t){const i=e.RV6();e.j41(0,"div",98),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.closeCreateCustomModal())}),e.j41(1,"div",169),e.bIt("click",function(s){return e.eBV(i),e.Njj(s.stopPropagation())}),e.j41(2,"div",100)(3,"div",75)(4,"div",170),e.nrm(5,"lucide-icon",171),e.k0s(),e.j41(6,"div")(7,"h3",103),e.EFF(8,"Crear Rol Personalizado"),e.k0s(),e.j41(9,"p",7),e.EFF(10),e.k0s()()(),e.j41(11,"button",104),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.closeCreateCustomModal())}),e.nrm(12,"lucide-icon",105),e.k0s()(),e.j41(13,"div",172)(14,"div",49),e.nrm(15,"div")(16,"div")(17,"div")(18,"div"),e.k0s()(),e.j41(19,"div",110),e.DNE(20,A,19,5,"div",67)(21,$,23,5,"div",67)(22,M,217,46,"div",67)(23,N,31,10,"div",67),e.k0s(),e.j41(24,"div",173)(25,"div"),e.DNE(26,B,2,0,"button",174),e.k0s(),e.j41(27,"div",86)(28,"button",112),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.closeCreateCustomModal())}),e.EFF(29," Cancelar "),e.k0s(),e.DNE(30,Y,2,0,"button",175)(31,V,3,1,"button",176),e.k0s()()()()}if(2&t){const i=e.XpG();e.R7$(5),e.Y8G("img",i.starIcon),e.R7$(5),e.SpI('Crear un rol derivado de "',null==i.selectedBaseRoleForCustom?null:i.selectedBaseRoleForCustom.name,'" con permisos ajustados'),e.R7$(2),e.Y8G("img",i.xCircleIcon),e.R7$(3),e.HbH(i.getStepClass(1)),e.R7$(),e.HbH(i.getStepClass(2)),e.R7$(),e.HbH(i.getStepClass(3)),e.R7$(),e.HbH(i.getStepClass(4)),e.R7$(2),e.Y8G("ngIf",1===i.createCustomStep),e.R7$(),e.Y8G("ngIf",2===i.createCustomStep),e.R7$(),e.Y8G("ngIf",3===i.createCustomStep),e.R7$(),e.Y8G("ngIf",4===i.createCustomStep),e.R7$(3),e.Y8G("ngIf",i.createCustomStep>1),e.R7$(4),e.Y8G("ngIf",i.createCustomStep<4),e.R7$(),e.Y8G("ngIf",4===i.createCustomStep)}}let X=(()=>{class t{constructor(){this.shieldIcon=d.ekZ,this.usersIcon=d.zWC,this.checkCircle2Icon=d.Jly,this.alertTriangleIcon=d.hcu,this.starIcon=d.FEq,this.eyeIcon=d.kU3,this.settingsIcon=d.wB_,this.plusIcon=d.FWt,this.moreVerticalIcon=d.GvN,this.editIcon=d.ffu,this.xCircleIcon=d.Jpz,this.lockIcon=d.c_I,this.activityIcon=d.Ilq,this.clockIcon=d.zD7,this.saveIcon=d.eMP,this.userIcon=d.KJW,this.breadcrumbItems=[{label:"Seguridad y usuarios",route:"/seguridad"},{label:"Roles y permisos",route:"/seguridad/roles"}],this.activeTab="base",this.pendingRoles=[],this.roles=[{id:"ROLE-001",name:"Administrador",code:"ADMIN_BACKUP_IT",description:"Acceso total al sistema. Gesti\xf3n de usuarios, configuraci\xf3n y auditor\xeda",usersCount:2,derivedCount:0,lastModified:"2024-09-15",status:"active",type:"base"},{id:"ROLE-002",name:"M\xe9dico Jefe ER",code:"CHIEF_DOCTOR_ER",description:"M\xe9dico jefe de emergencias. Supervisi\xf3n y aprobaci\xf3n de casos cr\xedticos",usersCount:1,derivedCount:2,lastModified:"2024-08-20",status:"active",type:"base"},{id:"ROLE-003",name:"Farmac\xe9utico Investigador",code:"PHARMACIST_RESEARCH",description:"Farmac\xe9utico especializado en investigaci\xf3n y desarrollo de protocolos",usersCount:1,derivedCount:2,lastModified:"2024-07-30",status:"active",type:"base"},{id:"ROLE-004",name:"M\xe9dico",code:"DOCTOR",description:"Profesional m\xe9dico. Prescripci\xf3n de recetas, acceso a historias cl\xednicas",usersCount:42,derivedCount:3,lastModified:"2024-08-20",status:"active",type:"base"},{id:"ROLE-005",name:"Farmac\xe9utico",code:"PHARMACIST",description:"Profesional farmac\xe9utico. Dispensaci\xf3n, verificaci\xf3n de recetas, gesti\xf3n de inventario",usersCount:11,derivedCount:1,lastModified:"2024-07-30",status:"active",type:"base"},{id:"ROLE-CUSTOM-001",name:"Admin Personalizado TI",code:"ADMIN_BACKUP_IT",description:"Administrador con permisos espec\xedficos para TI y respaldos",usersCount:1,derivedCount:0,lastModified:"2024-10-01",status:"active",type:"custom"},{id:"ROLE-CUSTOM-002",name:"M\xe9dico Jefe ER",code:"CHIEF_DOCTOR_ER",description:"M\xe9dico jefe especializado en emergencias con permisos extendidos",usersCount:1,derivedCount:1,lastModified:"2024-09-28",status:"active",type:"custom"},{id:"ROLE-CUSTOM-003",name:"Farmac\xe9utico Investigador",code:"PHARMACIST_RESEARCH",description:"Farmac\xe9utico con permisos de investigaci\xf3n y an\xe1lisis avanzado",usersCount:1,derivedCount:2,lastModified:"2024-09-15",status:"active",type:"custom"}],this.isPermissionsModalOpen=!1,this.selectedRoleForPermissions=null,this.activePermissionsTab="permissions",this.isCreateCustomModalOpen=!1,this.selectedBaseRoleForCustom=null,this.createCustomStep=1,this.customRoleForm={name:"",description:"",userId:"",userName:"",userEmail:"",justification:"",validUntil:"",isPermanent:!0},this.permissionsToAdd=[],this.permissionsToRemove=[]}get tabs(){return[{id:"base",label:"Roles Base",icon:this.shieldIcon,count:this.getBaseRoles().length},{id:"custom",label:"Roles Personalizados",icon:this.starIcon,count:this.getCustomRoles().length},{id:"pending",label:"Pendientes",icon:this.alertTriangleIcon,count:this.pendingRoles.length}]}ngOnInit(){}get stats(){const i=this.roles.filter(s=>"base"===s.type).length,o=this.roles.filter(s=>"custom"===s.type).length;return{totalRoles:this.roles.length,baseRoles:i,customRoles:o,activeRoles:this.roles.filter(s=>"active"===s.status).length,totalUsers:this.roles.reduce((s,n)=>s+n.usersCount,0),pendingApprovals:0}}getTabClass(i){return this.activeTab===i?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}getBaseRoles(){return this.roles.filter(i=>"base"===i.type)}getCustomRoles(){return this.roles.filter(i=>"custom"===i.type)}viewPermissions(i){console.log("Viewing permissions for role:",i)}createCustomRole(i){this.selectedBaseRoleForCustom=i,this.createCustomStep=1,this.customRoleForm={name:`${i.name} Personalizado`,description:"",userId:"",userName:"",userEmail:"",justification:"",validUntil:"",isPermanent:!0},this.permissionsToAdd=[],this.permissionsToRemove=[],this.isCreateCustomModalOpen=!0}getBaseRoleName(i){return{ADMIN_BACKUP_IT:"Administrador",CHIEF_DOCTOR_ER:"M\xe9dico Jefe",PHARMACIST_RESEARCH:"Farmac\xe9utico"}[i.code]||"Administrador"}getUserForRole(i){return{ADMIN_BACKUP_IT:"Carlos Rojas M\xe9ndez",CHIEF_DOCTOR_ER:"Dra. Ana Vargas Sol\xeds",PHARMACIST_RESEARCH:"Lic. Marco Sol\xeds Castro"}[i.code]||"Usuario Asignado"}getUserEmailForRole(i){return{ADMIN_BACKUP_IT:"carlos@hospital.com",CHIEF_DOCTOR_ER:"ana.vargas@hospital.com",PHARMACIST_RESEARCH:"marco.solis@hospital.com"}[i.code]||"usuario@hospital.com"}getAdjustmentsCount(i){return{ADMIN_BACKUP_IT:2,CHIEF_DOCTOR_ER:1,PHARMACIST_RESEARCH:2}[i.code]||0}getAdditionsCount(i){return{ADMIN_BACKUP_IT:0,CHIEF_DOCTOR_ER:1,PHARMACIST_RESEARCH:2}[i.code]||0}getVigencia(i){return{ADMIN_BACKUP_IT:"Permanente",CHIEF_DOCTOR_ER:"Permanente",PHARMACIST_RESEARCH:"Hasta 2025-12-31"}[i.code]||"Permanente"}viewDetails(i){console.log("Viewing details for role:",i)}removeRole(i){if(confirm(`\xbfEst\xe1 seguro de eliminar el rol personalizado "${i.name}"? Esta acci\xf3n no se puede deshacer.`)){const o=this.roles.findIndex(s=>s.id===i.id);o>-1&&(this.roles.splice(o,1),alert(`Rol "${i.name}" eliminado exitosamente`))}}openPermissionsModal(i){this.selectedRoleForPermissions=i,this.activePermissionsTab="permissions",this.isPermissionsModalOpen=!0}closePermissionsModal(){this.isPermissionsModalOpen=!1,this.selectedRoleForPermissions=null}getPermissionsTabClass(i){return this.activePermissionsTab===i?"border-blue-600 text-blue-600 border-b-2 py-2 px-1 text-sm font-medium flex items-center":"border-transparent text-gray-500 hover:text-gray-700 py-2 px-1 text-sm font-medium cursor-pointer flex items-center"}closeCreateCustomModal(){this.isCreateCustomModalOpen=!1,this.selectedBaseRoleForCustom=null}nextStep(){this.createCustomStep<4&&this.createCustomStep++}previousStep(){this.createCustomStep>1&&this.createCustomStep--}getStepClass(i){return this.createCustomStep>=i?"flex-1 h-2 rounded bg-blue-500":"flex-1 h-2 rounded bg-gray-200"}togglePermissionToAdd(i){const o=this.permissionsToAdd.indexOf(i);o>-1?this.permissionsToAdd.splice(o,1):this.permissionsToAdd.push(i)}togglePermissionToRemove(i){const o=this.permissionsToRemove.indexOf(i);o>-1?this.permissionsToRemove.splice(o,1):this.permissionsToRemove.push(i)}isPermissionSelected(i){return this.permissionsToAdd.includes(i)}approveRole(i){const o={id:`ROLE-CUSTOM-${Date.now()}`,name:i.name,code:i.name.toUpperCase().replace(/\s+/g,"_"),description:`Rol personalizado derivado de ${i.baseRole}`,usersCount:1,derivedCount:0,lastModified:(new Date).toISOString().split("T")[0],status:"active",type:"custom"};this.roles.push(o);const s=this.pendingRoles.indexOf(i);s>-1&&this.pendingRoles.splice(s,1),alert(`Rol "${i.name}" aprobado exitosamente`)}rejectRole(i){if(confirm(`\xbfEst\xe1 seguro de rechazar el rol "${i.name}"? Esta acci\xf3n no se puede deshacer.`)){const o=this.pendingRoles.indexOf(i);o>-1&&this.pendingRoles.splice(o,1),alert(`Rol "${i.name}" rechazado`)}}createCustomRoleSubmit(){if(!this.customRoleForm.name.trim())return void alert("Debe proporcionar un nombre para el rol");if(!this.customRoleForm.userId.trim()||!this.customRoleForm.userName.trim()||!this.customRoleForm.userEmail.trim())return void alert("Debe seleccionar un usuario");if(0===this.permissionsToAdd.length&&0===this.permissionsToRemove.length)return void alert("Debe agregar o quitar al menos un permiso");if(!this.customRoleForm.justification.trim()||this.customRoleForm.justification.length<20)return void alert("Debe proporcionar una justificaci\xf3n detallada (m\xednimo 20 caracteres)");const i={id:`PENDING-${Date.now()}`,name:this.customRoleForm.name,baseRole:this.selectedBaseRoleForCustom?.name,userId:this.customRoleForm.userId,userName:this.customRoleForm.userName,userEmail:this.customRoleForm.userEmail,permissionsAdded:[...this.permissionsToAdd],permissionsRemoved:[...this.permissionsToRemove],justification:this.customRoleForm.justification,validUntil:this.customRoleForm.isPermanent?null:this.customRoleForm.validUntil,createdBy:"Administrador del Sistema",createdDate:(new Date).toISOString().split("T")[0],status:"pending"};this.pendingRoles.push(i),alert(`Rol personalizado "${this.customRoleForm.name}" enviado para aprobaci\xf3n`),this.closeCreateCustomModal()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-roles"]],standalone:!0,features:[e.aNF],decls:61,vars:23,consts:[[3,"title","description","icon","breadcrumbItems","hasActionButton","headerGradient","showSecurityBadge"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-blue-500"],[1,"p-6"],[1,"flex","items-center","justify-between"],[1,"space-y-1","flex-1"],[1,"text-sm","text-gray-600"],[1,"text-3xl","font-bold","text-gray-900"],[1,"flex","items-center","gap-1","text-xs"],[1,"text-gray-500"],[1,"p-3","bg-blue-100","rounded-xl"],[1,"w-8","h-8","text-blue-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-green-500"],[1,"p-3","bg-green-100","rounded-xl"],[1,"w-8","h-8","text-green-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-purple-500"],[1,"p-3","bg-purple-100","rounded-xl"],[1,"w-8","h-8","text-purple-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-orange-500"],[1,"p-3","bg-orange-100","rounded-xl"],[1,"w-8","h-8","text-orange-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg"],[1,"p-6","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"flex","space-x-1","bg-gray-100","p-1","rounded-lg"],["class","flex-1 flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md transition-colors",3,"class","click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",3,"click",4,"ngIf"],[1,"flex-1","flex","items-center","justify-center","px-4","py-2","text-sm","font-medium","rounded-md","transition-colors",3,"click"],[1,"w-4","h-4","mr-2",3,"img"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4"],[1,"font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","border","border-blue-200"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-purple-100","text-purple-800","border","border-purple-200"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-right","space-x-2"],[1,"inline-flex","items-center","px-3","py-1","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50",3,"click"],[1,"w-4","h-4","mr-1",3,"img"],[1,"inline-flex","items-center","px-3","py-1","bg-blue-600","text-white","rounded-md","text-sm","font-medium","hover:bg-blue-700",3,"click"],[1,"flex","items-center","gap-2"],[1,"w-4","h-4","text-purple-500",3,"img"],[1,"text-xs","text-gray-500"],[1,"text-sm","text-gray-900"],[1,"text-sm"],[1,"text-gray-900"],[1,"flex","flex-col","gap-1"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-medium","bg-red-100","text-red-800"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-medium","bg-green-100","text-green-800"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"px-6","py-4","whitespace-nowrap","text-right"],[1,"inline-flex","items-center","justify-center","w-8","h-8","text-gray-400","hover:text-gray-600",3,"click"],[1,"w-4","h-4",3,"img"],["class","inline-flex items-center px-3 py-1 bg-red-600 text-white rounded text-xs font-medium hover:bg-red-700",3,"click",4,"ngIf"],["class","inline-flex items-center px-3 py-1 bg-orange-100 text-orange-700 rounded text-xs font-medium",4,"ngIf"],[1,"inline-flex","items-center","px-3","py-1","bg-red-600","text-white","rounded","text-xs","font-medium","hover:bg-red-700",3,"click"],[1,"inline-flex","items-center","px-3","py-1","bg-orange-100","text-orange-700","rounded","text-xs","font-medium"],["class","text-center py-12",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"text-center","py-12"],[1,"w-12","h-12","text-green-400","mx-auto","mb-4",3,"img"],[1,"font-medium","mb-2"],[1,"space-y-4"],["class","border border-orange-200 bg-orange-50 rounded-lg p-6",4,"ngFor","ngForOf"],[1,"border","border-orange-200","bg-orange-50","rounded-lg","p-6"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex","items-center","gap-3"],[1,"w-6","h-6","text-orange-600",3,"img"],[1,"font-semibold","text-gray-900"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-orange-100","text-orange-800","border","border-orange-300"],[1,"mb-4"],[1,"font-medium","text-gray-900","mb-2"],["class","mb-3 p-3 bg-green-50 rounded-lg border border-green-200",4,"ngIf"],["class","mb-3 p-3 bg-red-50 rounded-lg border border-red-200",4,"ngIf"],[1,"p-3","bg-gray-50","rounded-lg","border","border-gray-200"],[1,"text-sm","text-gray-700"],[1,"flex","items-center","justify-between","text-sm","text-gray-600","mb-4"],[1,"flex","gap-3"],[1,"flex-1","inline-flex","items-center","justify-center","px-4","py-2","bg-blue-600","text-white","rounded-md","text-sm","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"flex-1","inline-flex","items-center","justify-center","px-4","py-2","bg-red-600","text-white","rounded-md","text-sm","font-medium","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"click"],[1,"mb-3","p-3","bg-green-50","rounded-lg","border","border-green-200"],[1,"flex","items-center","gap-2","mb-2"],[1,"text-lg"],[1,"font-medium","text-green-800"],[1,"text-sm","text-green-700"],[4,"ngFor","ngForOf"],[1,"mb-3","p-3","bg-red-50","rounded-lg","border","border-red-200"],[1,"font-medium","text-red-800"],[1,"text-sm","text-red-700"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50",3,"click"],[1,"relative","top-10","mx-auto","border","w-11/12","md:w-5/6","lg:w-4/5","xl:w-3/4","shadow-lg","rounded-md","bg-white","flex","flex-col","max-h-[90vh]",3,"click"],[1,"flex","items-center","justify-between","p-6","pb-4","border-b","border-gray-200","flex-shrink-0"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],[1,"w-6","h-6","text-blue-600",3,"img"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"w-6","h-6",3,"img"],[1,"px-6","pt-4","flex-shrink-0"],[1,"border-b","border-gray-200"],[1,"-mb-px","flex","space-x-8"],[3,"click"],[1,"flex-1","overflow-y-auto","px-6","py-6"],[1,"flex","justify-end","gap-3","p-6","pt-4","border-t","border-gray-200","flex-shrink-0","bg-white"],[1,"px-4","py-2","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","bg-blue-600","text-white","rounded-md","text-sm","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"mb-6","p-4","bg-yellow-50","rounded-lg","border","border-yellow-200"],[1,"w-5","h-5","text-yellow-600",3,"img"],[1,"text-sm","text-yellow-700","space-y-1"],[1,"mb-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"font-medium","flex","items-center","gap-2"],[1,"w-5","h-5","text-blue-600",3,"img"],[1,"flex","gap-2","text-xs"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-medium","bg-blue-100","text-blue-700"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-medium","bg-green-100","text-green-700"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-medium","bg-red-100","text-red-700"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-medium","bg-purple-100","text-purple-700"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-medium","bg-orange-100","text-orange-700"],[1,"border","border-red-300","bg-red-50/30","rounded-lg","p-4","mb-4"],[1,"flex","items-center","justify-between","mb-3"],[1,"w-5","h-5","text-red-600",3,"img"],[1,"flex","items-center","gap-2","font-medium","text-gray-900"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-medium","bg-red-100","text-red-700","border-red-300"],[1,"text-xs","text-gray-600","mt-0.5"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-medium","bg-gray-100","text-gray-700"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-3"],[1,"flex","items-start","gap-2","p-3","border","border-blue-500","bg-blue-50","rounded-lg"],["type","checkbox","checked","",1,"mt-1","w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium"],[1,"inline-flex","items-center","px-1.5","py-0.5","rounded","text-xs","font-medium","bg-blue-100","text-blue-700","border-blue-300"],[1,"text-xs","text-gray-600","mt-1"],[1,"inline-flex","items-center","px-1.5","py-0.5","rounded","text-xs","font-medium","bg-green-100","text-green-700","border-green-300"],[1,"flex","items-start","gap-2","p-3","border","border-red-300","bg-red-50","rounded-lg"],["type","checkbox",1,"mt-1","w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500"],[1,"inline-flex","items-center","px-1.5","py-0.5","rounded","text-xs","font-medium","bg-red-100","text-red-700","border-red-300"],[1,"flex","items-start","gap-2","p-3","border","border-gray-200","hover:border-gray-300","hover:bg-gray-50","rounded-lg"],[1,"inline-flex","items-center","px-1.5","py-0.5","rounded","text-xs","font-medium","bg-purple-100","text-purple-700","border-purple-300"],[1,"inline-flex","items-center","px-1.5","py-0.5","rounded","text-xs","font-medium","bg-orange-100","text-orange-700","border-orange-300"],[1,"border","border-gray-200","rounded-lg","p-4","mb-4"],[1,"w-5","h-5","text-gray-600",3,"img"],[1,"bg-white","border","border-gray-200","rounded-lg","p-6","shadow-sm"],[1,"text-lg","font-semibold","text-gray-900","mb-4","flex","items-center","gap-2"],[1,"w-5","h-5",3,"img"],[1,"grid","grid-cols-2","gap-4","mb-6"],[1,"mt-2"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-red-100","text-red-700","border-red-300"],[1,"mt-2","text-sm","text-gray-900"],[1,"h-px","bg-gray-200","mb-6"],[1,"font-medium","mb-3","block"],[1,"space-y-2"],[1,"w-4","h-4","text-green-600",3,"img"],[1,"mb-6","p-4","bg-blue-50","rounded-lg","border","border-blue-200"],[1,"font-medium","text-blue-900"],[1,"text-sm","text-blue-700"],[1,"flex","items-start","gap-3","p-4","border","rounded-lg"],[1,"w-3","h-3","bg-green-500","rounded-full","mt-2"],[1,"flex-1"],[1,"text-sm","text-gray-500"],[1,"w-3","h-3","bg-blue-500","rounded-full","mt-2"],[1,"relative","top-10","mx-auto","border","w-11/12","md:w-3/4","lg:w-1/2","xl:w-2/5","shadow-lg","rounded-md","bg-white","flex","flex-col","max-h-[90vh]",3,"click"],[1,"w-12","h-12","bg-purple-100","rounded-lg","flex","items-center","justify-center"],[1,"w-6","h-6","text-purple-600",3,"img"],[1,"px-6","pt-4"],[1,"flex","justify-between","gap-3","p-6","pt-4","border-t","border-gray-200","flex-shrink-0","bg-white"],["class","px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",3,"click",4,"ngIf"],["class","px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",3,"click",4,"ngIf"],["class","inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",3,"click",4,"ngIf"],[1,"font-medium","text-lg"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","placeholder","Ej: M\xe9dico Jefe ER",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["placeholder","Descripci\xf3n opcional del rol personalizado...","rows","3",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","resize-none",3,"ngModelChange","ngModel"],[1,"p-4","bg-blue-50","rounded-lg","border","border-blue-200"],[1,"w-4","h-4","text-blue-600",3,"img"],[1,"font-medium","text-blue-800"],[1,"grid","grid-cols-2","gap-4"],["type","text","placeholder","USR-0089",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","text","placeholder","Dra. Ana Vargas",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","email","placeholder","ana.vargas@hospital.com",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"flex","gap-4","mb-4"],[1,"flex","items-center","gap-2","px-4","py-2","bg-purple-100","text-purple-700","rounded-lg","border","border-purple-200"],[1,"font-medium"],[1,"flex","items-center","gap-2","px-4","py-2","bg-gray-100","text-gray-600","rounded-lg","border","border-gray-200"],[1,"text-sm","text-gray-600","mb-4"],[1,"border","border-orange-300","bg-orange-50/30","rounded-lg","p-4","mb-4"],[1,"w-5","h-5","text-orange-600",3,"img"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-medium","bg-orange-100","text-orange-700","border-orange-300"],[1,"space-y-3"],[1,"flex","items-start","gap-2","p-3","border","rounded-lg"],["type","checkbox",1,"mt-1","w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"change","checked"],["class","p-4 bg-orange-50 rounded-lg border border-orange-200",4,"ngIf"],[1,"p-4","bg-orange-50","rounded-lg","border","border-orange-200"],[1,"w-4","h-4","text-orange-600",3,"img"],[1,"font-medium","text-orange-800"],[1,"text-sm","text-orange-700"],["placeholder","Descripci\xf3n detallada de por qu\xe9 este usuario necesita este rol personalizado...\n\nEjemplo: M\xe9dico jefe de sala de emergencias requiere capacidad de anular alertas cl\xednicas en situaciones cr\xedticas de vida o muerte donde el juicio cl\xednico prevalece sobre alertas automatizadas del sistema.","rows","6",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","resize-none",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-4","mt-2"],["type","radio","name","validity",1,"w-4","h-4","text-blue-600","border-gray-300","focus:ring-blue-500",3,"ngModelChange","ngModel","value"],["class","mt-2",4,"ngIf"],["type","date",1,"px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-md","text-sm","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","bg-blue-600","text-white","rounded-md","text-sm","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"]],template:function(o,s){1&o&&(e.j41(0,"app-page-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"p",7),e.EFF(8,"Total roles"),e.k0s(),e.j41(9,"p",8),e.EFF(10),e.k0s(),e.j41(11,"div",9)(12,"span",10),e.EFF(13),e.k0s()()(),e.j41(14,"div",11),e.nrm(15,"lucide-icon",12),e.k0s()()()(),e.j41(16,"div",13)(17,"div",4)(18,"div",5)(19,"div",6)(20,"p",7),e.EFF(21,"Roles activos"),e.k0s(),e.j41(22,"p",8),e.EFF(23),e.k0s()(),e.j41(24,"div",14),e.nrm(25,"lucide-icon",15),e.k0s()()()(),e.j41(26,"div",16)(27,"div",4)(28,"div",5)(29,"div",6)(30,"p",7),e.EFF(31,"Total usuarios"),e.k0s(),e.j41(32,"p",8),e.EFF(33),e.k0s()(),e.j41(34,"div",17),e.nrm(35,"lucide-icon",18),e.k0s()()()(),e.j41(36,"div",19)(37,"div",4)(38,"div",5)(39,"div",6)(40,"p",7),e.EFF(41,"Pendientes"),e.k0s(),e.j41(42,"p",8),e.EFF(43),e.k0s(),e.j41(44,"div",9)(45,"span",10),e.EFF(46,"Aprobaci\xf3n requerida"),e.k0s()()(),e.j41(47,"div",20),e.nrm(48,"lucide-icon",21),e.k0s()()()()(),e.j41(49,"div",22)(50,"div",23)(51,"h2",24),e.EFF(52,"Gesti\xf3n de Roles"),e.k0s(),e.j41(53,"div",25),e.DNE(54,m,3,5,"button",26),e.k0s()(),e.j41(55,"div",4),e.DNE(56,F,17,1,"div",27)(57,j,21,1,"div",27)(58,y,3,2,"div",27),e.k0s()()()(),e.DNE(59,G,35,20,"div",28)(60,O,32,18,"div",28)),2&o&&(e.Y8G("title","Roles y Permisos")("description","Sistema H\xedbrido RBAC \u2022 Roles Base + Personalizados \u2022 HIPAA/FDA/FHIR Compliant")("icon",s.shieldIcon)("breadcrumbItems",s.breadcrumbItems)("hasActionButton",!0)("headerGradient","from-blue-600 via-indigo-500 to-purple-600")("showSecurityBadge",!0),e.R7$(10),e.JRh(s.stats.totalRoles),e.R7$(3),e.Lme("",s.stats.baseRoles," base + ",s.stats.customRoles," personalizados"),e.R7$(2),e.Y8G("img",s.shieldIcon),e.R7$(8),e.JRh(s.stats.activeRoles),e.R7$(2),e.Y8G("img",s.checkCircle2Icon),e.R7$(8),e.JRh(s.stats.totalUsers),e.R7$(2),e.Y8G("img",s.usersIcon),e.R7$(8),e.JRh(s.stats.pendingApprovals),e.R7$(5),e.Y8G("img",s.alertTriangleIcon),e.R7$(6),e.Y8G("ngForOf",s.tabs),e.R7$(2),e.Y8G("ngIf","base"===s.activeTab),e.R7$(),e.Y8G("ngIf","custom"===s.activeTab),e.R7$(),e.Y8G("ngIf","pending"===s.activeTab),e.R7$(),e.Y8G("ngIf",s.isPermissionsModalOpen),e.R7$(),e.Y8G("ngIf",s.isCreateCustomModalOpen))},dependencies:[c.MD,c.Sq,c.bT,a.YN,a.me,a.Fm,a.BC,a.vS,d.flO,d.WGl,p.J],encapsulation:2})}}return t})()}}]);