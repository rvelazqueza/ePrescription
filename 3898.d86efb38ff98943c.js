"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[3898],{3898:(h,a,n)=>{n.r(a),n.d(a,{SesionesComponent:()=>m});var d=n(177),c=n(4341),s=n(8516),u=n(8961),e=n(4438);function l(o,g){if(1&o){const t=e.RV6();e.j41(0,"tr",25)(1,"td",26)(2,"div",27)(3,"div",28),e.nrm(4,"lucide-icon",29),e.k0s(),e.j41(5,"div")(6,"p",30),e.EFF(7),e.k0s(),e.j41(8,"p",6),e.EFF(9),e.k0s()()()(),e.j41(10,"td",26)(11,"div",31)(12,"div",32),e.nrm(13,"lucide-icon",33),e.j41(14,"span",34),e.EFF(15),e.k0s()(),e.j41(16,"div",35),e.nrm(17,"lucide-icon",36),e.j41(18,"span"),e.EFF(19),e.k0s()()()(),e.j41(20,"td",26)(21,"div",31)(22,"p",34),e.EFF(23),e.k0s(),e.j41(24,"p",37),e.EFF(25),e.k0s()()(),e.j41(26,"td",26)(27,"div",31)(28,"p",34),e.EFF(29),e.k0s(),e.j41(30,"p",37),e.EFF(31),e.k0s()()(),e.j41(32,"td",26)(33,"div",31)(34,"p",34),e.EFF(35),e.k0s(),e.j41(36,"p",37),e.EFF(37),e.k0s()()(),e.j41(38,"td",26)(39,"span",38),e.EFF(40),e.k0s()(),e.j41(41,"td",26)(42,"span",39),e.EFF(43," Activa "),e.k0s()(),e.j41(44,"td",40)(45,"button",41),e.bIt("click",function(){const r=e.eBV(t).$implicit,p=e.XpG();return e.Njj(p.terminateSession(r))}),e.nrm(46,"lucide-icon",42),e.EFF(47," Cerrar "),e.k0s()()()}if(2&o){const t=g.$implicit,i=e.XpG();e.R7$(4),e.Y8G("img",i.userIcon),e.R7$(3),e.JRh(t.userName),e.R7$(2),e.JRh(t.userId),e.R7$(4),e.Y8G("img",i.mapPinIcon),e.R7$(2),e.JRh(t.location),e.R7$(2),e.Y8G("img",i.monitorIcon),e.R7$(2),e.JRh(t.ipAddress),e.R7$(4),e.JRh(t.device),e.R7$(2),e.JRh(t.browser),e.R7$(4),e.JRh(i.getDatePart(t.loginTime)),e.R7$(2),e.JRh(i.getTimePart(t.loginTime)),e.R7$(4),e.JRh(i.getDatePart(t.lastActivity)),e.R7$(2),e.JRh(i.getTimePart(t.lastActivity)),e.R7$(3),e.SpI(" ",t.duration," "),e.R7$(6),e.Y8G("img",i.xCircleIcon)}}let m=(()=>{class o{constructor(){this.activityIcon=s.Ilq,this.usersIcon=s.zWC,this.clockIcon=s.zD7,this.userIcon=s.KJW,this.monitorIcon=s.VAG,this.mapPinIcon=s.sDd,this.xCircleIcon=s.Jpz,this.downloadIcon=s.f5X,this.externalLinkIcon=s.GrD,this.breadcrumbItems=[{label:"Seguridad y usuarios",route:"/seguridad"},{label:"Sesiones de usuario",route:"/seguridad/sesiones"}],this.sesionesActivas=[{id:"SESS-45678-ABC",userId:"USR-0023",userName:"Dr. Carlos Mart\xednez",ipAddress:"192.168.1.45",location:"Consultorio 3B",device:"Windows PC",browser:"Chrome 118.0",loginTime:"2024-10-01 08:00:15",lastActivity:"2024-10-01 14:35:22",duration:"6h 35m",status:"active"},{id:"SESS-45679-DEF",userId:"USR-0045",userName:"Farmac\xe9utica Ana Garc\xeda",ipAddress:"192.168.1.78",location:"Farmacia Central",device:"Windows PC",browser:"Firefox 119.0",loginTime:"2024-10-01 07:30:00",lastActivity:"2024-10-01 14:28:15",duration:"6h 58m",status:"active"},{id:"SESS-45680-GHI",userId:"USR-0001",userName:"Admin Sistema",ipAddress:"192.168.1.10",location:"Administraci\xf3n",device:"Windows Server",browser:"Edge 118.0",loginTime:"2024-10-01 06:00:00",lastActivity:"2024-10-01 13:45:08",duration:"7h 45m",status:"active"},{id:"SESS-45681-JKL",userId:"USR-0067",userName:"Dr. Jos\xe9 Torres",ipAddress:"192.168.1.56",location:"Consultorio 5A",device:"MacBook Pro",browser:"Safari 17.0",loginTime:"2024-10-01 09:00:45",lastActivity:"2024-10-01 13:12:45",duration:"4h 12m",status:"active"},{id:"SESS-45682-MNO",userId:"USR-0089",userName:"Dra. Laura Ram\xedrez",ipAddress:"192.168.1.67",location:"Consultorio Principal",device:"Windows PC",browser:"Chrome 118.0",loginTime:"2024-10-01 07:00:30",lastActivity:"2024-10-01 12:45:12",duration:"5h 44m",status:"active"}]}ngOnInit(){}getUniqueUsersCount(){return new Set(this.sesionesActivas.map(i=>i.userId)).size}getDatePart(t){return t.split(" ")[0]}getTimePart(t){return t.split(" ")[1]}terminateSession(t){console.log("Terminating session:",t),this.sesionesActivas=this.sesionesActivas.filter(i=>i.id!==t.id),alert(`Sesi\xf3n de ${t.userName} ha sido cerrada exitosamente`)}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-sesiones"]],standalone:!0,features:[e.aNF],decls:59,vars:13,consts:[[3,"title","description","icon","breadcrumbItems","hasActionButton","headerGradient"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-white","rounded-lg","shadow-lg","border-l-4","border-cyan-500"],[1,"p-4"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-semibold"],[1,"w-8","h-8","text-cyan-500",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","border-l-4","border-blue-500"],[1,"w-8","h-8","text-blue-500",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","border-l-4","border-purple-500"],[1,"w-8","h-8","text-purple-500",3,"img"],[1,"bg-white","rounded-lg","shadow-lg"],[1,"p-6","border-b","border-gray-200","flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-gray-900"],[1,"inline-flex","items-center","px-3","py-1","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"w-4","h-4","mr-2",3,"img"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-cyan-100","flex","items-center","justify-center"],[1,"w-5","h-5","text-cyan-600",3,"img"],[1,"font-medium","text-gray-900"],[1,"text-sm"],[1,"flex","items-center","gap-1"],[1,"w-3","h-3","text-gray-400",3,"img"],[1,"text-gray-900"],[1,"flex","items-center","gap-1","text-gray-600","mt-1"],[1,"w-3","h-3",3,"img"],[1,"text-gray-600"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","border","border-blue-200"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800","border","border-green-200"],[1,"px-6","py-4","whitespace-nowrap","text-right"],[1,"inline-flex","items-center","px-3","py-1","border","border-red-300","text-red-600","rounded-md","text-sm","font-medium","hover:bg-red-50","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"click"],[1,"w-4","h-4","mr-1",3,"img"]],template:function(i,r){1&i&&(e.j41(0,"app-page-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"p",6),e.EFF(8,"Sesiones activas"),e.k0s(),e.j41(9,"p",7),e.EFF(10),e.k0s()(),e.nrm(11,"lucide-icon",8),e.k0s()()(),e.j41(12,"div",9)(13,"div",4)(14,"div",5)(15,"div")(16,"p",6),e.EFF(17,"Usuarios \xfanicos"),e.k0s(),e.j41(18,"p",7),e.EFF(19),e.k0s()(),e.nrm(20,"lucide-icon",10),e.k0s()()(),e.j41(21,"div",11)(22,"div",4)(23,"div",5)(24,"div")(25,"p",6),e.EFF(26,"Promedio duraci\xf3n"),e.k0s(),e.j41(27,"p",7),e.EFF(28,"6.3h"),e.k0s()(),e.nrm(29,"lucide-icon",12),e.k0s()()()(),e.j41(30,"div",13)(31,"div",14)(32,"h2",15),e.EFF(33,"Sesiones Activas en el Sistema"),e.k0s(),e.j41(34,"button",16),e.nrm(35,"lucide-icon",17),e.EFF(36," Exportar "),e.k0s()(),e.j41(37,"div",18)(38,"table",19)(39,"thead",20)(40,"tr")(41,"th",21),e.EFF(42,"Usuario"),e.k0s(),e.j41(43,"th",21),e.EFF(44,"Ubicaci\xf3n/IP"),e.k0s(),e.j41(45,"th",21),e.EFF(46,"Dispositivo"),e.k0s(),e.j41(47,"th",21),e.EFF(48,"Inicio de sesi\xf3n"),e.k0s(),e.j41(49,"th",21),e.EFF(50,"\xdaltima actividad"),e.k0s(),e.j41(51,"th",21),e.EFF(52,"Duraci\xf3n"),e.k0s(),e.j41(53,"th",21),e.EFF(54,"Estado"),e.k0s(),e.j41(55,"th",22),e.EFF(56,"Acciones"),e.k0s()()(),e.j41(57,"tbody",23),e.DNE(58,l,48,15,"tr",24),e.k0s()()()()()()),2&i&&(e.Y8G("title","Sesiones Activas")("description","Monitoreo en tiempo real de accesos al sistema")("icon",r.activityIcon)("breadcrumbItems",r.breadcrumbItems)("hasActionButton",!1)("headerGradient","from-cyan-600 via-blue-500 to-indigo-600"),e.R7$(10),e.JRh(r.sesionesActivas.length),e.R7$(),e.Y8G("img",r.activityIcon),e.R7$(8),e.JRh(r.getUniqueUsersCount()),e.R7$(),e.Y8G("img",r.usersIcon),e.R7$(9),e.Y8G("img",r.clockIcon),e.R7$(6),e.Y8G("img",r.downloadIcon),e.R7$(23),e.Y8G("ngForOf",r.sesionesActivas))},dependencies:[d.MD,d.Sq,c.YN,s.flO,s.WGl,u.J],encapsulation:2})}}return o})()}}]);