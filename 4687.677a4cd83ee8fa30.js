"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[4687],{4687:(P,u,l)=>{l.r(u),l.d(u,{MiPerfilComponent:()=>y});var c=l(177),d=l(4341),o=l(8516),g=l(8961),e=l(4438),f=l(6283);const p=["fileInput"];function m(s,a){if(1&s){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){const i=e.eBV(t).$implicit,n=e.XpG();return e.Njj(n.activeTab=i.id)}),e.nrm(1,"lucide-icon",12),e.EFF(2),e.k0s()}if(2&s){const t=a.$implicit,r=e.XpG();e.HbH(r.getTabClasses(t.id)),e.R7$(),e.Y8G("img",t.icon),e.R7$(),e.SpI(" ",t.label," ")}}function h(s,a){if(1&s){const t=e.RV6();e.j41(0,"button",48),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.startEditing())}),e.nrm(1,"lucide-icon",12),e.EFF(2," Editar Perfil "),e.k0s()}if(2&s){const t=e.XpG(2);e.R7$(),e.Y8G("img",t.editIcon)}}function b(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",17)(1,"button",49),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.cancelEditing())}),e.nrm(2,"lucide-icon",12),e.EFF(3," Cancelar "),e.k0s(),e.j41(4,"button",50),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.saveChanges())}),e.nrm(5,"lucide-icon",12),e.EFF(6),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(2),e.Y8G("img",t.xIcon),e.R7$(2),e.Y8G("disabled",t.isSaving),e.R7$(),e.Y8G("img",t.saveIcon),e.R7$(),e.SpI(" ",t.isSaving?"Guardando...":"Guardar cambios"," ")}}function _(s,a){if(1&s&&e.nrm(0,"img",51),2&s){const t=e.XpG(2);e.Y8G("src",t.profilePhoto,e.B4B)}}function x(s,a){if(1&s&&e.nrm(0,"lucide-icon",52),2&s){const t=e.XpG(2);e.Y8G("img",t.userIcon)}}function F(s,a){if(1&s&&(e.j41(0,"span",53),e.EFF(1),e.k0s()),2&s){const t=a.$implicit;e.R7$(),e.SpI(" ",t," ")}}function v(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"div",13)(3,"div",14)(4,"div")(5,"h2",15),e.EFF(6,"Informaci\xf3n Personal"),e.k0s(),e.j41(7,"p",16),e.EFF(8,"Actualiza tu informaci\xf3n de perfil y datos de contacto"),e.k0s()(),e.j41(9,"div",17),e.DNE(10,h,3,1,"button",18)(11,b,7,4,"div",19),e.k0s()()(),e.j41(12,"div",20)(13,"div",21)(14,"div",22)(15,"div",23),e.DNE(16,_,1,1,"img",24)(17,x,1,1,"lucide-icon",25),e.k0s(),e.j41(18,"button",26),e.bIt("click",function(){e.eBV(t);const i=e.sdS(21);return e.Njj(i.click())}),e.nrm(19,"lucide-icon",27),e.k0s(),e.j41(20,"input",28,0),e.bIt("change",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.onPhotoUpload(i))}),e.k0s()(),e.j41(22,"div")(23,"h3",29),e.EFF(24),e.k0s(),e.j41(25,"p",30),e.EFF(26),e.k0s(),e.j41(27,"p",31),e.nrm(28,"lucide-icon",4),e.EFF(29," M\xe1ximo 5MB - JPG, PNG o GIF "),e.k0s()()(),e.nrm(30,"div",32),e.j41(31,"div",33)(32,"div",34)(33,"label",35),e.EFF(34,"Nombre completo *"),e.k0s(),e.j41(35,"div",22),e.nrm(36,"lucide-icon",36),e.j41(37,"input",37),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.editedData.fullName,i)||(n.editedData.fullName=i),e.Njj(i)}),e.k0s()()(),e.j41(38,"div",34)(39,"label",35),e.EFF(40,"Usuario"),e.k0s(),e.nrm(41,"input",38),e.k0s(),e.j41(42,"div",34)(43,"label",35),e.EFF(44,"Correo electr\xf3nico *"),e.k0s(),e.j41(45,"div",22),e.nrm(46,"lucide-icon",36),e.j41(47,"input",39),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.editedData.email,i)||(n.editedData.email=i),e.Njj(i)}),e.k0s()()(),e.j41(48,"div",34)(49,"label",35),e.EFF(50,"Tel\xe9fono *"),e.k0s(),e.j41(51,"div",22),e.nrm(52,"lucide-icon",36),e.j41(53,"input",40),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.editedData.phone,i)||(n.editedData.phone=i),e.Njj(i)}),e.k0s()()(),e.j41(54,"div",34)(55,"label",35),e.EFF(56,"Especialidad"),e.k0s(),e.j41(57,"div",22),e.nrm(58,"lucide-icon",36),e.j41(59,"input",37),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.editedData.specialty,i)||(n.editedData.specialty=i),e.Njj(i)}),e.k0s()()(),e.j41(60,"div",34)(61,"label",35),e.EFF(62,"Departamento"),e.k0s(),e.j41(63,"div",22),e.nrm(64,"lucide-icon",36),e.j41(65,"input",37),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.editedData.department,i)||(n.editedData.department=i),e.Njj(i)}),e.k0s()()(),e.j41(66,"div",34)(67,"label",35),e.EFF(68,"C\xe9dula profesional"),e.k0s(),e.nrm(69,"input",38),e.k0s(),e.j41(70,"div",34)(71,"label",35),e.EFF(72,"Estado de cuenta"),e.k0s(),e.j41(73,"div",41)(74,"span"),e.EFF(75),e.k0s()()()(),e.j41(76,"div",42)(77,"label",35),e.EFF(78,"Roles asignados"),e.k0s(),e.j41(79,"div",43),e.DNE(80,F,2,1,"span",44),e.k0s()()()(),e.j41(81,"div",6)(82,"div",13)(83,"h2",15),e.EFF(84,"Informaci\xf3n de la cuenta"),e.k0s()(),e.j41(85,"div",45)(86,"div",46)(87,"div")(88,"p",16),e.EFF(89,"\xdaltimo inicio de sesi\xf3n"),e.k0s(),e.j41(90,"p",47),e.EFF(91),e.k0s()(),e.j41(92,"div")(93,"p",16),e.EFF(94,"Total de inicios de sesi\xf3n"),e.k0s(),e.j41(95,"p",47),e.EFF(96),e.k0s()(),e.j41(97,"div")(98,"p",16),e.EFF(99,"Cuenta creada"),e.k0s(),e.j41(100,"p",47),e.EFF(101),e.k0s()(),e.j41(102,"div")(103,"p",16),e.EFF(104,"Intentos fallidos"),e.k0s(),e.j41(105,"p",47),e.EFF(106),e.k0s()()()()()()}if(2&s){const t=e.XpG();e.R7$(10),e.Y8G("ngIf",!t.isEditing),e.R7$(),e.Y8G("ngIf",t.isEditing),e.R7$(5),e.Y8G("ngIf",t.profilePhoto),e.R7$(),e.Y8G("ngIf",!t.profilePhoto),e.R7$(2),e.Y8G("img",t.cameraIcon),e.R7$(5),e.JRh(t.user.fullName),e.R7$(2),e.JRh(t.user.specialty),e.R7$(2),e.Y8G("img",t.uploadIcon),e.R7$(8),e.Y8G("img",t.userIcon),e.R7$(),e.R50("ngModel",t.editedData.fullName),e.Y8G("disabled",!t.isEditing),e.R7$(4),e.Y8G("value",t.user.username),e.R7$(5),e.Y8G("img",t.mailIcon),e.R7$(),e.R50("ngModel",t.editedData.email),e.Y8G("disabled",!t.isEditing),e.R7$(5),e.Y8G("img",t.phoneIcon),e.R7$(),e.R50("ngModel",t.editedData.phone),e.Y8G("disabled",!t.isEditing),e.R7$(5),e.Y8G("img",t.briefcaseIcon),e.R7$(),e.R50("ngModel",t.editedData.specialty),e.Y8G("disabled",!t.isEditing),e.R7$(5),e.Y8G("img",t.mapPinIcon),e.R7$(),e.R50("ngModel",t.editedData.department),e.Y8G("disabled",!t.isEditing),e.R7$(4),e.Y8G("value",t.user.certifiedId||"No especificada"),e.R7$(5),e.HbH("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("active"===t.user.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")),e.R7$(),e.SpI(" ","active"===t.user.status?"Activa":"Inactiva"," "),e.R7$(5),e.Y8G("ngForOf",t.user.assignedRoles),e.R7$(11),e.JRh(t.user.lastLogin),e.R7$(5),e.JRh(t.user.loginCount.toLocaleString()),e.R7$(5),e.JRh(t.user.createdDate),e.R7$(5),e.JRh(t.user.failedAttempts)}}function w(s,a){if(1&s&&(e.j41(0,"div",76)(1,"div",77)(2,"span",78),e.EFF(3,"Fortaleza de la contrase\xf1a"),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s()(),e.j41(6,"div",79),e.nrm(7,"div"),e.k0s(),e.j41(8,"p",80),e.EFF(9," Incluye may\xfasculas, min\xfasculas, n\xfameros y s\xedmbolos especiales "),e.k0s()()),2&s){const t=e.XpG(2);e.R7$(4),e.HbH("font-medium "+t.getPasswordStrengthColor()),e.R7$(),e.SpI(" ",t.getPasswordStrengthLabel()," "),e.R7$(2),e.HbH("h-full transition-all duration-300 "+t.getPasswordStrengthBg()),e.xc7("width",t.getPasswordStrength(),"%")}}function j(s,a){if(1&s&&(e.j41(0,"div",81),e.nrm(1,"lucide-icon",82),e.j41(2,"div")(3,"p",83),e.EFF(4,"Autenticaci\xf3n de dos factores activa"),e.k0s(),e.j41(5,"p",84),e.EFF(6," Se te solicitar\xe1 un c\xf3digo de verificaci\xf3n cada vez que inicies sesi\xf3n desde un nuevo dispositivo. "),e.k0s()()()),2&s){const t=e.XpG(2);e.R7$(),e.Y8G("img",t.checkCircleIcon)}}function E(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",5)(1,"div",54)(2,"div",55),e.nrm(3,"lucide-icon",56),e.j41(4,"div")(5,"h3",57),e.EFF(6,"Pol\xedticas NIST 800-63B"),e.k0s(),e.j41(7,"p",58),e.EFF(8," Las contrase\xf1as deben tener m\xednimo 8 caracteres e incluir al menos 3 tipos de caracteres (min\xfasculas, may\xfasculas, n\xfameros, s\xedmbolos). "),e.k0s()()()(),e.j41(9,"div",6)(10,"div",13)(11,"h2",15),e.EFF(12,"Cambiar contrase\xf1a"),e.k0s(),e.j41(13,"p",16),e.EFF(14,"Actualiza tu contrase\xf1a regularmente para mantener tu cuenta segura"),e.k0s()(),e.j41(15,"div",59)(16,"div",34)(17,"label",35),e.EFF(18,"Contrase\xf1a actual *"),e.k0s(),e.j41(19,"div",22),e.nrm(20,"lucide-icon",36),e.j41(21,"input",60),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.currentPassword,i)||(n.currentPassword=i),e.Njj(i)}),e.k0s(),e.j41(22,"button",61),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showCurrentPassword=!i.showCurrentPassword)}),e.nrm(23,"lucide-icon",27),e.k0s()()(),e.j41(24,"div",34)(25,"label",35),e.EFF(26,"Nueva contrase\xf1a *"),e.k0s(),e.j41(27,"div",22),e.nrm(28,"lucide-icon",36),e.j41(29,"input",62),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.newPassword,i)||(n.newPassword=i),e.Njj(i)}),e.k0s(),e.j41(30,"button",61),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showNewPassword=!i.showNewPassword)}),e.nrm(31,"lucide-icon",27),e.k0s()(),e.DNE(32,w,10,7,"div",63),e.k0s(),e.j41(33,"div",34)(34,"label",35),e.EFF(35,"Confirmar nueva contrase\xf1a *"),e.k0s(),e.j41(36,"div",22),e.nrm(37,"lucide-icon",36),e.j41(38,"input",64),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.confirmPassword,i)||(n.confirmPassword=i),e.Njj(i)}),e.k0s(),e.j41(39,"button",61),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showConfirmPassword=!i.showConfirmPassword)}),e.nrm(40,"lucide-icon",27),e.k0s()()(),e.j41(41,"button",65),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.changePassword())}),e.nrm(42,"lucide-icon",12),e.EFF(43," Cambiar contrase\xf1a "),e.k0s()()(),e.j41(44,"div",6)(45,"div",13)(46,"h2",15),e.EFF(47,"Autenticaci\xf3n de dos factores (2FA)"),e.k0s(),e.j41(48,"p",16),e.EFF(49,"Agrega una capa adicional de seguridad a tu cuenta"),e.k0s()(),e.j41(50,"div",45)(51,"div",66)(52,"div",67)(53,"div"),e.nrm(54,"lucide-icon",68),e.k0s(),e.j41(55,"div")(56,"p",47),e.EFF(57),e.k0s(),e.j41(58,"p",16),e.EFF(59),e.k0s()()(),e.j41(60,"label",69)(61,"input",70),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.twoFactorEnabled,i)||(n.twoFactorEnabled=i),e.Njj(i)}),e.bIt("change",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggle2FA())}),e.k0s(),e.nrm(62,"div",71),e.k0s()(),e.DNE(63,j,7,1,"div",72),e.k0s()(),e.j41(64,"div",6)(65,"div",13)(66,"h2",15),e.EFF(67,"Sesiones activas"),e.k0s(),e.j41(68,"p",16),e.EFF(69,"Gestiona d\xf3nde has iniciado sesi\xf3n"),e.k0s()(),e.j41(70,"div",45)(71,"div",66)(72,"div",67)(73,"div",73),e.nrm(74,"lucide-icon",74),e.k0s(),e.j41(75,"div")(76,"p",47),e.EFF(77,"Sesi\xf3n actual"),e.k0s(),e.j41(78,"p",16),e.EFF(79,"Chrome en Windows \u2022 Ahora"),e.k0s()()(),e.j41(80,"span",75),e.EFF(81," Activa "),e.k0s()()()()()}if(2&s){const t=e.XpG();e.R7$(3),e.Y8G("img",t.shieldIcon),e.R7$(17),e.Y8G("img",t.lockIcon),e.R7$(),e.Y8G("type",t.showCurrentPassword?"text":"password"),e.R50("ngModel",t.currentPassword),e.R7$(2),e.Y8G("img",t.showCurrentPassword?t.eyeOffIcon:t.eyeIcon),e.R7$(5),e.Y8G("img",t.keyIcon),e.R7$(),e.Y8G("type",t.showNewPassword?"text":"password"),e.R50("ngModel",t.newPassword),e.R7$(2),e.Y8G("img",t.showNewPassword?t.eyeOffIcon:t.eyeIcon),e.R7$(),e.Y8G("ngIf",t.newPassword),e.R7$(5),e.Y8G("img",t.keyIcon),e.R7$(),e.Y8G("type",t.showConfirmPassword?"text":"password"),e.R50("ngModel",t.confirmPassword),e.R7$(2),e.Y8G("img",t.showConfirmPassword?t.eyeOffIcon:t.eyeIcon),e.R7$(2),e.Y8G("img",t.lockIcon),e.R7$(11),e.HbH("p-2 rounded-lg "+(t.twoFactorEnabled?"bg-green-100":"bg-gray-100")),e.R7$(),e.HbH("w-5 h-5 "+(t.twoFactorEnabled?"text-green-600":"text-gray-400")),e.Y8G("img",t.smartphoneIcon),e.R7$(3),e.SpI(" ",t.twoFactorEnabled?"Autenticaci\xf3n habilitada":"Autenticaci\xf3n deshabilitada"," "),e.R7$(2),e.SpI(" ",t.twoFactorEnabled?"Tu cuenta est\xe1 protegida con verificaci\xf3n en dos pasos":"Habilita 2FA para mayor seguridad"," "),e.R7$(2),e.R50("ngModel",t.twoFactorEnabled),e.R7$(2),e.Y8G("ngIf",t.twoFactorEnabled),e.R7$(11),e.Y8G("img",t.checkCircleIcon)}}function k(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"div",13)(3,"h2",15),e.EFF(4,"Preferencias del sistema"),e.k0s(),e.j41(5,"p",16),e.EFF(6,"Personaliza tu experiencia en la plataforma"),e.k0s()(),e.j41(7,"div",20)(8,"div",14)(9,"div")(10,"p",47),e.EFF(11,"Notificaciones por correo"),e.k0s(),e.j41(12,"p",16),e.EFF(13,"Recibe actualizaciones importantes por email"),e.k0s()(),e.j41(14,"label",69)(15,"input",85),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.emailNotifications,i)||(n.emailNotifications=i),e.Njj(i)}),e.k0s(),e.nrm(16,"div",71),e.k0s()(),e.nrm(17,"div",32),e.j41(18,"div",14)(19,"div")(20,"p",47),e.EFF(21,"Notificaciones push"),e.k0s(),e.j41(22,"p",16),e.EFF(23,"Recibe notificaciones en tiempo real"),e.k0s()(),e.j41(24,"label",69)(25,"input",85),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.pushNotifications,i)||(n.pushNotifications=i),e.Njj(i)}),e.k0s(),e.nrm(26,"div",71),e.k0s()(),e.nrm(27,"div",32),e.j41(28,"div",14)(29,"div")(30,"p",47),e.EFF(31,"Alertas de seguridad"),e.k0s(),e.j41(32,"p",16),e.EFF(33,"Notificaciones sobre actividad sospechosa"),e.k0s()(),e.j41(34,"label",69)(35,"input",85),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.securityAlerts,i)||(n.securityAlerts=i),e.Njj(i)}),e.k0s(),e.nrm(36,"div",71),e.k0s()()()()()}if(2&s){const t=e.XpG();e.R7$(15),e.R50("ngModel",t.emailNotifications),e.R7$(10),e.R50("ngModel",t.pushNotifications),e.R7$(10),e.R50("ngModel",t.securityAlerts)}}let y=(()=>{class s{constructor(t){this.router=t,this.userIcon=o.KJW,this.mailIcon=o.gE4,this.phoneIcon=o.bcf,this.mapPinIcon=o.sDd,this.briefcaseIcon=o.ZHz,this.shieldIcon=o.ekZ,this.lockIcon=o.c_I,this.cameraIcon=o.i7d,this.saveIcon=o.eMP,this.eyeIcon=o.kU3,this.eyeOffIcon=o.X_F,this.keyIcon=o.Uzy,this.smartphoneIcon=o.wO7,this.checkCircleIcon=o.rAV,this.alertCircleIcon=o.RIJ,this.uploadIcon=o._OO,this.alertTriangleIcon=o.hcu,this.editIcon=o.ffu,this.xIcon=o.X,this.breadcrumbItems=[{label:"Dashboard",route:"/dashboard"},{label:"Mi Perfil"}],this.tabs=[{id:"informacion",label:"Informaci\xf3n Personal",icon:this.userIcon},{id:"seguridad",label:"Seguridad",icon:this.shieldIcon},{id:"preferencias",label:"Preferencias",icon:this.briefcaseIcon}],this.activeTab="informacion",this.user={userId:"USR-2024-001",username:"dr.juan.perez",fullName:"Dr. Juan P\xe9rez Garc\xeda",email:"juan.perez@hospital.com",phone:"+52 55 1234 5678",specialty:"Cardiolog\xeda",department:"Medicina Interna",certifiedId:"12345678",status:"active",assignedRoles:["M\xe9dico","M\xe9dico Jefe"],lastLogin:"29 Oct 2024, 08:30 AM",loginCount:1247,createdDate:"15 Ene 2023",failedAttempts:0,twoFactorEnabled:!1},this.isEditing=!1,this.isSaving=!1,this.profilePhoto=null,this.showCurrentPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.currentPassword="",this.newPassword="",this.confirmPassword="",this.editedData={fullName:"",email:"",phone:"",specialty:"",department:""},this.twoFactorEnabled=!1,this.emailNotifications=!0,this.pushNotifications=!0,this.securityAlerts=!0}ngOnInit(){this.initializeEditedData(),this.twoFactorEnabled=this.user.twoFactorEnabled||!1}initializeEditedData(){this.editedData={fullName:this.user.fullName,email:this.user.email,phone:this.user.phone,specialty:this.user.specialty,department:this.user.department}}getTabClasses(t){const r="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center transition-colors";return this.activeTab===t?`${r} border-blue-500 text-blue-600`:`${r} border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300`}startEditing(){this.isEditing=!0}cancelEditing(){this.isEditing=!1,this.initializeEditedData()}saveChanges(){this.validateProfile()&&(this.isSaving=!0,setTimeout(()=>{this.user.fullName=this.editedData.fullName,this.user.email=this.editedData.email,this.user.phone=this.editedData.phone,this.user.specialty=this.editedData.specialty,this.user.department=this.editedData.department,this.showSuccessMessage("Perfil actualizado exitosamente"),this.isEditing=!1,this.isSaving=!1},1500))}validateProfile(){return this.editedData.fullName.trim()?this.editedData.email.trim()?this.editedData.phone.trim()?!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.editedData.email)||(this.showErrorMessage("El formato del correo electr\xf3nico no es v\xe1lido"),!1):(this.showErrorMessage("El tel\xe9fono es obligatorio"),!1):(this.showErrorMessage("El correo electr\xf3nico es obligatorio"),!1):(this.showErrorMessage("El nombre completo es obligatorio"),!1)}onPhotoUpload(t){const i=t.target.files?.[0];if(i){if(!i.type.startsWith("image/"))return void this.showErrorMessage("Por favor seleccione una imagen v\xe1lida");if(i.size>5242880)return void this.showErrorMessage("La imagen no debe exceder 5MB");const n=new FileReader;n.onloadend=()=>{this.profilePhoto=n.result,this.showSuccessMessage('Foto de perfil actualizada. Los cambios se guardar\xe1n al hacer clic en "Guardar cambios"')},n.readAsDataURL(i)}}changePassword(){this.validatePasswordChange()&&setTimeout(()=>{this.showSuccessMessage("Contrase\xf1a actualizada exitosamente. Por seguridad, se cerrar\xe1n todas tus sesiones activas"),this.currentPassword="",this.newPassword="",this.confirmPassword=""},1e3)}validatePasswordChange(){return this.currentPassword&&this.newPassword&&this.confirmPassword?this.newPassword!==this.confirmPassword?(this.showErrorMessage("Las contrase\xf1as no coinciden"),!1):this.currentPassword===this.newPassword?(this.showErrorMessage("La nueva contrase\xf1a debe ser diferente de la actual"),!1):!(this.getPasswordStrength()<60&&(this.showErrorMessage("La contrase\xf1a no cumple con las pol\xedticas de seguridad"),1)):(this.showErrorMessage("Todos los campos son obligatorios"),!1)}getPasswordStrength(){if(!this.newPassword)return 0;let t=0;const r=this.newPassword;return r.length>=8&&(t+=25),r.length>=12&&(t+=15),/[a-z]/.test(r)&&(t+=15),/[A-Z]/.test(r)&&(t+=15),/[0-9]/.test(r)&&(t+=15),/[^A-Za-z0-9]/.test(r)&&(t+=15),Math.min(t,100)}getPasswordStrengthLabel(){const t=this.getPasswordStrength();return t<40?"D\xe9bil":t<60?"Regular":t<80?"Buena":"Excelente"}getPasswordStrengthColor(){const t=this.getPasswordStrength();return t<40?"text-red-600":t<60?"text-yellow-600":t<80?"text-blue-600":"text-green-600"}getPasswordStrengthBg(){const t=this.getPasswordStrength();return t<40?"bg-red-500":t<60?"bg-yellow-500":t<80?"bg-blue-500":"bg-green-500"}toggle2FA(){this.twoFactorEnabled?this.showSuccessMessage("Autenticaci\xf3n de dos factores habilitada. Tu cuenta ahora est\xe1 m\xe1s segura"):this.showInfoMessage("Autenticaci\xf3n de dos factores deshabilitada. Puedes habilitarla nuevamente cuando lo desees")}showSuccessMessage(t){console.log("\u2705 Success:",t),alert(t)}showErrorMessage(t){console.log("\u274c Error:",t),alert(t)}showInfoMessage(t){console.log("\u2139\ufe0f Info:",t),alert(t)}static{this.\u0275fac=function(r){return new(r||s)(e.rXU(f.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-mi-perfil"]],viewQuery:function(r,i){if(1&r&&e.GBs(p,5),2&r){let n;e.mGM(n=e.lsd())&&(i.fileInput=n.first)}},standalone:!0,features:[e.aNF],decls:13,vars:12,consts:[["fileInput",""],[3,"title","description","icon","breadcrumbItems","hasActionButton","headerGradient"],["slot","action",1,"flex","gap-2","flex-wrap"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-white/20","text-white","border","border-white/30"],[1,"w-3","h-3","mr-1",3,"img"],[1,"space-y-6"],[1,"bg-white","rounded-lg","shadow-lg"],[1,"border-b","border-gray-200"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8","px-6"],["type","button",3,"class","click",4,"ngFor","ngForOf"],["class","space-y-6",4,"ngIf"],["type","button",3,"click"],[1,"w-4","h-4","mr-2",3,"img"],[1,"p-6","border-b","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"flex","gap-2"],["class","inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",3,"click",4,"ngIf"],["class","flex gap-2",4,"ngIf"],[1,"p-6","space-y-6"],[1,"flex","items-center","gap-6"],[1,"relative"],[1,"w-24","h-24","rounded-full","bg-blue-100","flex","items-center","justify-center","overflow-hidden"],["alt","Perfil","class","w-full h-full object-cover",3,"src",4,"ngIf"],["class","w-12 h-12 text-blue-600",3,"img",4,"ngIf"],[1,"absolute","bottom-0","right-0","bg-blue-600","text-white","p-2","rounded-full","hover:bg-blue-700","transition-colors",3,"click"],[1,"w-4","h-4",3,"img"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"font-medium","mb-1"],[1,"text-sm","text-gray-600","mb-2"],[1,"text-xs","text-gray-500","flex","items-center"],[1,"border-t","border-gray-200","pt-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"space-y-2"],[1,"block","text-sm","font-medium","text-gray-700"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","w-4","h-4","text-gray-400",3,"img"],["type","text",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","disabled:bg-gray-50","disabled:text-gray-500",3,"ngModelChange","ngModel","disabled"],["type","text","disabled","",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","bg-gray-50","text-gray-500",3,"value"],["type","email",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","disabled:bg-gray-50","disabled:text-gray-500",3,"ngModelChange","ngModel","disabled"],["type","tel",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","disabled:bg-gray-50","disabled:text-gray-500",3,"ngModelChange","ngModel","disabled"],[1,"flex","items-center","gap-2"],[1,"space-y-3"],[1,"flex","flex-wrap","gap-2"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",4,"ngFor","ngForOf"],[1,"p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"font-medium"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50",3,"click","disabled"],["alt","Perfil",1,"w-full","h-full","object-cover",3,"src"],[1,"w-12","h-12","text-blue-600",3,"img"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","border","border-blue-200"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"flex","items-start"],[1,"w-5","h-5","text-blue-600","mt-0.5","mr-3",3,"img"],[1,"text-sm","font-medium","text-blue-900"],[1,"text-sm","text-blue-700","mt-1"],[1,"p-6","space-y-4"],["placeholder","Ingresa tu contrase\xf1a actual",1,"block","w-full","pl-10","pr-10","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","text-gray-400","hover:text-gray-600",3,"click"],["placeholder","M\xednimo 8 caracteres",1,"block","w-full","pl-10","pr-10","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","type","ngModel"],["class","space-y-1",4,"ngIf"],["placeholder","Repite la nueva contrase\xf1a",1,"block","w-full","pl-10","pr-10","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","type","ngModel"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"flex","items-center","justify-between","p-4","border","border-gray-200","rounded-lg"],[1,"flex","items-center","gap-3"],[3,"img"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"ngModelChange","change","ngModel"],[1,"w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","peer-checked:bg-blue-600"],["class","mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3",4,"ngIf"],[1,"p-2","bg-green-100","rounded-lg"],[1,"w-5","h-5","text-green-600",3,"img"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800","border","border-green-200"],[1,"space-y-1"],[1,"flex","items-center","justify-between","text-xs"],[1,"text-gray-600"],[1,"h-2","bg-gray-200","rounded-full","overflow-hidden"],[1,"text-xs","text-gray-500"],[1,"mt-4","p-4","bg-green-50","border","border-green-200","rounded-lg","flex","items-start","gap-3"],[1,"w-5","h-5","text-green-600","mt-0.5",3,"img"],[1,"text-sm","font-medium","text-green-900"],[1,"text-sm","text-green-700","mt-1"],["type","checkbox",1,"sr-only","peer",3,"ngModelChange","ngModel"]],template:function(r,i){1&r&&(e.j41(0,"app-page-layout",1)(1,"div",2)(2,"span",3),e.nrm(3,"lucide-icon",4),e.EFF(4),e.k0s()(),e.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"nav",8),e.DNE(9,m,3,4,"button",9),e.k0s()()(),e.DNE(10,v,107,33,"div",10)(11,E,82,25,"div",10)(12,k,37,3,"div",10),e.k0s()()),2&r&&(e.Y8G("title","Mi Perfil")("description","Gestiona tu informaci\xf3n personal y configuraci\xf3n de seguridad - "+i.user.fullName)("icon",i.userIcon)("breadcrumbItems",i.breadcrumbItems)("hasActionButton",!0)("headerGradient","from-blue-600 via-indigo-600 to-purple-600"),e.R7$(3),e.Y8G("img",i.shieldIcon),e.R7$(),e.SpI(" Usuario ID: ",i.user.userId," "),e.R7$(5),e.Y8G("ngForOf",i.tabs),e.R7$(),e.Y8G("ngIf","informacion"===i.activeTab),e.R7$(),e.Y8G("ngIf","seguridad"===i.activeTab),e.R7$(),e.Y8G("ngIf","preferencias"===i.activeTab))},dependencies:[c.MD,c.Sq,c.bT,d.YN,d.me,d.Zm,d.BC,d.vS,o.flO,o.WGl,g.J],encapsulation:2})}}return s})()}}]);