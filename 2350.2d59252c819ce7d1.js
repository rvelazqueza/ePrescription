"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[2350],{2350:(b,l,o)=>{o.r(l),o.d(l,{NumeracionComponent:()=>y});var d=o(177),m=o(6283),f=o(4341),i=o(8516),g=o(8961),p=o(3922),e=o(4438),_=o(7473);function h(c,u){if(1&c&&(e.j41(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"p",18),e.EFF(5),e.k0s(),e.j41(6,"p",19),e.EFF(7),e.k0s(),e.j41(8,"div",20)(9,"span",21),e.EFF(10),e.k0s()()(),e.j41(11,"div",22),e.nrm(12,"lucide-icon",23),e.k0s()()()()),2&c){const n=u.$implicit,r=e.XpG();e.R7$(5),e.JRh(n.name),e.R7$(2),e.JRh(n.example),e.R7$(3),e.SpI("Siguiente: ",n.sequence+1,""),e.R7$(2),e.Y8G("img",r.hashIcon)}}function x(c,u){if(1&c){const n=e.RV6();e.j41(0,"app-card")(1,"app-card-header")(2,"app-card-title",24),e.EFF(3),e.k0s()(),e.j41(4,"app-card-content",25)(5,"div",26)(6,"div")(7,"label",27),e.EFF(8,"Prefijo"),e.k0s(),e.j41(9,"input",28),e.bIt("input",function(t){const a=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.updateConfig(a.type,"prefix",t))}),e.k0s()(),e.j41(10,"div")(11,"label",27),e.EFF(12,"Secuencia actual"),e.k0s(),e.j41(13,"input",29),e.bIt("input",function(t){const a=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.updateConfig(a.type,"sequence",t))}),e.k0s()()(),e.j41(14,"div")(15,"label",27),e.EFF(16,"Formato"),e.k0s(),e.nrm(17,"input",30),e.j41(18,"p",31),e.EFF(19),e.k0s()(),e.j41(20,"div")(21,"label",27),e.EFF(22,"Ejemplo de numeraci\xf3n"),e.k0s(),e.j41(23,"div",32)(24,"p",33),e.EFF(25),e.k0s()()(),e.j41(26,"div",34)(27,"div")(28,"label",35),e.EFF(29,"Reiniciar anualmente"),e.k0s(),e.j41(30,"p",36),e.EFF(31,"El 1 de enero se resetea a 1"),e.k0s()(),e.j41(32,"label",37)(33,"input",38),e.bIt("change",function(t){const a=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.updateConfig(a.type,"resetAnnually",t))}),e.k0s(),e.nrm(34,"div",39),e.k0s()(),e.j41(35,"div",40)(36,"button",41),e.bIt("click",function(){const t=e.eBV(n).$implicit,a=e.XpG();return e.Njj(a.resetSequence(t.type))}),e.nrm(37,"lucide-icon",42),e.EFF(38," Reiniciar secuencia "),e.k0s(),e.j41(39,"button",43),e.bIt("click",function(){const t=e.eBV(n).$implicit,a=e.XpG();return e.Njj(a.saveConfig(t.type))}),e.nrm(40,"lucide-icon",42),e.EFF(41," Guardar "),e.k0s()()()()}if(2&c){const n=u.$implicit,r=e.XpG();e.R7$(3),e.JRh(n.name),e.R7$(6),e.Y8G("value",n.prefix),e.R7$(4),e.Y8G("value",n.sequence),e.R7$(4),e.Y8G("value",n.format),e.R7$(2),e.SpI(" YYYY = A\xf1o, NNNN = Secuencia con ",n.paddingZeros," d\xedgitos "),e.R7$(6),e.JRh(n.example),e.R7$(8),e.Y8G("checked",n.resetAnnually),e.R7$(4),e.Y8G("img",r.refreshCwIcon),e.R7$(3),e.Y8G("img",r.saveIcon)}}let y=(()=>{class c{constructor(n){this.notificationService=n,this.hashIcon=i.VwU,this.settingsIcon=i.wB_,this.plusIcon=i.FWt,this.editIcon=i.ffu,this.trash2Icon=i.TBR,this.refreshCwIcon=i.e9t,this.checkCircle2Icon=i.Jly,this.xCircleIcon=i.Jpz,this.alertTriangleIcon=i.hcu,this.saveIcon=i.eMP,this.infoIcon=i.R2D,this.breadcrumbItems=[{label:"Configuraci\xf3n",route:"/config"},{label:"Numeraci\xf3n de recetas",route:"/config/numeracion"}],this.configuraciones=[{type:"prescriptions",name:"Prescriptions",prefix:"RX",year:"2024",sequence:201,format:"RX-YYYY-NNNN",example:"RX-2024-0201",resetAnnually:!0,paddingZeros:4,description:"Numeraci\xf3n para prescripciones m\xe9dicas"},{type:"patients",name:"Patients",prefix:"PAT",year:"",sequence:125,format:"PAT-NNNN",example:"PAT-0125",resetAnnually:!1,paddingZeros:4,description:"Numeraci\xf3n para pacientes"},{type:"doctors",name:"Doctors",prefix:"DOC",year:"",sequence:46,format:"DOC-NNN",example:"DOC-046",resetAnnually:!1,paddingZeros:3,description:"Numeraci\xf3n para doctores"},{type:"inventory",name:"Inventory",prefix:"INV",year:"",sequence:9,format:"INV-NNN",example:"INV-009",resetAnnually:!1,paddingZeros:3,description:"Numeraci\xf3n para inventario"}]}ngOnInit(){}updateConfig(n,r,t){const a=this.configuraciones.find(s=>s.type===n);if(a){const s="checkbox"===t.target.type?t.target.checked:t.target.value;a[r]="sequence"===r?parseInt(s)||0:s,("prefix"===r||"sequence"===r)&&this.updateExample(a)}}updateExample(n){const r=n.sequence.toString().padStart(n.paddingZeros,"0");n.example=n.year?`${n.prefix}-${n.year}-${r}`:`${n.prefix}-${r}`}resetSequence(n){const r=this.configuraciones.find(t=>t.type===n);r&&(r.sequence=1,this.updateExample(r),this.notificationService.showSuccess("Secuencia reiniciada",`El contador de ${r.name} ha sido reiniciado a 1`))}saveConfig(n){this.configuraciones.find(t=>t.type===n)&&this.notificationService.showSuccess("Configuraci\xf3n guardada","La numeraci\xf3n ha sido actualizada correctamente")}static{this.\u0275fac=function(r){return new(r||c)(e.rXU(_.J))}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["app-numeracion"]],standalone:!0,features:[e.aNF],decls:26,vars:8,consts:[["title","Numeraci\xf3n de Recetas","description","Configuraci\xf3n de secuencias y formatos de numeraci\xf3n","headerGradient","from-purple-600 via-pink-500 to-red-600",3,"icon","breadcrumbItems"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],["class","bg-white rounded-lg shadow-lg hover:shadow-xl transition-all cursor-pointer border-l-4 border-l-purple-500",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[4,"ngFor","ngForOf"],[1,"border-purple-200","bg-purple-50"],[1,"p-4"],[1,"flex","items-start","gap-3"],[1,"w-5","h-5","text-purple-600","flex-shrink-0","mt-0.5",3,"img"],[1,"font-medium","text-purple-900","mb-1"],[1,"space-y-1","text-sm","text-purple-700"],[1,"flex","items-start","gap-2"],[1,"w-4","h-4","mt-0.5","flex-shrink-0",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-purple-500"],[1,"p-6"],[1,"flex","items-center","justify-between"],[1,"space-y-1","flex-1"],[1,"text-sm","text-gray-600","capitalize"],[1,"text-3xl","font-bold","text-gray-900"],[1,"flex","items-center","gap-1","text-xs"],[1,"text-gray-500"],[1,"p-3","bg-purple-100","rounded-xl"],[1,"w-8","h-8","text-purple-600",3,"img"],[1,"capitalize"],[1,"space-y-4"],[1,"grid","grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","font-mono","focus:outline-none","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"input","value"],["type","number",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","font-mono","focus:outline-none","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"input","value"],["type","text","disabled","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","font-mono","bg-gray-50",3,"value"],[1,"text-xs","text-gray-600","mt-1"],[1,"p-3","bg-purple-50","border","border-purple-200","rounded-lg"],[1,"font-mono","font-semibold","text-purple-900"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-lg"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-xs","text-gray-600"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"change","checked"],[1,"w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-purple-300","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","peer-checked:bg-purple-600"],[1,"flex","gap-2"],[1,"flex-1","px-4","py-2","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-50","transition-colors","flex","items-center","justify-center","gap-2",3,"click"],[1,"w-4","h-4",3,"img"],[1,"px-4","py-2","bg-purple-600","text-white","rounded-md","hover:bg-purple-700","transition-colors","flex","items-center","gap-2",3,"click"]],template:function(r,t){1&r&&(e.j41(0,"app-page-layout",0)(1,"div",1)(2,"div",2),e.DNE(3,h,13,4,"div",3),e.k0s(),e.j41(4,"div",4),e.DNE(5,x,42,9,"app-card",5),e.k0s(),e.j41(6,"app-card",6)(7,"app-card-content",7)(8,"div",8),e.nrm(9,"lucide-icon",9),e.j41(10,"div")(11,"h4",10),e.EFF(12,"Configuraci\xf3n de Numeraci\xf3n"),e.k0s(),e.j41(13,"ul",11)(14,"li",12),e.nrm(15,"lucide-icon",13),e.j41(16,"span"),e.EFF(17,"La numeraci\xf3n es secuencial y no permite duplicados"),e.k0s()(),e.j41(18,"li",12),e.nrm(19,"lucide-icon",13),e.j41(20,"span"),e.EFF(21,"Reiniciar la secuencia afectar\xe1 la numeraci\xf3n de nuevos registros"),e.k0s()(),e.j41(22,"li",12),e.nrm(23,"lucide-icon",13),e.j41(24,"span"),e.EFF(25,"Los registros existentes conservan su numeraci\xf3n original"),e.k0s()()()()()()()()()),2&r&&(e.Y8G("icon",t.hashIcon)("breadcrumbItems",t.breadcrumbItems),e.R7$(3),e.Y8G("ngForOf",t.configuraciones),e.R7$(2),e.Y8G("ngForOf",t.configuraciones),e.R7$(4),e.Y8G("img",t.infoIcon),e.R7$(6),e.Y8G("img",t.checkCircle2Icon),e.R7$(4),e.Y8G("img",t.checkCircle2Icon),e.R7$(4),e.Y8G("img",t.checkCircle2Icon))},dependencies:[d.MD,d.Sq,m.iI,f.YN,i.flO,i.WGl,g.J,p.ib,p.lM,p.y1,p.l3],encapsulation:2})}}return c})()}}]);