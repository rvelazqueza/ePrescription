"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[3746],{8777:(F,f,d)=>{d.d(f,{m:()=>C});var e=d(177),_=d(6283),g=d(8516),i=d(4438);function u(c,p){if(1&c&&i.nrm(0,"lucide-icon",4),2&c){const l=i.XpG(2).$implicit;i.Y8G("img",l.icon)}}function h(c,p){if(1&c&&(i.j41(0,"a",9),i.DNE(1,u,1,1,"lucide-icon",10),i.EFF(2),i.k0s()),2&c){const l=i.XpG().$implicit;i.Y8G("routerLink",l.route),i.R7$(),i.Y8G("ngIf",l.icon),i.R7$(),i.SpI(" ",l.label," ")}}function x(c,p){if(1&c&&i.nrm(0,"lucide-icon",4),2&c){const l=i.XpG(2).$implicit;i.Y8G("img",l.icon)}}function v(c,p){if(1&c&&(i.j41(0,"span",11),i.DNE(1,x,1,1,"lucide-icon",10),i.EFF(2),i.k0s()),2&c){const l=i.XpG(),m=l.$implicit;i.BMQ("aria-current",l.last?"page":null),i.R7$(),i.Y8G("ngIf",m.icon),i.R7$(),i.SpI(" ",m.label," ")}}function M(c,p){if(1&c&&(i.j41(0,"li",2),i.nrm(1,"lucide-icon",6),i.DNE(2,h,3,3,"a",7)(3,v,3,3,"span",8),i.k0s()),2&c){const l=p.$implicit,m=p.last,b=i.XpG();i.R7$(),i.Y8G("img",b.chevronRightIcon),i.R7$(),i.Y8G("ngIf",l.route&&!m),i.R7$(),i.Y8G("ngIf",!l.route||m)}}let C=(()=>{class c{constructor(){this.items=[],this.homeIcon=g.ww0,this.chevronRightIcon=g.c_$}static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-breadcrumbs"]],inputs:{items:"items"},standalone:!0,features:[i.aNF],decls:7,vars:2,consts:[["aria-label","Breadcrumb",1,"fixed","left-64","right-0","z-30","bg-gray-50","border-b","border-gray-200","px-6","py-3",2,"top","93px"],[1,"inline-flex","items-center","space-x-1","md:space-x-3"],[1,"inline-flex","items-center"],["routerLink","/dashboard",1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors"],["aria-hidden","true",1,"w-4","h-4","mr-2",3,"img"],["class","inline-flex items-center",4,"ngFor","ngForOf"],["aria-hidden","true",1,"w-4","h-4","text-gray-400","mx-1",3,"img"],["class","inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors",3,"routerLink",4,"ngIf"],["class","inline-flex items-center text-sm font-medium text-gray-500",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors",3,"routerLink"],["class","w-4 h-4 mr-2","aria-hidden","true",3,"img",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-500"]],template:function(m,b){1&m&&(i.j41(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),i.nrm(4,"lucide-icon",4),i.EFF(5," Inicio "),i.k0s()(),i.DNE(6,M,4,3,"li",5),i.k0s()()),2&m&&(i.R7$(4),i.Y8G("img",b.homeIcon),i.R7$(2),i.Y8G("ngForOf",b.items))},dependencies:[e.MD,e.Sq,e.bT,_.iI,_.Wk,g.flO,g.WGl],encapsulation:2})}}return c})()},3746:(F,f,d)=>{d.r(f),d.d(f,{RegistrarDispensacionComponent:()=>G});var e=d(4438),_=d(177),g=d(4341),i=d(8359),u=d(8516),h=d(8777),x=d(2193),v=d(1822),M=d(2957);const C=(o,s)=>({"bg-blue-600 text-white":o,"bg-green-600 text-white":s}),c=(o,s)=>({"text-blue-600":o,"text-green-600":s}),p=(o,s)=>({"bg-blue-600 text-white":o,"bg-gray-300 text-gray-600":s}),l=(o,s)=>({"text-blue-600":o,"text-gray-600":s}),m=(o,s)=>({"opacity-50":o,"hover:shadow-md":s});function b(o,s){if(1&o&&e.nrm(0,"lucide-angular",24),2&o){const t=e.XpG();e.Y8G("img",t.checkCircle2Icon)}}function k(o,s){1&o&&(e.j41(0,"span"),e.EFF(1,"1"),e.k0s())}function P(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",60)(1,"button",61),e.bIt("click",function(n){e.eBV(t);const a=e.XpG().$implicit;return e.XpG(2).handleSelectPrescription(a),e.Njj(n.stopPropagation())}),e.EFF(2," Seleccionar "),e.qSk(),e.j41(3,"svg",62),e.nrm(4,"path",63),e.k0s()()()}}function w(o,s){1&o&&(e.j41(0,"div",64)(1,"span",65),e.EFF(2,"No disponible"),e.k0s()())}function O(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",47),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.canSelectPrescription(n)&&a.handleSelectPrescription(n))}),e.j41(1,"div",6)(2,"div",48)(3,"div",49),e.nrm(4,"lucide-angular",50),e.j41(5,"span",51),e.EFF(6),e.k0s(),e.j41(7,"span",52),e.EFF(8),e.k0s()(),e.j41(9,"div",53)(10,"div")(11,"p",54),e.EFF(12),e.k0s(),e.j41(13,"p",55),e.EFF(14),e.k0s()(),e.j41(15,"div")(16,"p",55),e.EFF(17),e.k0s(),e.j41(18,"p",55),e.EFF(19),e.k0s()()(),e.j41(20,"div",56)(21,"span"),e.EFF(22),e.k0s(),e.j41(23,"span"),e.EFF(24),e.k0s(),e.j41(25,"span"),e.EFF(26),e.k0s(),e.j41(27,"span"),e.EFF(28),e.k0s()()(),e.j41(29,"div",57),e.DNE(30,P,5,0,"div",58)(31,w,3,0,"div",59),e.k0s()()()}if(2&o){const t=s.$implicit,r=e.XpG(2);e.Y8G("ngClass",e.l_i(18,m,!r.canSelectPrescription(t),r.canSelectPrescription(t))),e.R7$(4),e.Y8G("img",r.fileCheckIcon),e.R7$(2),e.JRh(t.prescriptionNumber),e.R7$(),e.Y8G("ngClass",r.getStatusBadge(t.verificationStatus).className),e.R7$(),e.SpI(" ",r.getStatusBadge(t.verificationStatus).label," "),e.R7$(4),e.JRh(t.patientName),e.R7$(2),e.E5c("",t.patientId," \u2022 ",t.age," a\xf1os \u2022 ","M"===t.gender?"Masculino":"Femenino",""),e.R7$(3),e.SpI("",t.medicinesCount," medicamento(s) prescrito(s)"),e.R7$(2),e.SpI("M\xe9dico: ",t.doctorName,""),e.R7$(3),e.Lme("Emitida: ",t.emittedDate," ",t.emittedTime,""),e.R7$(2),e.SpI("V\xe1lida hasta: ",t.validUntil,""),e.R7$(2),e.SpI("QR: ",t.qrCode,""),e.R7$(2),e.SpI("Token: ",t.token,""),e.R7$(2),e.Y8G("ngIf",r.canSelectPrescription(t)),e.R7$(),e.Y8G("ngIf",!r.canSelectPrescription(t))}}function j(o,s){if(1&o&&(e.j41(0,"div",66)(1,"div",67),e.nrm(2,"lucide-angular",68),e.k0s(),e.j41(3,"h3",69),e.EFF(4,"No se encontraron recetas"),e.k0s(),e.j41(5,"p",55),e.EFF(6,"Intente con otros t\xe9rminos de b\xfasqueda o verifique los filtros aplicados."),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.Y8G("img",t.searchIcon)}}function R(o,s){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",25)(2,"div",26)(3,"div",27)(4,"div",28),e.nrm(5,"lucide-angular",29),e.k0s(),e.j41(6,"div")(7,"h3",30),e.EFF(8,"Paso 1: Seleccionar Receta a Dispensar"),e.k0s(),e.j41(9,"p",31),e.EFF(10," Busque y seleccione la receta m\xe9dica que desea dispensar. Solo se muestran recetas emitidas y verificadas. "),e.k0s()()()()(),e.j41(11,"div",32)(12,"div",33)(13,"div",34)(14,"h3",35),e.EFF(15,"Buscar Receta"),e.k0s(),e.j41(16,"div",16)(17,"span",36),e.EFF(18),e.k0s(),e.j41(19,"span",37),e.EFF(20),e.k0s()()(),e.j41(21,"div",38)(22,"div",39),e.nrm(23,"lucide-angular",40),e.j41(24,"input",41),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.searchText,n)||(a.searchText=n),e.Njj(n)}),e.k0s()(),e.j41(25,"button",42),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFilters())}),e.nrm(26,"lucide-angular",43),e.EFF(27," Filtros "),e.k0s()()(),e.j41(28,"div",26)(29,"div",44),e.DNE(30,O,32,21,"div",45)(31,j,7,1,"div",46),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(5),e.Y8G("img",t.fileCheckIcon),e.R7$(13),e.SpI("",t.filteredPrescriptions.length," recetas encontradas"),e.R7$(2),e.SpI("",t.availablePrescriptionsCount," disponible(s) para dispensar"),e.R7$(3),e.Y8G("img",t.searchIcon),e.R7$(),e.R50("ngModel",t.searchText),e.R7$(2),e.Y8G("img",t.filterIcon),e.R7$(4),e.Y8G("ngForOf",t.filteredPrescriptions),e.R7$(),e.Y8G("ngIf",0===t.filteredPrescriptions.length)}}function y(o,s){if(1&o){const t=e.RV6();e.j41(0,"tr",124),e.bIt("dblclick",function(){const n=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.openEditMedicineModal(n))}),e.j41(1,"td",125)(2,"div",81)(3,"div",126),e.qSk(),e.j41(4,"svg",127),e.nrm(5,"path",103),e.k0s()(),e.joV(),e.j41(6,"span",54),e.EFF(7),e.k0s()()(),e.j41(8,"td",128),e.EFF(9),e.k0s(),e.j41(10,"td",128),e.EFF(11),e.k0s(),e.j41(12,"td",128),e.EFF(13),e.k0s(),e.j41(14,"td",125)(15,"span",129),e.EFF(16),e.k0s()(),e.j41(17,"td",128),e.EFF(18),e.k0s()()}if(2&o){const t=s.$implicit;e.R7$(7),e.JRh(t.name),e.R7$(2),e.JRh(t.quantity),e.R7$(2),e.JRh(t.dose),e.R7$(2),e.JRh(t.frequency),e.R7$(3),e.SpI(" ",t.administration," "),e.R7$(2),e.JRh(t.duration)}}function E(o,s){if(1&o&&(e.j41(0,"div",134)(1,"div",135),e.qSk(),e.j41(2,"svg",136),e.nrm(3,"path",84),e.k0s()(),e.joV(),e.j41(4,"div",137)(5,"p",51),e.EFF(6),e.k0s(),e.j41(7,"p",36),e.EFF(8),e.k0s(),e.j41(9,"p",138),e.EFF(10),e.k0s(),e.j41(11,"span",139),e.EFF(12),e.k0s()()()),2&o){const t=s.$implicit;e.R7$(6),e.JRh(t.name),e.R7$(2),e.Lme("",t.dose," \u2022 ",t.frequency,""),e.R7$(2),e.SpI("Duraci\xf3n: ",t.duration,""),e.R7$(2),e.SpI(" ",t.administration," ")}}function D(o,s){if(1&o&&(e.j41(0,"div",130)(1,"div",131)(2,"div",81)(3,"div",82),e.qSk(),e.j41(4,"svg",83),e.nrm(5,"path",84),e.k0s()(),e.joV(),e.j41(6,"div")(7,"h3",35),e.EFF(8,"Resumen de Dispensaci\xf3n"),e.k0s(),e.j41(9,"p",36),e.EFF(10,"Vista r\xe1pida de los medicamentos a entregar"),e.k0s()()()(),e.j41(11,"div",26)(12,"div",132),e.DNE(13,E,13,5,"div",133),e.k0s()()()),2&o){const t=e.XpG(2);e.R7$(13),e.Y8G("ngForOf",t.medicines)}}function I(o,s){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",70)(2,"div",26)(3,"div",71)(4,"div",72)(5,"div",73),e.nrm(6,"lucide-angular",74),e.k0s(),e.j41(7,"div")(8,"div",75)(9,"h3",76),e.EFF(10,"Receta Seleccionada"),e.k0s(),e.j41(11,"span",77),e.EFF(12," Verificada "),e.k0s()(),e.j41(13,"div",78)(14,"p")(15,"strong"),e.EFF(16),e.k0s(),e.EFF(17),e.k0s(),e.j41(18,"p",79),e.EFF(19),e.k0s()()()(),e.j41(20,"button",80),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.handleBackToSelection())}),e.nrm(21,"lucide-angular",43),e.EFF(22," Cambiar Receta "),e.k0s()()()(),e.j41(23,"div",32)(24,"div",33)(25,"div",34)(26,"div",81)(27,"div",82),e.qSk(),e.j41(28,"svg",83),e.nrm(29,"path",84),e.k0s()(),e.joV(),e.j41(30,"div")(31,"h2",85),e.EFF(32,"Prescripci\xf3n M\xe9dica Electr\xf3nica"),e.k0s(),e.j41(33,"p",36),e.EFF(34),e.k0s()()(),e.j41(35,"div",86)(36,"span",87),e.EFF(37," Borrador "),e.k0s(),e.j41(38,"span",88),e.EFF(39),e.k0s()()(),e.j41(40,"div",89)(41,"div",90)(42,"div",91)(43,"span",92),e.EFF(44),e.k0s()(),e.j41(45,"div",48)(46,"h3",93),e.EFF(47),e.k0s(),e.j41(48,"div",94)(49,"div")(50,"span",95),e.EFF(51,"G\xe9nero:"),e.k0s(),e.j41(52,"span",96),e.EFF(53),e.k0s()(),e.j41(54,"div")(55,"span",95),e.EFF(56,"Edad:"),e.k0s(),e.j41(57,"span",96),e.EFF(58),e.k0s()(),e.j41(59,"div")(60,"span",95),e.EFF(61,"ID:"),e.k0s(),e.j41(62,"span",96),e.EFF(63),e.k0s()()()()(),e.j41(64,"div",97)(65,"div",53)(66,"div")(67,"span",95),e.EFF(68,"Informaci\xf3n del M\xe9dico"),e.k0s(),e.j41(69,"p",98),e.EFF(70),e.k0s(),e.j41(71,"p",99),e.EFF(72),e.k0s()(),e.j41(73,"div")(74,"span",95),e.EFF(75,"Informaci\xf3n de Contacto"),e.k0s(),e.j41(76,"p",98),e.EFF(77,"+57 (1) 234-5678"),e.k0s(),e.j41(78,"p",99),e.EFF(79,"contacto@hospital.com"),e.k0s()()()()()()(),e.j41(80,"div",100)(81,"div",101)(82,"div",81)(83,"div",28),e.qSk(),e.j41(84,"svg",102),e.nrm(85,"path",103),e.k0s()(),e.joV(),e.j41(86,"div")(87,"h3",85),e.EFF(88,"Medicamentos a Dispensar"),e.k0s(),e.j41(89,"p",36),e.EFF(90),e.k0s()()(),e.j41(91,"div",86)(92,"span",104),e.qSk(),e.j41(93,"svg",105),e.nrm(94,"path",106),e.k0s(),e.EFF(95," En proceso "),e.k0s(),e.joV(),e.j41(96,"button",107),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openAddMedicineModal())}),e.qSk(),e.j41(97,"svg",62),e.nrm(98,"path",108),e.k0s(),e.EFF(99," Agregar Medicamento "),e.k0s()()(),e.joV(),e.j41(100,"div",26)(101,"div",109)(102,"table",110)(103,"thead")(104,"tr",111)(105,"th",112),e.EFF(106,"Medicamento"),e.k0s(),e.j41(107,"th",112),e.EFF(108,"Cantidad"),e.k0s(),e.j41(109,"th",112),e.EFF(110,"Dosis"),e.k0s(),e.j41(111,"th",112),e.EFF(112,"Frecuencia"),e.k0s(),e.j41(113,"th",112),e.EFF(114,"V\xeda de Administraci\xf3n"),e.k0s(),e.j41(115,"th",112),e.EFF(116,"Duraci\xf3n"),e.k0s()()(),e.j41(117,"tbody"),e.DNE(118,y,19,6,"tr",113),e.k0s()()()()(),e.DNE(119,D,14,1,"div",114),e.j41(120,"div",32)(121,"div",26)(122,"div",115)(123,"div",90)(124,"div",86),e.qSk(),e.j41(125,"svg",116),e.nrm(126,"path",117),e.k0s(),e.joV(),e.j41(127,"span",36),e.EFF(128,"Verifique el stock antes de completar la dispensaci\xf3n"),e.k0s()()(),e.j41(129,"div",57)(130,"button",118),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelDispensation())}),e.qSk(),e.j41(131,"svg",119),e.nrm(132,"path",120),e.k0s(),e.EFF(133," Cancelar "),e.k0s(),e.joV(),e.j41(134,"button",121),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveDraft())}),e.qSk(),e.j41(135,"svg",119),e.nrm(136,"path",122),e.k0s(),e.EFF(137," Guardar Borrador "),e.k0s(),e.joV(),e.j41(138,"button",123),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.completeDispensation())}),e.qSk(),e.j41(139,"svg",119),e.nrm(140,"path",63),e.k0s(),e.EFF(141," Completar Dispensaci\xf3n "),e.k0s()()()()()()}if(2&o){const t=e.XpG();e.R7$(6),e.Y8G("img",t.fileCheckIcon),e.R7$(10),e.JRh(t.selectedPrescription.prescriptionNumber),e.R7$(),e.SpI(" \u2022 ",t.selectedPrescription.patientName,""),e.R7$(2),e.Lme("",t.selectedPrescription.medicinesCount," medicamento(s) prescrito(s) por ",t.selectedPrescription.doctorName,""),e.R7$(2),e.Y8G("img",t.xIcon),e.R7$(13),e.JRh(t.prescriptionData.prescriptionNumber),e.R7$(5),e.Lme("",t.prescriptionData.issueDate," ",t.prescriptionData.issueTime,""),e.R7$(5),e.JRh(t.getPatientInitials()),e.R7$(3),e.JRh(t.prescriptionData.patientName),e.R7$(6),e.JRh(t.prescriptionData.patientGender),e.R7$(5),e.SpI("",t.prescriptionData.patientAge," a\xf1os"),e.R7$(5),e.JRh(t.prescriptionData.patientId),e.R7$(7),e.JRh(t.prescriptionData.doctorName),e.R7$(2),e.JRh(t.prescriptionData.doctorCode),e.R7$(18),e.Lme(" Doble clic en cualquier fila para ver detalles y editar \u2022 ",t.medicines.length," medicamento",1!==t.medicines.length?"s":""," "),e.R7$(28),e.Y8G("ngForOf",t.medicines)("ngForTrackBy",t.trackByMedicineId),e.R7$(),e.Y8G("ngIf",t.medicines.length>0),e.R7$(19),e.Y8G("disabled",0===t.medicines.length)}}function S(o,s){if(1&o){const t=e.RV6();e.j41(0,"button",175),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.deleteMedicine())}),e.qSk(),e.j41(1,"svg",62),e.nrm(2,"path",176),e.k0s(),e.EFF(3," Eliminar "),e.k0s()}}function N(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",140),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeMedicineModal())}),e.nrm(1,"div",141),e.j41(2,"div",142),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(3,"div",143)(4,"div",6)(5,"div")(6,"div",16),e.qSk(),e.j41(7,"svg",144),e.nrm(8,"path",103),e.k0s(),e.joV(),e.j41(9,"h2",145),e.EFF(10),e.k0s()(),e.j41(11,"p",146),e.EFF(12),e.k0s()(),e.j41(13,"button",147),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeMedicineModal())}),e.qSk(),e.j41(14,"svg",144),e.nrm(15,"path",120),e.k0s()()()(),e.joV(),e.j41(16,"div",148)(17,"form",149,0),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveMedicine())}),e.j41(19,"div")(20,"label",150),e.EFF(21,"Medicamento"),e.k0s(),e.j41(22,"input",151),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.currentMedicine.name,n)||(a.currentMedicine.name=n),e.Njj(n)}),e.k0s()(),e.j41(23,"div")(24,"label",150),e.EFF(25,"Cantidad"),e.k0s(),e.j41(26,"input",152),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.currentMedicine.quantity,n)||(a.currentMedicine.quantity=n),e.Njj(n)}),e.k0s()(),e.j41(27,"div")(28,"label",150),e.EFF(29,"Dosis"),e.k0s(),e.j41(30,"input",153),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.currentMedicine.dose,n)||(a.currentMedicine.dose=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div")(32,"label",150),e.EFF(33,"Frecuencia"),e.k0s(),e.j41(34,"select",154),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.currentMedicine.frequency,n)||(a.currentMedicine.frequency=n),e.Njj(n)}),e.j41(35,"option",155),e.EFF(36,"Seleccione la frecuencia"),e.k0s(),e.j41(37,"option",156),e.EFF(38,"1 vez al d\xeda"),e.k0s(),e.j41(39,"option",157),e.EFF(40,"2 veces al d\xeda"),e.k0s(),e.j41(41,"option",158),e.EFF(42,"3 veces al d\xeda"),e.k0s(),e.j41(43,"option",159),e.EFF(44,"4 veces al d\xeda"),e.k0s(),e.j41(45,"option",160),e.EFF(46,"Cada 8 horas"),e.k0s(),e.j41(47,"option",161),e.EFF(48,"Cada 12 horas"),e.k0s()()(),e.j41(49,"div")(50,"label",150),e.EFF(51,"V\xeda de Administraci\xf3n"),e.k0s(),e.j41(52,"select",162),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.currentMedicine.administration,n)||(a.currentMedicine.administration=n),e.Njj(n)}),e.j41(53,"option",155),e.EFF(54,"Seleccione la v\xeda"),e.k0s(),e.j41(55,"option",163),e.EFF(56,"Oral"),e.k0s(),e.j41(57,"option",164),e.EFF(58,"T\xf3pica"),e.k0s(),e.j41(59,"option",165),e.EFF(60,"Intravenosa"),e.k0s(),e.j41(61,"option",166),e.EFF(62,"Intramuscular"),e.k0s(),e.j41(63,"option",167),e.EFF(64,"Subcut\xe1nea"),e.k0s()()(),e.j41(65,"div")(66,"label",150),e.EFF(67,"Duraci\xf3n"),e.k0s(),e.j41(68,"input",168),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.currentMedicine.duration,n)||(a.currentMedicine.duration=n),e.Njj(n)}),e.k0s()(),e.j41(69,"div")(70,"label",150),e.EFF(71,"Observaciones"),e.k0s(),e.j41(72,"textarea",169),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.currentMedicine.observations,n)||(a.currentMedicine.observations=n),e.Njj(n)}),e.k0s()(),e.j41(73,"div",170),e.DNE(74,S,4,0,"button",171),e.j41(75,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeMedicineModal())}),e.EFF(76," Cancelar "),e.k0s(),e.j41(77,"button",173),e.qSk(),e.j41(78,"svg",62),e.nrm(79,"path",174),e.k0s(),e.EFF(80),e.k0s()()()()()()}if(2&o){const t=e.sdS(18),r=e.XpG();e.R7$(10),e.JRh(r.isEditMode?"Editar Medicamento":"Agregar Medicamento"),e.R7$(2),e.SpI(" ",r.isEditMode?"Modifica la informaci\xf3n del medicamento":"Complete la informaci\xf3n del medicamento a dispensar"," "),e.R7$(10),e.R50("ngModel",r.currentMedicine.name),e.R7$(4),e.R50("ngModel",r.currentMedicine.quantity),e.R7$(4),e.R50("ngModel",r.currentMedicine.dose),e.R7$(4),e.R50("ngModel",r.currentMedicine.frequency),e.R7$(18),e.R50("ngModel",r.currentMedicine.administration),e.R7$(16),e.R50("ngModel",r.currentMedicine.duration),e.R7$(4),e.R50("ngModel",r.currentMedicine.observations),e.R7$(2),e.Y8G("ngIf",r.isEditMode),e.R7$(3),e.Y8G("disabled",!t.form.valid),e.R7$(3),e.SpI(" ",r.isEditMode?"Editar":"Agregar"," ")}}let G=(()=>{class o{constructor(t,r){this.roleDemoService=t,this.roleSuggestionService=r,this.pillIcon=u.abF,this.plusIcon=u.FWt,this.searchIcon=u.vji,this.filterIcon=u.dJT,this.checkCircle2Icon=u.Jly,this.fileCheckIcon=u.Ttw,this.xIcon=u.X,this.clockIcon=u.zD7,this.breadcrumbItems=[{label:"Dispensaci\xf3n",route:"/dispensacion"},{label:"Registrar Dispensaci\xf3n"}],this.currentStep="select",this.selectedPrescription=null,this.showRoleSuggestionModal=(0,e.vPA)(!1),this.subscriptions=new i.yU,this.PAGE_NAME="registrar-dispensacion",this.searchText="",this.showFilters=!1,this.mockPrescriptionsForSelection=[{prescriptionNumber:"RX-2025-009847",qrCode:"QR-9847-A3F2",token:"VRF-2025-9847-X8K4",patientName:"Mar\xeda Elena Gonz\xe1lez Rodr\xedguez",patientId:"CC-52.841.963",emittedDate:"27/09/2025",emittedTime:"10:32 a.m.",validUntil:"11/10/2025",medicinesCount:3,dispensationStatus:"emitted",age:45,gender:"F",doctorName:"Dr. Carlos Alberto Mendoza Herrera",verificationStatus:"valid"},{prescriptionNumber:"RX-2025-009846",qrCode:"QR-9846-B7H9",token:"VRF-2025-9846-M2P5",patientName:"Juan Carlos Mart\xednez L\xf3pez",patientId:"CC-41.523.789",emittedDate:"20/09/2025",emittedTime:"02:15 p.m.",validUntil:"04/10/2025",medicinesCount:2,dispensationStatus:"emitted",age:52,gender:"M",doctorName:"Dr. Carlos Alberto Mendoza Herrera",verificationStatus:"valid"},{prescriptionNumber:"RX-2025-009845",qrCode:"QR-9845-C4J1",token:"VRF-2025-9845-N7R3",patientName:"Ana Patricia Ruiz S\xe1nchez",patientId:"CC-39.654.321",emittedDate:"25/09/2025",emittedTime:"11:20 a.m.",validUntil:"09/10/2025",medicinesCount:4,dispensationStatus:"fully_dispensed",age:33,gender:"F",doctorName:"Dr. Carlos Alberto Mendoza Herrera",verificationStatus:"already_dispensed"},{prescriptionNumber:"RX-2025-009844",qrCode:"QR-9844-D8K6",token:"VRF-2025-9844-Q1W9",patientName:"Roberto Antonio Silva G\xf3mez",patientId:"CC-45.789.123",emittedDate:"28/09/2025",emittedTime:"09:00 a.m.",validUntil:"12/10/2025",medicinesCount:1,dispensationStatus:"cancelled",age:28,gender:"M",doctorName:"Dr. Carlos Alberto Mendoza Herrera",verificationStatus:"cancelled"}],this.prescriptionData={prescriptionNumber:"RX-2025-009847",patientId:"CC-52.841.963",patientName:"Mar\xeda Elena Gonz\xe1lez Rodr\xedguez",patientFirstLastName:"Gonz\xe1lez",patientSecondLastName:"Rodr\xedguez",patientGender:"Femenino",patientAge:45,doctorName:"Dr. Carlos Alberto Mendoza Herrera",doctorCode:"RM-12345-COL",issueDate:"27/09/2025",issueTime:"10:32 a.m.",status:"draft"},this.medicines=[{id:"1",name:"Ibuprofeno",quantity:"15 tabletas",dose:"400 mg",frequency:"3 veces al d\xeda",administration:"Oral",duration:"5 d\xedas",observations:""},{id:"2",name:"Amoxicilina",quantity:"14 c\xe1psulas",dose:"500 mg",frequency:"2 veces al d\xeda",administration:"Oral",duration:"7 d\xedas",observations:""},{id:"3",name:"Omeprazol",quantity:"14 tabletas",dose:"20 mg",frequency:"1 vez al d\xeda",administration:"Oral",duration:"14 d\xedas",observations:""}],this.showMedicineModal=!1,this.isEditMode=!1,this.currentMedicine=this.getEmptyMedicine()}ngOnInit(){this.checkRoleSuggestion();const t=this.roleDemoService.currentSession$.subscribe(r=>{"Farmac\xe9utico"===r.activeRole&&(this.showRoleSuggestionModal.set(!1),this.roleSuggestionService.clearDismissedPages())});this.subscriptions.add(t)}ngOnDestroy(){this.subscriptions.unsubscribe()}checkRoleSuggestion(){const t=this.roleDemoService.getCurrentSession();this.showRoleSuggestionModal.set("Farmac\xe9utico"!==t.activeRole&&"Enfermera"!==t.activeRole&&"Administrador"!==t.activeRole)}onRoleSuggestionDismiss(){this.showRoleSuggestionModal.set(!1)}onRoleChanged(){this.showRoleSuggestionModal.set(!1)}getPatientInitials(){const t=this.prescriptionData.patientName.split(" ");return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():t[0][0].toUpperCase()}trackByMedicineId(t,r){return r.id}openAddMedicineModal(){this.isEditMode=!1,this.currentMedicine=this.getEmptyMedicine(),this.showMedicineModal=!0}openEditMedicineModal(t){this.isEditMode=!0,this.currentMedicine={...t},this.showMedicineModal=!0}closeMedicineModal(){this.showMedicineModal=!1,this.currentMedicine=this.getEmptyMedicine()}saveMedicine(){if(this.isEditMode){const t=this.medicines.findIndex(r=>r.id===this.currentMedicine.id);-1!==t&&(this.medicines[t]={...this.currentMedicine})}else{const t={...this.currentMedicine,id:Date.now().toString()};this.medicines.push(t)}this.closeMedicineModal(),this.showSuccessMessage(this.isEditMode?"Medicamento actualizado":"Medicamento agregado")}deleteMedicine(){if(this.isEditMode&&this.currentMedicine.id){const t=this.medicines.findIndex(r=>r.id===this.currentMedicine.id);-1!==t&&(this.medicines.splice(t,1),this.closeMedicineModal(),this.showSuccessMessage("Medicamento eliminado"))}}cancelDispensation(){confirm("\xbfEst\xe1 seguro de que desea cancelar la dispensaci\xf3n? Se perder\xe1n todos los cambios no guardados.")&&this.showInfoMessage("Dispensaci\xf3n cancelada")}saveDraft(){this.showSuccessMessage("Borrador guardado correctamente")}completeDispensation(){0!==this.medicines.length?confirm("\xbfEst\xe1 seguro de que desea completar la dispensaci\xf3n? Esta acci\xf3n no se puede deshacer.")&&(this.prescriptionData.status="completed",this.showSuccessMessage("Dispensaci\xf3n completada exitosamente")):this.showErrorMessage("Debe agregar al menos un medicamento para completar la dispensaci\xf3n")}getEmptyMedicine(){return{id:"",name:"",quantity:"",dose:"",frequency:"",administration:"",duration:"",observations:""}}showSuccessMessage(t){console.log("Success:",t)}showErrorMessage(t){console.log("Error:",t)}showInfoMessage(t){console.log("Info:",t)}handleSelectPrescription(t){this.selectedPrescription=t,this.currentStep="dispense",this.prescriptionData={prescriptionNumber:t.prescriptionNumber,patientId:t.patientId,patientName:t.patientName,patientFirstLastName:t.patientName.split(" ")[1]||"",patientSecondLastName:t.patientName.split(" ")[2]||"",patientGender:"M"===t.gender?"Masculino":"Femenino",patientAge:t.age,doctorName:t.doctorName,doctorCode:"RM-12345-COL",issueDate:t.emittedDate,issueTime:t.emittedTime,status:"draft"},this.showSuccessMessage(`Receta seleccionada: ${t.prescriptionNumber} - ${t.patientName}`)}handleBackToSelection(){this.currentStep="select",this.selectedPrescription=null,this.medicines=[{id:"1",name:"Ibuprofeno",quantity:"15 tabletas",dose:"400 mg",frequency:"3 veces al d\xeda",administration:"Oral",duration:"5 d\xedas",observations:""},{id:"2",name:"Amoxicilina",quantity:"14 c\xe1psulas",dose:"500 mg",frequency:"2 veces al d\xeda",administration:"Oral",duration:"7 d\xedas",observations:""},{id:"3",name:"Omeprazol",quantity:"14 tabletas",dose:"20 mg",frequency:"1 vez al d\xeda",administration:"Oral",duration:"14 d\xedas",observations:""}]}get filteredPrescriptions(){return this.mockPrescriptionsForSelection.filter(t=>{const r=this.searchText.toLowerCase();return t.prescriptionNumber.toLowerCase().includes(r)||t.patientName.toLowerCase().includes(r)||t.patientId.toLowerCase().includes(r)})}get availablePrescriptionsCount(){return this.filteredPrescriptions.filter(t=>"valid"===t.verificationStatus).length}toggleFilters(){this.showFilters=!this.showFilters}getStatusBadge(t){const r={valid:{label:"V\xe1lida",className:"bg-green-100 text-green-700 border-green-300"},expired:{label:"Vencida",className:"bg-red-100 text-red-700 border-red-300"},cancelled:{label:"Anulada",className:"bg-red-100 text-red-700 border-red-300"},already_dispensed:{label:"Ya dispensada",className:"bg-orange-100 text-orange-700 border-orange-300"},invalid:{label:"No v\xe1lida",className:"bg-red-100 text-red-700 border-red-300"}};return r[t]||r.invalid}canSelectPrescription(t){return"valid"===t.verificationStatus}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(v.z),e.rXU(M.i))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-registrar"]],standalone:!0,features:[e.aNF],decls:35,vars:23,consts:[["medicineForm","ngForm"],[3,"items"],[1,"space-y-6"],[1,"relative","overflow-hidden","bg-gradient-to-r","from-green-600","via-emerald-500","to-teal-600","rounded-lg","shadow-lg"],[1,"absolute","inset-0","bg-grid-white/[0.05]","bg-[size:20px_20px]"],[1,"relative","p-6","lg:p-8"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-3","mb-2"],[1,"p-3","bg-white/20","backdrop-blur-sm","rounded-lg"],["fill","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-white"],["d","M7 4V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h4zM9 3v1h6V3H9zm11 3H4v14h16V6z"],[1,"text-white","text-3xl","font-bold"],[1,"text-emerald-100","text-sm"],[1,"bg-white","border","border-blue-200","rounded-lg","shadow-sm"],[1,"p-4"],[1,"flex","items-center","justify-center","gap-8"],[1,"flex","items-center","gap-2"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center",3,"ngClass"],["class","w-5 h-5",3,"img",4,"ngIf"],[4,"ngIf"],[1,"font-medium",3,"ngClass"],[1,"w-16","h-0.5","bg-gray-300"],["class","fixed inset-0 z-50 overflow-hidden",3,"click",4,"ngIf"],[3,"dismiss","roleChanged","isOpen"],[1,"w-5","h-5",3,"img"],[1,"bg-blue-50","border","border-blue-200","rounded-lg"],[1,"p-4","lg:p-6"],[1,"flex","items-start","space-x-3"],[1,"p-2","bg-blue-100","rounded-lg"],[1,"w-5","h-5","text-blue-600",3,"img"],[1,"font-medium","text-blue-900","mb-2"],[1,"text-sm","text-blue-800"],[1,"bg-white","rounded-lg","shadow-lg","border","border-gray-200"],[1,"p-4","lg:p-6","border-b","border-gray-200"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"text-sm","font-medium","text-green-600"],[1,"flex","gap-3"],[1,"flex-1","relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-5","h-5","text-gray-400",3,"img"],["type","text","placeholder","Buscar por n\xfamero de receta, paciente, c\xe9dula, QR o token...",1,"w-full","pl-11","pr-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-2","px-4","py-3","border","border-gray-300","rounded-lg","hover:bg-gray-50","transition-colors",3,"click"],[1,"w-4","h-4",3,"img"],[1,"space-y-3"],["class","border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 transition-all cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],["class","text-center py-12",4,"ngIf"],[1,"border","border-gray-200","rounded-lg","p-4","hover:border-blue-300","hover:bg-blue-50","transition-all","cursor-pointer",3,"click","ngClass"],[1,"flex-1"],[1,"flex","items-center","gap-2","mb-2"],[1,"w-4","h-4","text-blue-600",3,"img"],[1,"font-semibold","text-gray-900"],[1,"px-2","py-1","text-xs","rounded-full","border",3,"ngClass"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-sm"],[1,"font-medium","text-gray-900"],[1,"text-gray-600"],[1,"flex","items-center","gap-4","mt-3","text-xs","text-gray-500"],[1,"flex","items-center","gap-3"],["class","text-right",4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"text-right"],[1,"bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors","flex","items-center","gap-2",3,"click"],["fill","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["d","M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"],[1,"text-gray-400"],[1,"text-sm"],[1,"text-center","py-12"],[1,"w-16","h-16","bg-gray-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"w-8","h-8","text-gray-400",3,"img"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"bg-gradient-to-r","from-green-50","to-emerald-50","border","border-green-200","rounded-lg"],[1,"flex","items-start","justify-between"],[1,"flex","items-center","gap-4"],[1,"p-3","bg-green-100","rounded-lg"],[1,"w-6","h-6","text-green-600",3,"img"],[1,"flex","items-center","gap-2","mb-1"],[1,"font-semibold","text-green-900"],[1,"px-2","py-1","bg-green-100","text-green-800","border","border-green-300","text-xs","rounded-full"],[1,"text-sm","text-green-800","space-y-1"],[1,"text-xs"],[1,"flex","items-center","gap-2","px-3","py-2","border","border-green-300","bg-white","hover:bg-green-50","text-green-700","rounded-lg","transition-colors",3,"click"],[1,"flex","items-center","space-x-3"],[1,"p-2","bg-green-100","rounded-lg"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],["d","M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"],[1,"text-xl","font-semibold","text-gray-900"],[1,"flex","items-center","space-x-2"],[1,"px-3","py-1","bg-orange-100","text-orange-700","text-sm","rounded-full","border","border-orange-300"],[1,"text-sm","text-gray-500"],[1,"bg-blue-50","rounded-lg","p-4","border","border-blue-200"],[1,"flex","items-center","space-x-4"],[1,"w-16","h-16","bg-blue-200","rounded-full","flex","items-center","justify-center"],[1,"text-blue-700","font-bold","text-lg"],[1,"text-lg","font-semibold","text-blue-900"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4","mt-2","text-sm"],[1,"text-blue-600","font-medium"],[1,"text-blue-800","ml-1"],[1,"mt-4","pt-4","border-t","border-blue-200"],[1,"text-blue-800"],[1,"text-blue-700"],[1,"bg-white","rounded-lg","shadow-lg","border","border-blue-100"],[1,"flex","flex-row","items-center","justify-between","p-4","lg:p-6","bg-gradient-to-r","from-primary/5","to-transparent","border-b","border-primary/10"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"],[1,"px-3","py-1","bg-blue-50","text-blue-700","text-sm","rounded-full","border","border-blue-200","flex","items-center"],["fill","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67V7z"],[1,"flex","items-center","gap-2","bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","transition-colors",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"overflow-x-auto"],[1,"w-full"],[1,"border-b","border-gray-200"],[1,"text-left","py-3","px-4","font-medium","text-gray-700"],["class","border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors",3,"dblclick",4,"ngFor","ngForOf","ngForTrackBy"],["class","bg-white rounded-lg shadow-lg border border-green-100",4,"ngIf"],[1,"flex","justify-between","items-center"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-500"],["d","M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"],[1,"flex","items-center","px-4","py-2","text-gray-600","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","transition-colors",3,"click"],["fill","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],[1,"flex","items-center","px-4","py-2","text-white","bg-gray-600","rounded-lg","hover:bg-gray-700","transition-colors",3,"click"],["d","M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"],[1,"flex","items-center","px-4","py-2","text-white","bg-green-600","rounded-lg","hover:bg-green-700","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],[1,"border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors",3,"dblclick"],[1,"py-4","px-4"],[1,"w-8","h-8","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],[1,"py-4","px-4","text-gray-700"],[1,"px-2","py-1","bg-green-100","text-green-700","text-sm","rounded-full"],[1,"bg-white","rounded-lg","shadow-lg","border","border-green-100"],[1,"p-4","lg:p-6","bg-gradient-to-r","from-green-50","to-transparent","border-b","border-green-100"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","flex items-start gap-3 p-4 bg-gradient-to-br from-blue-50 to-white rounded-xl border border-blue-100 hover:shadow-md transition-all duration-200",4,"ngFor","ngForOf"],[1,"flex","items-start","gap-3","p-4","bg-gradient-to-br","from-blue-50","to-white","rounded-xl","border","border-blue-100","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-blue-100","rounded-xl","flex","items-center","justify-center","flex-shrink-0"],["fill","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],[1,"min-w-0","flex-1"],[1,"text-xs","text-gray-500","mt-1"],[1,"inline-block","mt-2","px-2","py-1","bg-green-50","text-green-700","text-xs","rounded-full","border","border-green-200"],[1,"fixed","inset-0","z-50","overflow-hidden",3,"click"],[1,"absolute","inset-0","bg-black","bg-opacity-50"],[1,"absolute","right-0","top-0","h-full","w-full","max-w-md","bg-white","shadow-xl","transform","transition-transform","duration-300","ease-in-out","flex","flex-col",3,"click"],[1,"bg-gradient-to-r","from-blue-600","to-blue-700","px-6","py-4","text-white","flex-shrink-0"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],[1,"text-lg","font-semibold"],[1,"text-blue-100","text-sm","mt-1"],[1,"p-2","hover:bg-white/20","rounded-lg","transition-colors",3,"click"],[1,"flex-1","overflow-y-auto"],[1,"p-6","space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","name","name","required","","placeholder","Ibuprofeno",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","text","name","quantity","required","","placeholder","15 tabletas",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","text","name","dose","required","","placeholder","400 mg",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["name","frequency","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["value",""],["value","1 vez al d\xeda"],["value","2 veces al d\xeda"],["value","3 veces al d\xeda"],["value","4 veces al d\xeda"],["value","Cada 8 horas"],["value","Cada 12 horas"],["name","administration","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["value","Oral"],["value","T\xf3pica"],["value","Intravenosa"],["value","Intramuscular"],["value","Subcut\xe1nea"],["type","text","name","duration","required","","placeholder","5 d\xedas",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["name","observations","rows","3","placeholder","Observaciones adicionales...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","resize-none",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-3","pt-6","border-t","border-gray-200","mt-6"],["type","button","class","flex items-center gap-2 h-11 px-6 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-all shadow-md hover:shadow-lg",3,"click",4,"ngIf"],["type","button",1,"flex","items-center","gap-2","h-11","px-6","border","border-gray-300","bg-white","hover:bg-gray-50","text-gray-700","rounded-lg","font-medium","transition-all",3,"click"],["type","submit",1,"flex","items-center","gap-2","h-11","px-6","bg-gradient-to-r","from-blue-600","to-cyan-600","hover:from-blue-700","hover:to-cyan-700","text-white","rounded-lg","font-medium","transition-all","shadow-md","hover:shadow-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"],["type","button",1,"flex","items-center","gap-2","h-11","px-6","bg-red-500","hover:bg-red-600","text-white","rounded-lg","font-medium","transition-all","shadow-md","hover:shadow-lg",3,"click"],["d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"]],template:function(r,n){1&r&&(e.nrm(0,"app-breadcrumbs",1),e.j41(1,"div",2)(2,"div",3),e.nrm(3,"div",4),e.j41(4,"div",5)(5,"div",6)(6,"div")(7,"div",7)(8,"div",8),e.qSk(),e.j41(9,"svg",9),e.nrm(10,"path",10),e.k0s()(),e.joV(),e.j41(11,"div")(12,"h1",11),e.EFF(13,"Registrar Dispensaci\xf3n"),e.k0s(),e.j41(14,"p",12),e.EFF(15," Dispensaci\xf3n de medicamentos prescritos con verificaci\xf3n farmac\xe9utica "),e.k0s()()()()()()(),e.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",17),e.DNE(21,b,1,1,"lucide-angular",18)(22,k,2,0,"span",19),e.k0s(),e.j41(23,"span",20),e.EFF(24," Seleccionar Receta "),e.k0s()(),e.nrm(25,"div",21),e.j41(26,"div",16)(27,"div",17),e.EFF(28," 2 "),e.k0s(),e.j41(29,"span",20),e.EFF(30," Registrar Dispensaci\xf3n "),e.k0s()()()()(),e.DNE(31,R,32,8,"div",19)(32,I,142,22,"div",19),e.k0s(),e.DNE(33,N,81,12,"div",22),e.j41(34,"app-role-suggestion-modal",23),e.bIt("dismiss",function(){return n.onRoleSuggestionDismiss()})("roleChanged",function(){return n.onRoleChanged()}),e.k0s()),2&r&&(e.Y8G("items",n.breadcrumbItems),e.R7$(20),e.Y8G("ngClass",e.l_i(11,C,"select"===n.currentStep,"dispense"===n.currentStep)),e.R7$(),e.Y8G("ngIf","dispense"===n.currentStep),e.R7$(),e.Y8G("ngIf","select"===n.currentStep),e.R7$(),e.Y8G("ngClass",e.l_i(14,c,"select"===n.currentStep,"dispense"===n.currentStep)),e.R7$(4),e.Y8G("ngClass",e.l_i(17,p,"dispense"===n.currentStep,"select"===n.currentStep)),e.R7$(2),e.Y8G("ngClass",e.l_i(20,l,"dispense"===n.currentStep,"select"===n.currentStep)),e.R7$(2),e.Y8G("ngIf","select"===n.currentStep),e.R7$(),e.Y8G("ngIf","dispense"===n.currentStep&&n.selectedPrescription),e.R7$(),e.Y8G("ngIf",n.showMedicineModal),e.R7$(),e.Y8G("isOpen",n.showRoleSuggestionModal()))},dependencies:[_.MD,_.YU,_.Sq,_.bT,g.YN,g.qT,g.xH,g.y7,g.me,g.wz,g.BC,g.cb,g.YS,g.vS,g.cV,u.flO,u.WGl,h.m,x.t],styles:[".space-y-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1.5rem}.space-x-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.75rem}.space-x-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:1rem}.space-y-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1rem}.space-y-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.gap-3[_ngcontent-%COMP%]{gap:.75rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.grid[_ngcontent-%COMP%]{display:grid}.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}@media (min-width: 768px){.md\\\\[_ngcontent-%COMP%]:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\\\[_ngcontent-%COMP%]:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 1024px){.lg\\\\[_ngcontent-%COMP%]:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}.flex[_ngcontent-%COMP%]{display:flex}.flex-row[_ngcontent-%COMP%]{flex-direction:row}.items-center[_ngcontent-%COMP%]{align-items:center}.items-start[_ngcontent-%COMP%]{align-items:flex-start}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.p-2[_ngcontent-%COMP%]{padding:.5rem}.p-3[_ngcontent-%COMP%]{padding:.75rem}.p-4[_ngcontent-%COMP%]{padding:1rem}.p-6[_ngcontent-%COMP%]{padding:1.5rem}.p-8[_ngcontent-%COMP%]{padding:2rem}.px-2[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.px-3[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:.75rem}.px-4[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.px-6[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}.py-1[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem}.py-2[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.py-3[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}.py-4[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}.pt-4[_ngcontent-%COMP%]{padding-top:1rem}.mt-1[_ngcontent-%COMP%]{margin-top:.25rem}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem}.mt-4[_ngcontent-%COMP%]{margin-top:1rem}.mb-1[_ngcontent-%COMP%]{margin-bottom:.25rem}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem}.mb-4[_ngcontent-%COMP%]{margin-bottom:1rem}.mr-1[_ngcontent-%COMP%]{margin-right:.25rem}.mr-2[_ngcontent-%COMP%]{margin-right:.5rem}.ml-1[_ngcontent-%COMP%]{margin-left:.25rem}.w-full[_ngcontent-%COMP%]{width:100%}.w-8[_ngcontent-%COMP%]{width:2rem}.w-12[_ngcontent-%COMP%]{width:3rem}.w-16[_ngcontent-%COMP%]{width:4rem}.h-8[_ngcontent-%COMP%]{height:2rem}.h-12[_ngcontent-%COMP%]{height:3rem}.h-16[_ngcontent-%COMP%]{height:4rem}.max-w-7xl[_ngcontent-%COMP%]{max-width:80rem}.max-h-90vh[_ngcontent-%COMP%]{max-height:90vh}.min-w-0[_ngcontent-%COMP%]{min-width:0px}.relative[_ngcontent-%COMP%]{position:relative}.absolute[_ngcontent-%COMP%]{position:absolute}.fixed[_ngcontent-%COMP%]{position:fixed}.inset-0[_ngcontent-%COMP%]{inset:0}.z-50[_ngcontent-%COMP%]{z-index:50}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.bg-gray-50[_ngcontent-%COMP%]{background-color:#f9fafb}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f3f4f6}.bg-gray-300[_ngcontent-%COMP%]{background-color:#d1d5db}.bg-gray-600[_ngcontent-%COMP%]{background-color:#4b5563}.bg-gray-700[_ngcontent-%COMP%]{background-color:#374151}.bg-blue-50[_ngcontent-%COMP%]{background-color:#eff6ff}.bg-blue-100[_ngcontent-%COMP%]{background-color:#dbeafe}.bg-blue-200[_ngcontent-%COMP%]{background-color:#bfdbfe}.bg-blue-600[_ngcontent-%COMP%]{background-color:#2563eb}.bg-blue-700[_ngcontent-%COMP%]{background-color:#1d4ed8}.bg-green-50[_ngcontent-%COMP%]{background-color:#f0fdf4}.bg-green-100[_ngcontent-%COMP%]{background-color:#dcfce7}.bg-green-600[_ngcontent-%COMP%]{background-color:#16a34a}.bg-green-700[_ngcontent-%COMP%]{background-color:#15803d}.bg-orange-100[_ngcontent-%COMP%]{background-color:#ffedd5}.bg-red-600[_ngcontent-%COMP%]{background-color:#dc2626}.bg-red-700[_ngcontent-%COMP%]{background-color:#b91c1c}.bg-black[_ngcontent-%COMP%]{background-color:#000}.bg-opacity-50[_ngcontent-%COMP%]{background-color:#00000080}.bg-gradient-to-r[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.bg-gradient-to-br[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.from-green-600[_ngcontent-%COMP%]{--tw-gradient-from: rgb(22 163 74);--tw-gradient-to: rgb(22 163 74 / 0);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-emerald-500[_ngcontent-%COMP%]{--tw-gradient-to: rgb(16 185 129 / 0);--tw-gradient-stops: var(--tw-gradient-from), rgb(16 185 129), var(--tw-gradient-to)}.to-teal-600[_ngcontent-%COMP%]{--tw-gradient-to: rgb(13 148 136)}.from-primary-5[_ngcontent-%COMP%]{--tw-gradient-from: rgb(37 99 235 / .05);--tw-gradient-to: rgb(37 99 235 / 0);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.to-transparent[_ngcontent-%COMP%]{--tw-gradient-to: transparent}.from-blue-50[_ngcontent-%COMP%]{--tw-gradient-from: rgb(239 246 255);--tw-gradient-to: rgb(239 246 255 / 0);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-50[_ngcontent-%COMP%]{--tw-gradient-from: rgb(240 253 244);--tw-gradient-to: rgb(240 253 244 / 0);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.text-white[_ngcontent-%COMP%]{color:#fff}.text-gray-400[_ngcontent-%COMP%]{color:#9ca3af}.text-gray-500[_ngcontent-%COMP%]{color:#6b7280}.text-gray-600[_ngcontent-%COMP%]{color:#4b5563}.text-gray-700[_ngcontent-%COMP%]{color:#374151}.text-gray-800[_ngcontent-%COMP%]{color:#1f2937}.text-gray-900[_ngcontent-%COMP%]{color:#111827}.text-blue-600[_ngcontent-%COMP%]{color:#2563eb}.text-blue-700[_ngcontent-%COMP%]{color:#1d4ed8}.text-blue-800[_ngcontent-%COMP%]{color:#1e40af}.text-blue-900[_ngcontent-%COMP%]{color:#1e3a8a}.text-green-600[_ngcontent-%COMP%]{color:#16a34a}.text-green-700[_ngcontent-%COMP%]{color:#15803d}.text-orange-500[_ngcontent-%COMP%]{color:#f97316}.text-orange-700[_ngcontent-%COMP%]{color:#c2410c}.text-emerald-100[_ngcontent-%COMP%]{color:#d1fae5}.text-xs[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.875rem;line-height:2.25rem}.font-medium[_ngcontent-%COMP%]{font-weight:500}.font-semibold[_ngcontent-%COMP%]{font-weight:600}.font-bold[_ngcontent-%COMP%]{font-weight:700}.border[_ngcontent-%COMP%]{border-width:1px}.border-b[_ngcontent-%COMP%]{border-bottom-width:1px}.border-t[_ngcontent-%COMP%]{border-top-width:1px}.border-gray-100[_ngcontent-%COMP%]{border-color:#f3f4f6}.border-gray-200[_ngcontent-%COMP%]{border-color:#e5e7eb}.border-gray-300[_ngcontent-%COMP%]{border-color:#d1d5db}.border-blue-100[_ngcontent-%COMP%]{border-color:#dbeafe}.border-blue-200[_ngcontent-%COMP%]{border-color:#bfdbfe}.border-green-100[_ngcontent-%COMP%]{border-color:#dcfce7}.border-green-200[_ngcontent-%COMP%]{border-color:#bbf7d0}.border-green-300[_ngcontent-%COMP%]{border-color:#86efac}.border-orange-300[_ngcontent-%COMP%]{border-color:#fdba74}.border-primary-10[_ngcontent-%COMP%]{border-color:#2563eb1a}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}.rounded-xl[_ngcontent-%COMP%]{border-radius:.75rem}.rounded-full[_ngcontent-%COMP%]{border-radius:9999px}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a}.shadow-xl[_ngcontent-%COMP%]{box-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a}.shadow-md[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.hover\\\\[_ngcontent-%COMP%]:bg-gray-50:hover{background-color:#f9fafb}.hover\\\\[_ngcontent-%COMP%]:bg-gray-700:hover{background-color:#374151}.hover\\\\[_ngcontent-%COMP%]:bg-blue-700:hover{background-color:#1d4ed8}.hover\\\\[_ngcontent-%COMP%]:bg-green-700:hover{background-color:#15803d}.hover\\\\[_ngcontent-%COMP%]:bg-red-700:hover{background-color:#b91c1c}.hover\\\\[_ngcontent-%COMP%]:text-gray-600:hover{color:#4b5563}.hover\\\\[_ngcontent-%COMP%]:shadow-md:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.focus\\\\[_ngcontent-%COMP%]:ring-2:focus{box-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)}.focus\\\\[_ngcontent-%COMP%]:ring-blue-500:focus{--tw-ring-color: rgb(59 130 246)}.focus\\\\[_ngcontent-%COMP%]:border-blue-500:focus{border-color:#3b82f6}.disabled\\\\[_ngcontent-%COMP%]:bg-gray-300:disabled{background-color:#d1d5db}.disabled\\\\[_ngcontent-%COMP%]:cursor-not-allowed:disabled{cursor:not-allowed}.transition-colors[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all[_ngcontent-%COMP%]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200[_ngcontent-%COMP%]{transition-duration:.2s}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto}.overflow-y-auto[_ngcontent-%COMP%]{overflow-y:auto}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.cursor-not-allowed[_ngcontent-%COMP%]{cursor:not-allowed}.block[_ngcontent-%COMP%]{display:block}.inline-block[_ngcontent-%COMP%]{display:inline-block}.hidden[_ngcontent-%COMP%]{display:none}.text-left[_ngcontent-%COMP%]{text-align:left}.resize-none[_ngcontent-%COMP%]{resize:none}.backdrop-blur-sm[_ngcontent-%COMP%]{backdrop-filter:blur(4px)}.mx-auto[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.mx-4[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.bg-grid-pattern[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cpattern id='grid' width='20' height='20' patternUnits='userSpaceOnUse'%3e%3cpath d='M 20 0 L 0 0 0 20' fill='none' stroke='white' stroke-width='1' stroke-opacity='0.05'/%3e%3c/pattern%3e%3c/defs%3e%3crect width='100%25' height='100%25' fill='url(%23grid)' /%3e%3c/svg%3e\");background-size:20px 20px}.max-w-md[_ngcontent-%COMP%]{max-width:28rem}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}.flex-col[_ngcontent-%COMP%]{flex-direction:column}.flex-shrink-0[_ngcontent-%COMP%]{flex-shrink:0}.flex-1[_ngcontent-%COMP%]{flex:1 1 0%}.transform[_ngcontent-%COMP%]{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transition-transform[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-300[_ngcontent-%COMP%]{transition-duration:.3s}.ease-in-out[_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.4,0,.2,1)}"]})}}return o})()}}]);