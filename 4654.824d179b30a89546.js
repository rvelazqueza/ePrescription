"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[4654],{8777:(y,v,c)=>{c.d(v,{m:()=>j});var e=c(177),f=c(6283),i=c(8516),n=c(4438);function x(d,h){if(1&d&&n.nrm(0,"lucide-icon",4),2&d){const u=n.XpG(2).$implicit;n.Y8G("img",u.icon)}}function E(d,h){if(1&d&&(n.j41(0,"a",9),n.DNE(1,x,1,1,"lucide-icon",10),n.EFF(2),n.k0s()),2&d){const u=n.XpG().$implicit;n.Y8G("routerLink",u.route),n.R7$(),n.Y8G("ngIf",u.icon),n.R7$(),n.SpI(" ",u.label," ")}}function F(d,h){if(1&d&&n.nrm(0,"lucide-icon",4),2&d){const u=n.XpG(2).$implicit;n.Y8G("img",u.icon)}}function k(d,h){if(1&d&&(n.j41(0,"span",11),n.DNE(1,F,1,1,"lucide-icon",10),n.EFF(2),n.k0s()),2&d){const u=n.XpG(),l=u.$implicit;n.BMQ("aria-current",u.last?"page":null),n.R7$(),n.Y8G("ngIf",l.icon),n.R7$(),n.SpI(" ",l.label," ")}}function C(d,h){if(1&d&&(n.j41(0,"li",2),n.nrm(1,"lucide-icon",6),n.DNE(2,E,3,3,"a",7)(3,k,3,3,"span",8),n.k0s()),2&d){const u=h.$implicit,l=h.last,m=n.XpG();n.R7$(),n.Y8G("img",m.chevronRightIcon),n.R7$(),n.Y8G("ngIf",u.route&&!l),n.R7$(),n.Y8G("ngIf",!u.route||l)}}let j=(()=>{class d{constructor(){this.items=[],this.homeIcon=i.ww0,this.chevronRightIcon=i.c_$}static{this.\u0275fac=function(l){return new(l||d)}}static{this.\u0275cmp=n.VBU({type:d,selectors:[["app-breadcrumbs"]],inputs:{items:"items"},standalone:!0,features:[n.aNF],decls:7,vars:2,consts:[["aria-label","Breadcrumb",1,"fixed","left-64","right-0","z-30","bg-gray-50","border-b","border-gray-200","px-6","py-3",2,"top","93px"],[1,"inline-flex","items-center","space-x-1","md:space-x-3"],[1,"inline-flex","items-center"],["routerLink","/dashboard",1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors"],["aria-hidden","true",1,"w-4","h-4","mr-2",3,"img"],["class","inline-flex items-center",4,"ngFor","ngForOf"],["aria-hidden","true",1,"w-4","h-4","text-gray-400","mx-1",3,"img"],["class","inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors",3,"routerLink",4,"ngIf"],["class","inline-flex items-center text-sm font-medium text-gray-500",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors",3,"routerLink"],["class","w-4 h-4 mr-2","aria-hidden","true",3,"img",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-500"]],template:function(l,m){1&l&&(n.j41(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),n.nrm(4,"lucide-icon",4),n.EFF(5," Inicio "),n.k0s()(),n.DNE(6,C,4,3,"li",5),n.k0s()()),2&l&&(n.R7$(4),n.Y8G("img",m.homeIcon),n.R7$(2),n.Y8G("ngForOf",m.items))},dependencies:[e.MD,e.Sq,e.bT,f.iI,f.Wk,i.flO,i.WGl],encapsulation:2})}}return d})()},1265:(y,v,c)=>{c.d(v,{y:()=>u});var e=c(177),f=c(8516),i=c(4438),n=c(6283);const x=[[["","slot","action"]]],E=["[slot=action]"];function F(l,m){if(1&l){const g=i.RV6();i.j41(0,"button",12),i.bIt("click",function(){i.eBV(g);const s=i.XpG();return i.Njj(s.onCreateUserClick())}),i.qSk(),i.j41(1,"svg",13),i.nrm(2,"path",14),i.k0s(),i.EFF(3," \xbfCrear usuario? "),i.k0s()}}function k(l,m){1&l&&(i.j41(0,"span",15),i.EFF(1," Sistema profesional de seguridad "),i.k0s())}function C(l,m){if(1&l&&(i.j41(0,"div",1)(1,"div",16),i.nrm(2,"lucide-icon",17),i.k0s(),i.j41(3,"div",18),i.nrm(4,"lucide-icon",17),i.k0s(),i.j41(5,"div",19),i.nrm(6,"lucide-icon",17),i.k0s()()),2&l){const g=i.XpG();i.R7$(2),i.Y8G("img",g.stethoscopeIcon),i.R7$(2),i.Y8G("img",g.shieldCheckIcon),i.R7$(2),i.Y8G("img",g.building2Icon)}}function j(l,m){if(1&l){const g=i.RV6();i.j41(0,"div",20)(1,"span",21),i.nrm(2,"lucide-icon",22),i.EFF(3," HL7 FHIR "),i.k0s(),i.j41(4,"span",21),i.qSk(),i.j41(5,"svg",23),i.nrm(6,"path",24),i.k0s(),i.EFF(7," FDA Compliant "),i.k0s(),i.joV(),i.j41(8,"span",21),i.nrm(9,"lucide-icon",22),i.EFF(10," OMS Standards "),i.k0s(),i.j41(11,"span",25),i.bIt("click",function(){i.eBV(g);const s=i.XpG();return i.Njj(s.navigateToNotifications())}),i.qSk(),i.j41(12,"svg",26),i.nrm(13,"path",27)(14,"path",28),i.k0s(),i.EFF(15," 3 notificaciones "),i.k0s()()}if(2&l){const g=i.XpG();i.R7$(2),i.Y8G("img",g.shieldCheckIcon),i.R7$(7),i.Y8G("img",g.stethoscopeIcon)}}function d(l,m){1&l&&(i.j41(0,"div",29)(1,"span",15),i.EFF(2," Cifrado E2E "),i.k0s(),i.j41(3,"span",15),i.EFF(4," HIPAA Compliant "),i.k0s(),i.j41(5,"span",15),i.EFF(6," FDA 21 CFR Part 11 "),i.k0s(),i.j41(7,"span",15),i.EFF(8," NIST 800-63B "),i.k0s()())}function h(l,m){1&l&&(i.j41(0,"div",30)(1,"div",31)(2,"div",32),i.qSk(),i.j41(3,"svg",33),i.nrm(4,"path",34),i.k0s()(),i.joV(),i.j41(5,"span",35),i.EFF(6,"Validaci\xf3n autom\xe1tica con colegios profesionales"),i.k0s()(),i.j41(7,"div",31)(8,"div",32),i.qSk(),i.j41(9,"svg",33),i.nrm(10,"path",36),i.k0s()(),i.joV(),i.j41(11,"span",35),i.EFF(12,"Cumplimiento normativo HL7, FDA y OMS"),i.k0s()()())}let u=(()=>{class l{constructor(g){this.router=g,this.title="",this.description="",this.actionButton=!1,this.gradient="",this.showMedicalIcons=!1,this.showCreateUserButton=!1,this.createUserButtonClick=null,this.showSecurityBadge=!1,this.stethoscopeIcon=f.oYO,this.shieldCheckIcon=f.oxo,this.building2Icon=f.t6i}onCreateUserClick(){this.createUserButtonClick&&this.createUserButtonClick()}navigateToNotifications(){this.router.navigate(["/notificaciones/lista"])}static{this.\u0275fac=function(_){return new(_||l)(i.rXU(n.Ix))}}static{this.\u0275cmp=i.VBU({type:l,selectors:[["app-page-header"]],inputs:{title:"title",description:"description",icon:"icon",actionButton:"actionButton",gradient:"gradient",showMedicalIcons:"showMedicalIcons",showCreateUserButton:"showCreateUserButton",createUserButtonClick:"createUserButtonClick",showSecurityBadge:"showSecurityBadge"},standalone:!0,features:[i.aNF],ngContentSelectors:E,decls:18,vars:11,consts:[[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"w-16","h-16","bg-white/20","rounded-xl","flex","items-center","justify-center","backdrop-blur-sm"],[1,"w-8","h-8","text-white",3,"img"],[1,"text-2xl","font-bold"],[1,"text-blue-100"],["class","inline-flex items-center px-4 py-2 bg-white/10 text-white border border-white/30 rounded-lg hover:bg-white/20 transition-colors text-sm",3,"click",4,"ngIf"],["class","inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-white/20 text-white border border-white/30",4,"ngIf"],["class","flex items-center gap-4",4,"ngIf"],["class","flex gap-2",4,"ngIf"],["class","mt-4 flex flex-wrap gap-2",4,"ngIf"],["class","mt-6 flex flex-wrap gap-4",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","bg-white/10","text-white","border","border-white/30","rounded-lg","hover:bg-white/20","transition-colors","text-sm",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-white/20","text-white","border","border-white/30"],["title","Servicios M\xe9dicos",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],[1,"w-7","h-7","text-white","group-hover:scale-110","transition-transform","duration-200",3,"img"],["title","Seguridad y Protecci\xf3n",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],["title","Centros M\xe9dicos",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],[1,"flex","gap-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-white/20","text-white","border","border-white/30","hover:bg-white/30","transition-colors"],[1,"w-3","h-3","mr-1",3,"img"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["title","Ver notificaciones pendientes",1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-red-500","text-white","border","border-red-400","cursor-pointer","hover:bg-red-600","transition-colors","shadow-lg",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1","animate-pulse"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m13.73 21a2 2 0 0 1-3.46 0"],[1,"mt-4","flex","flex-wrap","gap-2"],[1,"mt-6","flex","flex-wrap","gap-4"],[1,"flex","items-center","gap-2","text-white/90"],[1,"w-5","h-5","bg-white/20","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-sm","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.5-2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(_,s){1&_&&(i.NAR(x),i.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),i.nrm(4,"lucide-icon",3),i.k0s(),i.j41(5,"div")(6,"h1",4),i.EFF(7),i.k0s(),i.j41(8,"p",5),i.EFF(9),i.k0s()()(),i.j41(10,"div",1),i.SdG(11),i.DNE(12,F,4,0,"button",6)(13,k,2,0,"span",7)(14,C,7,3,"div",8)(15,j,16,2,"div",9),i.k0s()(),i.DNE(16,d,9,0,"div",10)(17,h,13,0,"div",11),i.k0s()),2&_&&(i.HbH("bg-gradient-to-r text-white rounded-lg p-6 "+(s.gradient||"from-blue-600 to-purple-700")),i.R7$(4),i.Y8G("img",s.icon),i.R7$(3),i.JRh(s.title),i.R7$(2),i.JRh(s.description),i.R7$(3),i.Y8G("ngIf",s.showCreateUserButton),i.R7$(),i.Y8G("ngIf",s.showSecurityBadge),i.R7$(),i.Y8G("ngIf",(s.showMedicalIcons||s.title.includes("Registro de usuarios")||s.title.includes("Usuarios")&&!s.title.includes("Gesti\xf3n de Usuarios")||s.title.includes("Seguridad")&&!s.title.includes("Par\xe1metros de Seguridad"))&&!s.title.includes("Autoservicio")),i.R7$(),i.Y8G("ngIf",s.title.includes("Dashboard")||s.description.includes("Prescripci\xf3n Electr\xf3nica")),i.R7$(),i.Y8G("ngIf",s.title.includes("Autoservicio")),i.R7$(),i.Y8G("ngIf",s.title.includes("Registro de usuarios")))},dependencies:[e.MD,e.bT,f.flO,f.WGl],encapsulation:2})}}return l})()},4654:(y,v,c)=>{c.r(v),c.d(v,{ConfiguracionAlertasComponent:()=>_});var e=c(4438),f=c(177),i=c(4341),n=c(8516),x=c(8777),E=c(1265),F=c(2193),k=c(8359),C=c(1822);function j(s,b){if(1&s){const t=e.RV6();e.j41(0,"div",60)(1,"button",61),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.limpiarFiltros())}),e.nrm(2,"lucide-icon",49),e.EFF(3," Limpiar filtros "),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(2),e.Y8G("img",t.filterXIcon)}}function d(s,b){if(1&s&&(e.j41(0,"div",62),e.nrm(1,"lucide-icon",63),e.j41(2,"h3",64),e.EFF(3,"No hay tipos configurados"),e.k0s(),e.j41(4,"p",65),e.EFF(5,"No se encontraron tipos con los filtros aplicados o no hay tipos configurados."),e.k0s()()),2&s){const t=e.XpG();e.R7$(),e.Y8G("img",t.settingsIcon)}}function h(s,b){if(1&s){const t=e.RV6();e.j41(0,"div",89),e.bIt("click",function(o){return e.eBV(t),e.Njj(o.stopPropagation())}),e.j41(1,"div",90)(2,"div",91),e.EFF(3," Acciones "),e.k0s(),e.j41(4,"button",92),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,a=e.XpG(2);return a.verDetalleTipo(o),e.Njj(a.cerrarModalAcciones())}),e.nrm(5,"lucide-icon",93),e.EFF(6," Ver detalles "),e.k0s(),e.j41(7,"button",92),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,a=e.XpG(2);return a.editarTipo(o),e.Njj(a.cerrarModalAcciones())}),e.nrm(8,"lucide-icon",93),e.EFF(9," Editar configuraci\xf3n "),e.k0s(),e.j41(10,"div",94)(11,"button",95),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,a=e.XpG(2);return a.toggleEstado(o),e.Njj(a.cerrarModalAcciones())}),e.nrm(12,"lucide-icon",49),e.EFF(13),e.k0s()()()()}if(2&s){const t=e.XpG().$implicit,r=e.XpG(2);e.R7$(5),e.Y8G("img",r.eyeIcon),e.R7$(3),e.Y8G("img",r.editIcon),e.R7$(3),e.HbH("active"===t.status?"text-red-600 hover:bg-red-50":"text-green-600 hover:bg-green-50"),e.R7$(),e.Y8G("img","active"===t.status?r.banIcon:r.checkCircle2Icon),e.R7$(),e.SpI(" ","active"===t.status?"Desactivar":"Activar"," ")}}function u(s,b){if(1&s){const t=e.RV6();e.j41(0,"tr",74),e.bIt("dblclick",function(){const o=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.verDetalleTipo(o))}),e.j41(1,"td",75)(2,"div",76),e.nrm(3,"lucide-icon",49),e.j41(4,"span",77),e.EFF(5),e.k0s()()(),e.j41(6,"td",78)(7,"div",79)(8,"p",80),e.EFF(9),e.k0s(),e.j41(10,"p",81),e.EFF(11),e.k0s()()(),e.j41(12,"td",75)(13,"span",82),e.EFF(14),e.k0s()(),e.j41(15,"td",75)(16,"span",82),e.EFF(17),e.k0s()(),e.j41(18,"td",83),e.nrm(19,"lucide-icon",84),e.k0s(),e.j41(20,"td",83),e.nrm(21,"lucide-icon",84),e.k0s(),e.j41(22,"td",83),e.nrm(23,"lucide-icon",84),e.k0s(),e.j41(24,"td",83)(25,"span",82),e.EFF(26),e.k0s()(),e.j41(27,"td",85)(28,"div",25)(29,"button",86),e.bIt("click",function(o){const a=e.eBV(t).$implicit;return e.XpG(2).toggleAccionesModal(a.id),e.Njj(o.stopPropagation())}),e.nrm(30,"lucide-icon",87),e.k0s(),e.DNE(31,h,14,6,"div",88),e.k0s()()()}if(2&s){const t=b.$implicit,r=e.XpG(2);e.R7$(3),e.HbH(r.getComportamientoIconClass(t.behavior)),e.Y8G("img",r.getComportamientoIcon(t.behavior)),e.R7$(2),e.JRh(t.code),e.R7$(4),e.JRh(t.name),e.R7$(2),e.JRh(t.description),e.R7$(2),e.HbH(r.getSeveridadBadgeClass(t.severity)),e.R7$(),e.SpI(" ",r.getSeveridadTexto(t.severity)," "),e.R7$(2),e.HbH(r.getComportamientoBadgeClass(t.behavior)),e.R7$(),e.SpI(" ",r.getComportamientoTexto(t.behavior)," "),e.R7$(2),e.HbH(t.requiresAcknowledgment?"w-5 h-5 text-green-600":"w-5 h-5 text-gray-400"),e.Y8G("img",t.requiresAcknowledgment?r.checkCircle2Icon:r.xCircleIcon),e.R7$(2),e.HbH(t.requiresJustification?"w-5 h-5 text-green-600":"w-5 h-5 text-gray-400"),e.Y8G("img",t.requiresJustification?r.checkCircle2Icon:r.xCircleIcon),e.R7$(2),e.HbH(t.notifyPharmacy?"w-5 h-5 text-green-600":"w-5 h-5 text-gray-400"),e.Y8G("img",t.notifyPharmacy?r.checkCircle2Icon:r.xCircleIcon),e.R7$(2),e.HbH(r.getEstadoBadgeClass(t.status)),e.R7$(),e.SpI(" ",r.getEstadoTexto(t.status)," "),e.R7$(4),e.Y8G("img",r.moreVerticalIcon),e.R7$(),e.Y8G("ngIf",r.modalAccionesAbierto===t.id)}}function l(s,b){if(1&s&&(e.j41(0,"div",66)(1,"table",67)(2,"thead",68)(3,"tr")(4,"th",69),e.EFF(5,"C\xf3digo"),e.k0s(),e.j41(6,"th",69),e.EFF(7,"Nombre"),e.k0s(),e.j41(8,"th",69),e.EFF(9,"Severidad"),e.k0s(),e.j41(10,"th",69),e.EFF(11,"Comportamiento"),e.k0s(),e.j41(12,"th",70),e.EFF(13,"Requiere confirmaci\xf3n"),e.k0s(),e.j41(14,"th",70),e.EFF(15,"Requiere justificaci\xf3n"),e.k0s(),e.j41(16,"th",70),e.EFF(17,"Notifica farmacia"),e.k0s(),e.j41(18,"th",70),e.EFF(19,"Estado"),e.k0s(),e.j41(20,"th",71),e.EFF(21,"Acciones"),e.k0s()()(),e.j41(22,"tbody",72),e.DNE(23,u,32,26,"tr",73),e.k0s()()()),2&s){const t=e.XpG();e.R7$(23),e.Y8G("ngForOf",t.tiposFiltrados)}}function m(s,b){if(1&s){const t=e.RV6();e.j41(0,"div",96),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cerrarModalEditarTipo())}),e.j41(1,"div",97),e.nrm(2,"div",98),e.j41(3,"div",99),e.bIt("click",function(o){return e.eBV(t),e.Njj(o.stopPropagation())}),e.j41(4,"div",100)(5,"div",9)(6,"div")(7,"h3",101),e.EFF(8,"Editar Tipo de Alerta"),e.k0s(),e.j41(9,"p",102),e.EFF(10,"Modifica la configuraci\xf3n del tipo de alerta cl\xednica"),e.k0s()(),e.j41(11,"button",103),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cerrarModalEditarTipo())}),e.nrm(12,"lucide-icon",87),e.k0s()()(),e.j41(13,"div",104)(14,"div")(15,"label",105),e.EFF(16,"C\xf3digo del tipo *"),e.k0s(),e.j41(17,"input",106),e.mxI("ngModelChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.tipoEditando.code,o)||(a.tipoEditando.code=o),e.Njj(o)}),e.k0s()(),e.j41(18,"div")(19,"label",105),e.EFF(20,"Nombre del tipo *"),e.k0s(),e.j41(21,"input",107),e.mxI("ngModelChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.tipoEditando.name,o)||(a.tipoEditando.name=o),e.Njj(o)}),e.k0s()(),e.j41(22,"div")(23,"label",105),e.EFF(24,"Descripci\xf3n *"),e.k0s(),e.j41(25,"textarea",108),e.mxI("ngModelChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.tipoEditando.description,o)||(a.tipoEditando.description=o),e.Njj(o)}),e.k0s()(),e.j41(26,"div",109)(27,"div")(28,"label",105),e.EFF(29,"Severidad *"),e.k0s(),e.j41(30,"select",110),e.mxI("ngModelChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.tipoEditando.severity,o)||(a.tipoEditando.severity=o),e.Njj(o)}),e.j41(31,"option",30),e.EFF(32,"Cr\xedtica"),e.k0s(),e.j41(33,"option",31),e.EFF(34,"Alta"),e.k0s(),e.j41(35,"option",32),e.EFF(36,"Media"),e.k0s(),e.j41(37,"option",33),e.EFF(38,"Baja"),e.k0s()()(),e.j41(39,"div")(40,"label",105),e.EFF(41,"Comportamiento *"),e.k0s(),e.j41(42,"select",110),e.mxI("ngModelChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.tipoEditando.behavior,o)||(a.tipoEditando.behavior=o),e.Njj(o)}),e.j41(43,"option",34),e.EFF(44,"Bloquear"),e.k0s(),e.j41(45,"option",35),e.EFF(46,"Advertir"),e.k0s(),e.j41(47,"option",36),e.EFF(48,"Informar"),e.k0s()()()(),e.j41(49,"div",111)(50,"h4",80),e.EFF(51,"Configuraci\xf3n de comportamiento"),e.k0s(),e.j41(52,"div",112)(53,"div")(54,"p",80),e.EFF(55,"Requiere confirmaci\xf3n"),e.k0s(),e.j41(56,"p",113),e.EFF(57,"El usuario debe confirmar que ha visto la alerta"),e.k0s()(),e.j41(58,"label",114)(59,"input",115),e.mxI("ngModelChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.tipoEditando.requiresAcknowledgment,o)||(a.tipoEditando.requiresAcknowledgment=o),e.Njj(o)}),e.k0s(),e.nrm(60,"div",116),e.k0s()(),e.j41(61,"div",112)(62,"div")(63,"p",80),e.EFF(64,"Requiere justificaci\xf3n"),e.k0s(),e.j41(65,"p",113),e.EFF(66,"El usuario debe proporcionar una justificaci\xf3n cl\xednica"),e.k0s()(),e.j41(67,"label",114)(68,"input",115),e.mxI("ngModelChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.tipoEditando.requiresJustification,o)||(a.tipoEditando.requiresJustification=o),e.Njj(o)}),e.k0s(),e.nrm(69,"div",116),e.k0s()(),e.j41(70,"div",112)(71,"div")(72,"p",80),e.EFF(73,"Notificar a farmacia"),e.k0s(),e.j41(74,"p",113),e.EFF(75,"Env\xeda notificaci\xf3n autom\xe1tica a la farmacia"),e.k0s()(),e.j41(76,"label",114)(77,"input",115),e.mxI("ngModelChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.tipoEditando.notifyPharmacy,o)||(a.tipoEditando.notifyPharmacy=o),e.Njj(o)}),e.k0s(),e.nrm(78,"div",116),e.k0s()(),e.j41(79,"div",112)(80,"div")(81,"p",80),e.EFF(82,"Registro autom\xe1tico"),e.k0s(),e.j41(83,"p",113),e.EFF(84,"Registra autom\xe1ticamente en el historial del paciente"),e.k0s()(),e.j41(85,"label",114)(86,"input",115),e.mxI("ngModelChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.tipoEditando.autoLog,o)||(a.tipoEditando.autoLog=o),e.Njj(o)}),e.k0s(),e.nrm(87,"div",116),e.k0s()()(),e.j41(88,"div")(89,"label",105),e.EFF(90,"Ejemplos de uso"),e.k0s(),e.j41(91,"textarea",117),e.mxI("ngModelChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.tipoEditando.examples,o)||(a.tipoEditando.examples=o),e.Njj(o)}),e.k0s()()(),e.j41(92,"div",118)(93,"button",119),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cerrarModalEditarTipo())}),e.EFF(94," Cancelar "),e.k0s(),e.j41(95,"button",120),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.guardarCambiosTipo())}),e.nrm(96,"lucide-icon",49),e.EFF(97," Guardar cambios "),e.k0s()()()()()}if(2&s){const t=e.XpG();e.R7$(12),e.Y8G("img",t.xIcon),e.R7$(5),e.R50("ngModel",t.tipoEditando.code),e.R7$(4),e.R50("ngModel",t.tipoEditando.name),e.R7$(4),e.R50("ngModel",t.tipoEditando.description),e.R7$(5),e.R50("ngModel",t.tipoEditando.severity),e.R7$(12),e.R50("ngModel",t.tipoEditando.behavior),e.R7$(17),e.R50("ngModel",t.tipoEditando.requiresAcknowledgment),e.R7$(9),e.R50("ngModel",t.tipoEditando.requiresJustification),e.R7$(9),e.R50("ngModel",t.tipoEditando.notifyPharmacy),e.R7$(9),e.R50("ngModel",t.tipoEditando.autoLog),e.R7$(5),e.R50("ngModel",t.tipoEditando.examples),e.R7$(4),e.Y8G("disabled",!t.esFormularioEditarTipoValido()),e.R7$(),e.Y8G("img",t.saveIcon)}}function g(s,b){if(1&s){const t=e.RV6();e.j41(0,"div",121),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cerrarModalDetalles())}),e.nrm(1,"div",122),e.j41(2,"div",123),e.bIt("click",function(o){return e.eBV(t),e.Njj(o.stopPropagation())}),e.j41(3,"div",124)(4,"div",9)(5,"div")(6,"div",125),e.nrm(7,"lucide-icon",87),e.j41(8,"h2",126),e.EFF(9,"Configuraci\xf3n del Tipo de Alerta"),e.k0s()(),e.j41(10,"p",102),e.EFF(11),e.k0s()(),e.j41(12,"button",103),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cerrarModalDetalles())}),e.nrm(13,"lucide-icon",87),e.k0s()()(),e.j41(14,"div",127)(15,"div",128)(16,"div",129)(17,"div",9)(18,"div",125),e.nrm(19,"lucide-icon",130),e.j41(20,"span",131),e.EFF(21,"Estado del tipo"),e.k0s()(),e.j41(22,"span",132),e.EFF(23),e.k0s()()(),e.j41(24,"div")(25,"div",133),e.nrm(26,"lucide-icon",134),e.j41(27,"h3",45),e.EFF(28,"Informaci\xf3n b\xe1sica"),e.k0s()(),e.j41(29,"div",135)(30,"div")(31,"p",113),e.EFF(32,"C\xf3digo del tipo"),e.k0s(),e.j41(33,"p",136),e.EFF(34),e.k0s()(),e.j41(35,"div")(36,"p",113),e.EFF(37,"Descripci\xf3n"),e.k0s(),e.j41(38,"p",137),e.EFF(39),e.k0s()(),e.j41(40,"div",109)(41,"div")(42,"p",113),e.EFF(43,"Severidad"),e.k0s(),e.j41(44,"span",138),e.EFF(45),e.k0s()(),e.j41(46,"div")(47,"p",113),e.EFF(48,"Comportamiento"),e.k0s(),e.j41(49,"span",138),e.EFF(50),e.k0s()()()()(),e.j41(51,"div")(52,"div",133),e.nrm(53,"lucide-icon",134),e.j41(54,"h3",45),e.EFF(55,"Configuraci\xf3n de comportamiento"),e.k0s()(),e.j41(56,"div",139)(57,"div",140)(58,"div")(59,"p",80),e.EFF(60,"Requiere confirmaci\xf3n"),e.k0s(),e.j41(61,"p",113),e.EFF(62,"El usuario debe confirmar que ha visto la alerta"),e.k0s()(),e.nrm(63,"lucide-icon",84),e.k0s(),e.j41(64,"div",140)(65,"div")(66,"p",80),e.EFF(67,"Requiere justificaci\xf3n"),e.k0s(),e.j41(68,"p",113),e.EFF(69,"El usuario debe proporcionar una justificaci\xf3n cl\xednica"),e.k0s()(),e.nrm(70,"lucide-icon",84),e.k0s(),e.j41(71,"div",140)(72,"div")(73,"p",80),e.EFF(74,"Notificar a farmacia"),e.k0s(),e.j41(75,"p",113),e.EFF(76,"Env\xeda notificaci\xf3n autom\xe1tica a la farmacia"),e.k0s()(),e.nrm(77,"lucide-icon",84),e.k0s(),e.j41(78,"div",140)(79,"div")(80,"p",80),e.EFF(81,"Registro autom\xe1tico"),e.k0s(),e.j41(82,"p",113),e.EFF(83,"Registra autom\xe1ticamente en el historial del paciente"),e.k0s()(),e.nrm(84,"lucide-icon",84),e.k0s()()(),e.j41(85,"div")(86,"h4",141),e.EFF(87,"Ejemplos de uso"),e.k0s(),e.j41(88,"div",142)(89,"p",143),e.EFF(90),e.k0s()()(),e.j41(91,"div",129)(92,"h4",141),e.EFF(93,"Informaci\xf3n de modificaci\xf3n"),e.k0s(),e.j41(94,"div",144)(95,"div")(96,"p",65),e.EFF(97,"\xdaltima modificaci\xf3n"),e.k0s(),e.j41(98,"p",145),e.EFF(99),e.k0s()(),e.j41(100,"div")(101,"p",65),e.EFF(102,"Modificado por"),e.k0s(),e.j41(103,"p",145),e.EFF(104),e.k0s()()()()()(),e.j41(105,"div",146)(106,"div",147)(107,"button",119),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cerrarModalDetalles())}),e.EFF(108," Cerrar "),e.k0s(),e.j41(109,"button",148),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return o.editarTipo(o.tipoSeleccionado),e.Njj(o.cerrarModalDetalles())}),e.nrm(110,"lucide-icon",49),e.EFF(111," Editar configuraci\xf3n "),e.k0s()()()()()}if(2&s){const t=e.XpG();e.R7$(7),e.Y8G("img",t.settingsIcon),e.R7$(4),e.JRh(t.tipoSeleccionado.name),e.R7$(2),e.Y8G("img",t.xIcon),e.R7$(6),e.Y8G("img",t.settingsIcon),e.R7$(3),e.HbH(t.getEstadoBadgeClass(t.tipoSeleccionado.status)),e.R7$(),e.SpI(" ",t.getEstadoTexto(t.tipoSeleccionado.status)," "),e.R7$(3),e.Y8G("img",t.fileTextIcon),e.R7$(8),e.JRh(t.tipoSeleccionado.code),e.R7$(5),e.JRh(t.tipoSeleccionado.description),e.R7$(5),e.HbH(t.getSeveridadBadgeClass(t.tipoSeleccionado.severity)),e.R7$(),e.SpI(" ",t.getSeveridadTexto(t.tipoSeleccionado.severity)," "),e.R7$(4),e.HbH(t.getComportamientoBadgeClass(t.tipoSeleccionado.behavior)),e.R7$(),e.SpI(" ",t.getComportamientoTexto(t.tipoSeleccionado.behavior)," "),e.R7$(3),e.Y8G("img",t.settingsIcon),e.R7$(10),e.HbH(t.tipoSeleccionado.requiresAcknowledgment?"w-6 h-6 text-green-600":"w-6 h-6 text-gray-400"),e.Y8G("img",t.tipoSeleccionado.requiresAcknowledgment?t.checkCircle2Icon:t.xCircleIcon),e.R7$(7),e.HbH(t.tipoSeleccionado.requiresJustification?"w-6 h-6 text-green-600":"w-6 h-6 text-gray-400"),e.Y8G("img",t.tipoSeleccionado.requiresJustification?t.checkCircle2Icon:t.xCircleIcon),e.R7$(7),e.HbH(t.tipoSeleccionado.notifyPharmacy?"w-6 h-6 text-green-600":"w-6 h-6 text-gray-400"),e.Y8G("img",t.tipoSeleccionado.notifyPharmacy?t.checkCircle2Icon:t.xCircleIcon),e.R7$(7),e.HbH(t.tipoSeleccionado.autoLog?"w-6 h-6 text-green-600":"w-6 h-6 text-gray-400"),e.Y8G("img",t.tipoSeleccionado.autoLog?t.checkCircle2Icon:t.xCircleIcon),e.R7$(6),e.JRh(t.tipoSeleccionado.examples),e.R7$(9),e.JRh(t.tipoSeleccionado.lastModified),e.R7$(5),e.JRh(t.tipoSeleccionado.modifiedBy),e.R7$(6),e.Y8G("img",t.editIcon)}}let _=(()=>{class s{constructor(t){this.roleDemoService=t,this.settingsIcon=n.wB_,this.shieldIcon=n.ekZ,this.searchIcon=n.vji,this.filterIcon=n.dJT,this.filterXIcon=n.Jog,this.eyeIcon=n.kU3,this.downloadIcon=n.f5X,this.checkCircle2Icon=n.Jly,this.xCircleIcon=n.Jpz,this.clockIcon=n.zD7,this.userIcon=n.KJW,this.fileTextIcon=n.iUU,this.pillIcon=n.abF,this.alertCircleIcon=n.RIJ,this.infoIcon=n.R2D,this.banIcon=n.MAP,this.shieldAlertIcon=n.yZn,this.bellIcon=n.IrQ,this.bellOffIcon=n.br1,this.xIcon=n.X,this.editIcon=n.ffu,this.trash2Icon=n.TBR,this.toggleLeftIcon=n.svW,this.toggleRightIcon=n.ZQ2,this.moreVerticalIcon=n.GvN,this.saveIcon=n.eMP,this.breadcrumbItems=[{label:"Alertas cl\xednicas",route:"/alertas"},{label:"Tipos de alertas"}],this.tiposAlertas=[{id:"TYPE-001",code:"INTERACTION_CRITICAL",name:"Interacci\xf3n medicamentosa cr\xedtica",description:"Combinaci\xf3n de medicamentos con riesgo severo para la vida del paciente",severity:"critical",behavior:"block",requiresAcknowledgment:!0,requiresJustification:!0,notifyPharmacy:!0,autoLog:!0,status:"active",examples:"Warfarina + AAS, Estatinas + Gemfibrozil",lastModified:"2024-09-15",modifiedBy:"Admin"},{id:"TYPE-002",code:"ALLERGY_ABSOLUTE",name:"Alergia registrada",description:"Medicamento al que el paciente tiene alergia documentada",severity:"critical",behavior:"block",requiresAcknowledgment:!0,requiresJustification:!0,notifyPharmacy:!0,autoLog:!0,status:"active",examples:"Penicilina en paciente al\xe9rgico a beta-lact\xe1micos",lastModified:"2024-09-10",modifiedBy:"Admin"},{id:"TYPE-003",code:"CONTRAINDICATION",name:"Contraindicaci\xf3n por condici\xf3n m\xe9dica",description:"Medicamento contraindicado por condici\xf3n del paciente",severity:"high",behavior:"warn",requiresAcknowledgment:!0,requiresJustification:!0,notifyPharmacy:!1,autoLog:!0,status:"active",examples:"AINEs en insuficiencia renal, Beta-bloqueadores en asma severa",lastModified:"2024-08-20",modifiedBy:"Admin"},{id:"TYPE-004",code:"DUPLICATE_THERAPY",name:"Duplicidad terap\xe9utica",description:"Dos o m\xe1s medicamentos de la misma clase terap\xe9utica",severity:"medium",behavior:"warn",requiresAcknowledgment:!0,requiresJustification:!1,notifyPharmacy:!1,autoLog:!0,status:"active",examples:"Dos estatinas, Dos IECAs, Dos IBP",lastModified:"2024-07-15",modifiedBy:"Admin"},{id:"TYPE-005",code:"DOSE_MAX_EXCEEDED",name:"Dosis m\xe1xima excedida",description:"La dosis prescrita supera el l\xedmite m\xe1ximo permitido",severity:"high",behavior:"warn",requiresAcknowledgment:!0,requiresJustification:!0,notifyPharmacy:!0,autoLog:!0,status:"active",examples:"Metformina >3000mg/d\xeda, Paracetamol >4g/d\xeda",lastModified:"2024-09-01",modifiedBy:"Admin"},{id:"TYPE-006",code:"INTERACTION_MODERATE",name:"Interacci\xf3n medicamentosa moderada",description:"Combinaci\xf3n que requiere monitoreo sin riesgo inmediato severo",severity:"medium",behavior:"info",requiresAcknowledgment:!1,requiresJustification:!1,notifyPharmacy:!1,autoLog:!0,status:"active",examples:"Levotiroxina + Hierro, Digoxina + Diur\xe9ticos",lastModified:"2024-06-30",modifiedBy:"Admin"},{id:"TYPE-007",code:"AGE_PEDIATRIC",name:"Alerta pedi\xe1trica",description:"Medicamento o dosis no adecuada para edad pedi\xe1trica",severity:"high",behavior:"warn",requiresAcknowledgment:!0,requiresJustification:!0,notifyPharmacy:!0,autoLog:!0,status:"active",examples:"Aspirina en menores de 12 a\xf1os, Fluoroquinolonas en ni\xf1os",lastModified:"2024-08-10",modifiedBy:"Admin"},{id:"TYPE-008",code:"PREGNANCY_RISK",name:"Riesgo en embarazo",description:"Medicamento categor\xeda D o X en paciente embarazada",severity:"critical",behavior:"block",requiresAcknowledgment:!0,requiresJustification:!0,notifyPharmacy:!0,autoLog:!0,status:"active",examples:"Warfarina, Estatinas, IECAs en embarazo",lastModified:"2024-09-05",modifiedBy:"Admin"}],this.terminoBusqueda="",this.filtroSeveridad="",this.filtroComportamiento="",this.filtroEstado="",this.tiposFiltrados=[],this.tipoSeleccionado=null,this.modalAccionesAbierto=null,this.modalEditarTipoAbierto=!1,this.tipoEditando={},this.tipoOriginalId="",this.stats={total:0,active:0,blocking:0,requireJustification:0},this.showRoleSuggestionModal=(0,e.vPA)(!1),this.roleSubscriptions=new k.yU}ngOnInit(){this.calcularEstadisticas(),this.filtrarTipos(),this.checkRoleSuggestion(),this.subscribeToRoleChanges()}ngOnDestroy(){this.roleSubscriptions.unsubscribe()}calcularEstadisticas(){this.stats={total:this.tiposAlertas.length,active:this.tiposAlertas.filter(t=>"active"===t.status).length,blocking:this.tiposAlertas.filter(t=>"block"===t.behavior&&"active"===t.status).length,requireJustification:this.tiposAlertas.filter(t=>t.requiresJustification&&"active"===t.status).length}}filtrarTipos(){this.tiposFiltrados=this.tiposAlertas.filter(t=>(t.name.toLowerCase().includes(this.terminoBusqueda.toLowerCase())||t.code.toLowerCase().includes(this.terminoBusqueda.toLowerCase())||t.description.toLowerCase().includes(this.terminoBusqueda.toLowerCase()))&&(!this.filtroSeveridad||t.severity===this.filtroSeveridad)&&(!this.filtroComportamiento||t.behavior===this.filtroComportamiento)&&(!this.filtroEstado||t.status===this.filtroEstado))}hayFiltrosActivos(){return!!(this.terminoBusqueda||this.filtroSeveridad||this.filtroComportamiento||this.filtroEstado)}limpiarFiltros(){this.terminoBusqueda="",this.filtroSeveridad="",this.filtroComportamiento="",this.filtroEstado="",this.filtrarTipos()}verDetalleTipo(t){this.tipoSeleccionado=t}editarTipo(t){this.tipoOriginalId=t.id,this.tipoEditando={...t},this.modalEditarTipoAbierto=!0}toggleEstado(t){const r=this.tiposAlertas.findIndex(o=>o.id===t.id);-1!==r&&(this.tiposAlertas[r].status="active"===this.tiposAlertas[r].status?"inactive":"active",this.calcularEstadisticas(),this.filtrarTipos())}cerrarModalDetalles(){this.tipoSeleccionado=null}toggleAccionesModal(t){this.modalAccionesAbierto=this.modalAccionesAbierto===t?null:t}cerrarModalAcciones(){this.modalAccionesAbierto=null}cerrarModalEditarTipo(){this.modalEditarTipoAbierto=!1,this.tipoEditando={},this.tipoOriginalId=""}esFormularioEditarTipoValido(){return!!(this.tipoEditando.code&&this.tipoEditando.name&&this.tipoEditando.description&&this.tipoEditando.severity&&this.tipoEditando.behavior)}guardarCambiosTipo(){if(this.esFormularioEditarTipoValido()&&this.tipoOriginalId){const t=this.tiposAlertas.findIndex(r=>r.id===this.tipoOriginalId);-1!==t&&(this.tiposAlertas[t]={...this.tiposAlertas[t],code:this.tipoEditando.code,name:this.tipoEditando.name,description:this.tipoEditando.description,severity:this.tipoEditando.severity,behavior:this.tipoEditando.behavior,requiresAcknowledgment:this.tipoEditando.requiresAcknowledgment||!1,requiresJustification:this.tipoEditando.requiresJustification||!1,notifyPharmacy:this.tipoEditando.notifyPharmacy||!1,autoLog:this.tipoEditando.autoLog||!1,examples:this.tipoEditando.examples||"",lastModified:(new Date).toISOString().split("T")[0],modifiedBy:"Usuario actual"},this.calcularEstadisticas(),this.filtrarTipos(),this.cerrarModalEditarTipo(),console.log("Tipo actualizado:",this.tiposAlertas[t]))}}getSeveridadBadgeClass(t){const r={critical:"bg-red-100 text-red-700 border-red-300",high:"bg-orange-100 text-orange-700 border-orange-300",medium:"bg-yellow-100 text-yellow-700 border-yellow-300",low:"bg-blue-100 text-blue-700 border-blue-300"};return r[t]||r.medium}getSeveridadTexto(t){return{critical:"Cr\xedtica",high:"Alta",medium:"Media",low:"Baja"}[t]||t}getComportamientoBadgeClass(t){const r={block:"bg-red-100 text-red-700 border-red-300",warn:"bg-yellow-100 text-yellow-700 border-yellow-300",info:"bg-blue-100 text-blue-700 border-blue-300"};return r[t]||r.info}getComportamientoTexto(t){return{block:"Bloquear",warn:"Advertir",info:"Informar"}[t]||t}getComportamientoIcon(t){return{block:this.banIcon,warn:this.alertCircleIcon,info:this.infoIcon}[t]||this.infoIcon}getComportamientoIconClass(t){return{block:"text-red-600",warn:"text-yellow-600",info:"text-blue-600"}[t]||"text-blue-600"}getEstadoBadgeClass(t){const r={active:"bg-green-100 text-green-700 border-green-300",inactive:"bg-gray-100 text-gray-700 border-gray-300"};return r[t]||r.active}getEstadoTexto(t){return{active:"Activo",inactive:"Inactivo"}[t]||t}checkRoleSuggestion(){const t=this.roleDemoService.getCurrentSession();console.log("\u{1f527} ConfiguracionAlertas - checkRoleSuggestion - currentRole:",t.activeRole),"M\xe9dico"!==t.activeRole&&"Administrador"!==t.activeRole?(console.log("\u{1f527} ConfiguracionAlertas - Showing role suggestion modal for role:",t.activeRole),this.showRoleSuggestionModal.set(!0)):(console.log("\u{1f527} ConfiguracionAlertas - Not showing modal, user has appropriate role"),this.showRoleSuggestionModal.set(!1))}subscribeToRoleChanges(){this.roleSubscriptions.add(this.roleDemoService.currentSession$.subscribe(t=>{console.log("\u{1f527} ConfiguracionAlertas - Role changed to:",t.activeRole),this.checkRoleSuggestion()}))}onRoleSuggestionDismiss(){console.log("\u{1f527} ConfiguracionAlertas - Role suggestion dismissed"),this.showRoleSuggestionModal.set(!1)}onRoleChanged(){console.log("\u{1f527} ConfiguracionAlertas - Role changed, closing modal"),this.showRoleSuggestionModal.set(!1)}static{this.\u0275fac=function(r){return new(r||s)(e.rXU(C.z))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-configuracion-alertas"]],standalone:!0,features:[e.aNF],decls:124,vars:31,consts:[[1,"space-y-6",3,"click"],[3,"items"],["title","Configuraci\xf3n de Tipos de Alertas","description","Gesti\xf3n y configuraci\xf3n de comportamientos del sistema de alertas cl\xednicas",3,"icon","actionButton"],["slot","action",1,"bg-white/20","backdrop-blur-sm","text-white","px-4","py-2","rounded-lg","border","border-white/30"],[1,"text-right"],[1,"text-xs","text-white/80"],[1,"text-2xl","font-bold","text-white"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-purple-500","p-6"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600","font-medium"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-3","bg-purple-100","rounded-lg"],[1,"w-8","h-8","text-purple-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-green-500","p-6"],[1,"p-3","bg-green-100","rounded-lg"],[1,"w-8","h-8","text-green-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-red-500","p-6"],[1,"p-3","bg-red-100","rounded-lg"],[1,"w-8","h-8","text-red-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-yellow-500","p-6"],[1,"p-3","bg-yellow-100","rounded-lg"],[1,"w-8","h-8","text-yellow-600",3,"img"],[1,"bg-white","rounded-lg","shadow","p-6"],[1,"grid","gap-4","md:grid-cols-4"],[1,"relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-4","h-4","text-gray-400",3,"img"],["type","text","placeholder","Buscar por nombre o c\xf3digo...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"ngModelChange","input","ngModel"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],["value",""],["value","critical"],["value","high"],["value","medium"],["value","low"],["value","block"],["value","warn"],["value","info"],["value","active"],["value","inactive"],["class","mt-4",4,"ngIf"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gradient-to-r","from-purple-50","to-white"],[1,"flex","items-center","space-x-3"],[1,"p-2","bg-purple-100","rounded-lg"],[1,"w-5","h-5","text-purple-600",3,"img"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","gap-2"],[1,"px-3","py-2","text-sm","bg-purple-100","text-purple-700","rounded-lg","hover:bg-purple-200","flex","items-center","gap-2"],[1,"w-4","h-4",3,"img"],["class","text-center py-12",4,"ngIf"],["class","overflow-x-auto","style","max-height: 500px; overflow-y: auto;",4,"ngIf"],[1,"bg-purple-50","border","border-purple-200","rounded-lg","p-4"],[1,"flex","items-start","gap-3"],[1,"p-2","bg-purple-100","rounded-lg","flex-shrink-0"],[1,"font-medium","text-purple-900","mb-1"],[1,"text-sm","text-purple-700","space-y-1"],["class","fixed inset-0 z-50 overflow-y-auto",3,"click",4,"ngIf"],["class","fixed inset-0 z-50 overflow-hidden",3,"click",4,"ngIf"],[3,"dismiss","roleChanged","isOpen","suggestedRole","pageName"],[1,"mt-4"],[1,"px-3","py-2","text-sm","bg-gray-100","text-gray-700","rounded-lg","hover:bg-gray-200","flex","items-center","gap-2",3,"click"],[1,"text-center","py-12"],[1,"w-16","h-16","text-gray-300","mx-auto","mb-4",3,"img"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"overflow-x-auto",2,"max-height","500px","overflow-y","auto"],[1,"w-full","min-w-[1400px]"],[1,"bg-gray-50","sticky","top-0"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-center","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-purple-50/50 cursor-pointer transition-all","title","Doble clic para ver detalles",3,"dblclick",4,"ngFor","ngForOf"],["title","Doble clic para ver detalles",1,"hover:bg-purple-50/50","cursor-pointer","transition-all",3,"dblclick"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],[1,"font-mono","text-sm","text-gray-900"],[1,"px-6","py-4"],[1,"max-w-xs"],[1,"font-medium","text-gray-900"],[1,"text-xs","text-gray-600","mt-1"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full"],[1,"px-6","py-4","whitespace-nowrap","text-center"],[3,"img"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],["title","M\xe1s acciones",1,"p-2","text-gray-400","hover:text-gray-600","rounded-full","hover:bg-gray-100","transition-colors",3,"click"],[1,"w-5","h-5",3,"img"],["class","absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",3,"click",4,"ngIf"],[1,"absolute","right-0","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","z-50",3,"click"],[1,"py-2"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","border-b","border-gray-100"],[1,"w-full","px-4","py-2","text-left","text-sm","text-gray-700","hover:bg-gray-50","flex","items-center","gap-3",3,"click"],[1,"w-4","h-4","text-gray-500",3,"img"],[1,"border-t","border-gray-100","mt-1","pt-1"],[1,"w-full","px-4","py-2","text-left","text-sm","hover:bg-gray-50","flex","items-center","gap-3",3,"click"],[1,"fixed","inset-0","z-50","overflow-y-auto",3,"click"],[1,"flex","items-center","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-2xl","sm:w-full",3,"click"],[1,"bg-purple-600","px-6","py-4","text-white"],[1,"text-lg","leading-6","font-medium"],[1,"text-purple-100","text-sm","mt-1"],[1,"p-2","hover:bg-white/20","rounded-lg","transition-colors",3,"click"],[1,"px-6","py-4","space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","placeholder","Ej: INTERACTION_CRITICAL",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","text","placeholder","Ej: Interacci\xf3n medicamentosa cr\xedtica",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"ngModelChange","ngModel"],["rows","2","placeholder","Describe el tipo de alerta...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","gap-4"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"space-y-3"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-lg"],[1,"text-sm","text-gray-600"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"ngModelChange","ngModel"],[1,"w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-purple-300","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","peer-checked:bg-purple-600"],["rows","2","placeholder","Proporciona ejemplos de cu\xe1ndo se aplica esta alerta...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"bg-gray-50","px-6","py-4","flex","gap-3"],[1,"flex-1","bg-gray-600","hover:bg-gray-700","text-white","font-medium","py-3","px-4","rounded-lg","transition-colors",3,"click"],[1,"flex-1","bg-purple-600","hover:bg-purple-700","disabled:bg-gray-300","disabled:cursor-not-allowed","text-white","font-medium","py-3","px-4","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2",3,"click","disabled"],[1,"fixed","inset-0","z-50","overflow-hidden",3,"click"],[1,"absolute","inset-0","bg-black","bg-opacity-50"],[1,"absolute","right-0","top-0","h-full","w-full","max-w-2xl","bg-white","shadow-xl","transform","transition-transform","duration-300","ease-in-out","flex","flex-col",3,"click"],[1,"bg-gradient-to-r","from-purple-600","to-purple-700","px-6","py-4","text-white","flex-shrink-0"],[1,"flex","items-center","gap-2"],[1,"text-lg","font-semibold"],[1,"flex-1","overflow-y-auto"],[1,"p-6","space-y-6"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"w-4","h-4","text-gray-600",3,"img"],[1,"text-sm","font-medium","text-gray-700"],[1,"px-3","py-1","text-xs","font-semibold","rounded-full"],[1,"flex","items-center","gap-2","mb-3"],[1,"w-5","h-5","text-gray-600",3,"img"],[1,"bg-gray-50","rounded-lg","p-4","space-y-3"],[1,"font-mono","text-sm","font-semibold","text-gray-900"],[1,"text-sm","text-gray-900"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full"],[1,"space-y-4"],[1,"flex","items-center","justify-between","p-4","bg-gray-50","rounded-lg"],[1,"font-medium","text-gray-900","mb-2"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"text-blue-800","text-sm"],[1,"grid","grid-cols-2","gap-4","text-sm"],[1,"text-gray-900"],[1,"border-t","border-gray-200","px-6","py-4","bg-gray-50","flex-shrink-0"],[1,"flex","gap-3"],[1,"flex-1","bg-purple-600","hover:bg-purple-700","text-white","font-medium","py-3","px-4","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2",3,"click"]],template:function(r,o){1&r&&(e.j41(0,"div",0),e.bIt("click",function(){return o.cerrarModalAcciones()}),e.nrm(1,"app-breadcrumbs",1),e.j41(2,"app-page-header",2)(3,"div",3)(4,"div",4)(5,"p",5),e.EFF(6,"Tipos configurados"),e.k0s(),e.j41(7,"p",6),e.EFF(8),e.k0s()()()(),e.j41(9,"div",7)(10,"div",8)(11,"div",9)(12,"div")(13,"p",10),e.EFF(14,"Total tipos"),e.k0s(),e.j41(15,"p",11),e.EFF(16),e.k0s()(),e.j41(17,"div",12),e.nrm(18,"lucide-icon",13),e.k0s()()(),e.j41(19,"div",14)(20,"div",9)(21,"div")(22,"p",10),e.EFF(23,"Activos"),e.k0s(),e.j41(24,"p",11),e.EFF(25),e.k0s()(),e.j41(26,"div",15),e.nrm(27,"lucide-icon",16),e.k0s()()(),e.j41(28,"div",17)(29,"div",9)(30,"div")(31,"p",10),e.EFF(32,"Bloquean"),e.k0s(),e.j41(33,"p",11),e.EFF(34),e.k0s()(),e.j41(35,"div",18),e.nrm(36,"lucide-icon",19),e.k0s()()(),e.j41(37,"div",20)(38,"div",9)(39,"div")(40,"p",10),e.EFF(41,"Requieren justificaci\xf3n"),e.k0s(),e.j41(42,"p",11),e.EFF(43),e.k0s()(),e.j41(44,"div",21),e.nrm(45,"lucide-icon",22),e.k0s()()()(),e.j41(46,"div",23)(47,"div",24)(48,"div",25),e.nrm(49,"lucide-icon",26),e.j41(50,"input",27),e.mxI("ngModelChange",function(p){return e.DH7(o.terminoBusqueda,p)||(o.terminoBusqueda=p),p}),e.bIt("input",function(){return o.filtrarTipos()}),e.k0s()(),e.j41(51,"select",28),e.mxI("ngModelChange",function(p){return e.DH7(o.filtroSeveridad,p)||(o.filtroSeveridad=p),p}),e.bIt("change",function(){return o.filtrarTipos()}),e.j41(52,"option",29),e.EFF(53,"Todas las severidades"),e.k0s(),e.j41(54,"option",30),e.EFF(55,"Cr\xedticas"),e.k0s(),e.j41(56,"option",31),e.EFF(57,"Altas"),e.k0s(),e.j41(58,"option",32),e.EFF(59,"Medias"),e.k0s(),e.j41(60,"option",33),e.EFF(61,"Bajas"),e.k0s()(),e.j41(62,"select",28),e.mxI("ngModelChange",function(p){return e.DH7(o.filtroComportamiento,p)||(o.filtroComportamiento=p),p}),e.bIt("change",function(){return o.filtrarTipos()}),e.j41(63,"option",29),e.EFF(64,"Todos los comportamientos"),e.k0s(),e.j41(65,"option",34),e.EFF(66,"Bloquean"),e.k0s(),e.j41(67,"option",35),e.EFF(68,"Advierten"),e.k0s(),e.j41(69,"option",36),e.EFF(70,"Informan"),e.k0s()(),e.j41(71,"select",28),e.mxI("ngModelChange",function(p){return e.DH7(o.filtroEstado,p)||(o.filtroEstado=p),p}),e.bIt("change",function(){return o.filtrarTipos()}),e.j41(72,"option",29),e.EFF(73,"Todos los estados"),e.k0s(),e.j41(74,"option",37),e.EFF(75,"Activos"),e.k0s(),e.j41(76,"option",38),e.EFF(77,"Inactivos"),e.k0s()()(),e.DNE(78,j,4,1,"div",39),e.k0s(),e.j41(79,"div",40)(80,"div",41)(81,"div",9)(82,"div",42)(83,"div",43),e.nrm(84,"lucide-icon",44),e.k0s(),e.j41(85,"div")(86,"h3",45),e.EFF(87,"Tipos de Alertas Configurados"),e.k0s(),e.j41(88,"p",46),e.EFF(89),e.k0s()()(),e.j41(90,"div",47)(91,"button",48),e.nrm(92,"lucide-icon",49),e.EFF(93," Exportar "),e.k0s()()()(),e.DNE(94,d,6,1,"div",50)(95,l,24,1,"div",51),e.k0s(),e.j41(96,"div",52)(97,"div",53)(98,"div",54),e.nrm(99,"lucide-icon",44),e.k0s(),e.j41(100,"div")(101,"h4",55),e.EFF(102,"Configuraci\xf3n de Tipos de Alertas"),e.k0s(),e.j41(103,"ul",56)(104,"li"),e.EFF(105,"\u2022 "),e.j41(106,"strong"),e.EFF(107,"Bloquear:"),e.k0s(),e.EFF(108," Impide continuar hasta resolver la alerta"),e.k0s(),e.j41(109,"li"),e.EFF(110,"\u2022 "),e.j41(111,"strong"),e.EFF(112,"Advertir:"),e.k0s(),e.EFF(113," Muestra advertencia pero permite continuar"),e.k0s(),e.j41(114,"li"),e.EFF(115,"\u2022 "),e.j41(116,"strong"),e.EFF(117,"Informar:"),e.k0s(),e.EFF(118," Solo muestra informaci\xf3n sin interrumpir el flujo"),e.k0s(),e.j41(119,"li"),e.EFF(120,"\u2022 Los cambios en la configuraci\xf3n afectan inmediatamente a nuevas prescripciones"),e.k0s()()()()()(),e.DNE(121,m,98,13,"div",57)(122,g,112,33,"div",58),e.j41(123,"app-role-suggestion-modal",59),e.bIt("dismiss",function(){return o.onRoleSuggestionDismiss()})("roleChanged",function(){return o.onRoleChanged()}),e.k0s()),2&r&&(e.R7$(),e.Y8G("items",o.breadcrumbItems),e.R7$(),e.Y8G("icon",o.settingsIcon)("actionButton",!0),e.R7$(6),e.JRh(o.tiposAlertas.length),e.R7$(8),e.JRh(o.stats.total),e.R7$(2),e.Y8G("img",o.settingsIcon),e.R7$(7),e.JRh(o.stats.active),e.R7$(2),e.Y8G("img",o.checkCircle2Icon),e.R7$(7),e.JRh(o.stats.blocking),e.R7$(2),e.Y8G("img",o.banIcon),e.R7$(7),e.JRh(o.stats.requireJustification),e.R7$(2),e.Y8G("img",o.fileTextIcon),e.R7$(4),e.Y8G("img",o.searchIcon),e.R7$(),e.R50("ngModel",o.terminoBusqueda),e.R7$(),e.R50("ngModel",o.filtroSeveridad),e.R7$(11),e.R50("ngModel",o.filtroComportamiento),e.R7$(9),e.R50("ngModel",o.filtroEstado),e.R7$(7),e.Y8G("ngIf",o.hayFiltrosActivos()),e.R7$(6),e.Y8G("img",o.settingsIcon),e.R7$(5),e.E5c(" ",o.tiposFiltrados.length," tipo",1!==o.tiposFiltrados.length?"s":""," encontrado",1!==o.tiposFiltrados.length?"s":""," \u2022 Doble clic para ver detalles "),e.R7$(3),e.Y8G("img",o.downloadIcon),e.R7$(2),e.Y8G("ngIf",0===o.tiposFiltrados.length),e.R7$(),e.Y8G("ngIf",o.tiposFiltrados.length>0),e.R7$(4),e.Y8G("img",o.infoIcon),e.R7$(22),e.Y8G("ngIf",o.modalEditarTipoAbierto),e.R7$(),e.Y8G("ngIf",o.tipoSeleccionado),e.R7$(),e.Y8G("isOpen",o.showRoleSuggestionModal())("suggestedRole","M\xe9dico")("pageName","alertas-configuracion"))},dependencies:[f.MD,f.Sq,f.bT,i.YN,i.xH,i.y7,i.me,i.Zm,i.wz,i.BC,i.vS,n.flO,n.WGl,x.m,E.y,F.t],encapsulation:2})}}return s})()}}]);