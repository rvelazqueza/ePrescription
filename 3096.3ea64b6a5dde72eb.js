"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[3096],{3096:(b,g,a)=>{a.r(g),a.d(g,{EventosHl7Component:()=>c});var h=a(4523),v=a(177),r=a(4341),n=a(8516),m=a(8961),e=a(4438);function p(s,l){if(1&s&&(e.j41(0,"tr")(1,"td",52),e.EFF(2),e.k0s(),e.j41(3,"td",53)(4,"div")(5,"p",54),e.EFF(6),e.k0s(),e.j41(7,"p",55),e.EFF(8),e.k0s()()(),e.j41(9,"td",53)(10,"div",56)(11,"p"),e.EFF(12),e.k0s(),e.j41(13,"p",57),e.EFF(14),e.k0s()()(),e.j41(15,"td",58)(16,"span"),e.EFF(17),e.k0s()(),e.j41(18,"td",59)(19,"div",60)(20,"span",61),e.EFF(21),e.k0s(),e.j41(22,"span"),e.EFF(23,"\u2192"),e.k0s(),e.j41(24,"span",61),e.EFF(25),e.k0s()()(),e.j41(26,"td",62),e.EFF(27),e.k0s(),e.j41(28,"td",63),e.EFF(29),e.k0s(),e.j41(30,"td",58)(31,"span",64),e.EFF(32),e.k0s()(),e.j41(33,"td",58)(34,"span"),e.EFF(35),e.k0s()()()),2&s){const t=l.$implicit;e.R7$(2),e.JRh(t.timestamp),e.R7$(4),e.JRh(t.eventLabel),e.R7$(2),e.JRh(t.eventType),e.R7$(4),e.JRh(t.patientName),e.R7$(2),e.JRh(t.patientId),e.R7$(2),e.HbH("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("inbound"===t.direction?"bg-blue-100 text-blue-700 border border-blue-300":"bg-green-100 text-green-700 border border-green-300")),e.R7$(),e.SpI(" ","inbound"===t.direction?"Entrante":"Saliente"," "),e.R7$(4),e.JRh(t.sendingApp),e.R7$(4),e.JRh(t.receivingApp),e.R7$(2),e.JRh(t.messageId),e.R7$(2),e.JRh(t.messageSize),e.R7$(3),e.SpI(" ",t.processingTime," "),e.R7$(2),e.HbH("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("processed"===t.status?"bg-green-100 text-green-700 border border-green-300":"bg-red-100 text-red-700 border border-red-300")),e.R7$(),e.SpI(" ","processed"===t.status?"Procesado":"Error"," ")}}let c=(()=>{class s{constructor(){this.activityIcon=n.Ilq,this.networkIcon=n.lgv,this.alertIcon=n.hcu,this.checkIcon=n.Jly,this.searchIcon=n.vji,this.refreshIcon=n.e9t,this.inboxIcon=n.bOv,this.sendIcon=n.Vnp,this.clockIcon=n.zD7,this.infoIcon=n.R2D,this.searchTerm="",this.directionFilter="all",this.statusFilter="all",this.isRefreshing=!1,this.breadcrumbItems=[{label:"Interoperabilidad",route:"/interop"},{label:"Registro HL7 Eventos"}],this.mockHL7Events=[{id:"HL7-001",timestamp:"2024-10-01 14:35:22",eventType:"ADT^A01",eventLabel:"Admisi\xf3n de paciente",messageId:"MSG-2024-10-01-001",patientId:"PAT-0012",patientName:"Mar\xeda Gonz\xe1lez",facility:"Hospital General Central",sendingApp:"HIS Sistema",receivingApp:"ePrescription",status:"processed",direction:"inbound",messageSize:"2.4 KB",processingTime:"45 ms"},{id:"HL7-002",timestamp:"2024-10-01 14:28:15",eventType:"ORM^O01",eventLabel:"Nueva orden m\xe9dica",messageId:"MSG-2024-10-01-002",patientId:"PAT-0045",patientName:"Carlos Ram\xedrez",facility:"Hospital General Central",sendingApp:"ePrescription",receivingApp:"Sistema Farmacia",status:"processed",direction:"outbound",messageSize:"3.2 KB",processingTime:"52 ms"},{id:"HL7-003",timestamp:"2024-10-01 13:45:08",eventType:"ORU^R01",eventLabel:"Resultado de laboratorio",messageId:"MSG-2024-10-01-003",patientId:"PAT-0089",patientName:"Ana Herrera",facility:"Laboratorio Central",sendingApp:"LIS Sistema",receivingApp:"ePrescription",status:"processed",direction:"inbound",messageSize:"5.6 KB",processingTime:"78 ms"},{id:"HL7-004",timestamp:"2024-10-01 12:30:45",eventType:"ADT^A08",eventLabel:"Actualizaci\xf3n de paciente",messageId:"MSG-2024-10-01-004",patientId:"PAT-0067",patientName:"Roberto S\xe1nchez",facility:"Hospital General Central",sendingApp:"HIS Sistema",receivingApp:"ePrescription",status:"processed",direction:"inbound",messageSize:"2.1 KB",processingTime:"38 ms"},{id:"HL7-005",timestamp:"2024-10-01 11:15:30",eventType:"RDE^O11",eventLabel:"Codificaci\xf3n de farmacia",messageId:"MSG-2024-10-01-005",patientId:"PAT-0123",patientName:"Elena Mart\xednez",facility:"Farmacia Central",sendingApp:"Sistema Farmacia",receivingApp:"ePrescription",status:"error",direction:"inbound",messageSize:"4.8 KB",processingTime:"125 ms"}]}get filteredEvents(){return this.mockHL7Events.filter(t=>(t.patientName.toLowerCase().includes(this.searchTerm.toLowerCase())||t.messageId.toLowerCase().includes(this.searchTerm.toLowerCase())||t.eventLabel.toLowerCase().includes(this.searchTerm.toLowerCase()))&&("all"===this.directionFilter||t.direction===this.directionFilter)&&("all"===this.statusFilter||t.status===this.statusFilter))}get stats(){return{total:this.mockHL7Events.length,inbound:this.mockHL7Events.filter(t=>"inbound"===t.direction).length,outbound:this.mockHL7Events.filter(t=>"outbound"===t.direction).length,errors:this.mockHL7Events.filter(t=>"error"===t.status).length,avgProcessingTime:"60 ms"}}handleRefresh(){var t=this;return(0,h.A)(function*(){t.isRefreshing=!0,yield new Promise(d=>setTimeout(d,1500)),console.log("Eventos HL7 actualizados"),t.isRefreshing=!1})()}static{this.\u0275fac=function(d){return new(d||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-eventos-hl7"]],standalone:!0,features:[e.aNF],decls:125,vars:26,consts:[["title","Registro HL7 Eventos","description","Monitoreo de mensajes HL7 v2.x entrantes y salientes","headerGradient","from-indigo-600 via-purple-500 to-pink-600",3,"icon","breadcrumbItems"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-indigo-500"],[1,"p-6"],[1,"flex","items-center","justify-between"],[1,"space-y-1","flex-1"],[1,"text-sm","text-gray-600"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-3","bg-indigo-100","rounded-xl"],[1,"w-8","h-8","text-indigo-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-blue-500"],[1,"p-3","bg-blue-100","rounded-xl"],[1,"w-8","h-8","text-blue-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-green-500"],[1,"p-3","bg-green-100","rounded-xl"],[1,"w-8","h-8","text-green-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-red-500"],[1,"p-3","bg-red-100","rounded-xl"],[1,"w-8","h-8","text-red-600",3,"img"],[1,"bg-white","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","cursor-pointer","border-l-4","border-l-purple-500"],[1,"p-3","bg-purple-100","rounded-xl"],[1,"w-8","h-8","text-purple-600",3,"img"],[1,"bg-white","rounded-lg","shadow"],[1,"flex","gap-4"],[1,"flex-1","relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-4","h-4","text-gray-400",3,"img"],["type","text","placeholder","Buscar por paciente, mensaje o evento...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["value","all"],["value","inbound"],["value","outbound"],["value","processed"],["value","error"],[1,"p-6","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"flex","items-center","gap-2","px-4","py-2","border","border-gray-300","rounded-lg","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[3,"img"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase"],[1,"divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"bg-indigo-50","border","border-indigo-200","rounded-lg"],[1,"p-4"],[1,"flex","items-start","gap-3"],[1,"w-5","h-5","text-indigo-600","flex-shrink-0","mt-0.5",3,"img"],[1,"font-medium","text-indigo-900","mb-1"],[1,"space-y-1","text-sm","text-indigo-700"],[1,"flex","items-start","gap-2"],[1,"w-4","h-4","mt-0.5","flex-shrink-0",3,"img"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4"],[1,"font-medium","text-sm"],[1,"text-xs","text-gray-600","font-mono"],[1,"text-sm"],[1,"text-gray-600","font-mono","text-xs"],[1,"px-6","py-4","whitespace-nowrap"],[1,"px-6","py-4","text-xs"],[1,"flex","items-center","gap-1"],[1,"truncate","max-w-24"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-mono"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-purple-100","text-purple-700","border","border-purple-300"]],template:function(d,i){1&d&&(e.j41(0,"app-page-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"p",7),e.EFF(8,"Total mensajes"),e.k0s(),e.j41(9,"p",8),e.EFF(10),e.k0s()(),e.j41(11,"div",9),e.nrm(12,"lucide-icon",10),e.k0s()()()(),e.j41(13,"div",11)(14,"div",4)(15,"div",5)(16,"div",6)(17,"p",7),e.EFF(18,"Entrantes"),e.k0s(),e.j41(19,"p",8),e.EFF(20),e.k0s()(),e.j41(21,"div",12),e.nrm(22,"lucide-icon",13),e.k0s()()()(),e.j41(23,"div",14)(24,"div",4)(25,"div",5)(26,"div",6)(27,"p",7),e.EFF(28,"Salientes"),e.k0s(),e.j41(29,"p",8),e.EFF(30),e.k0s()(),e.j41(31,"div",15),e.nrm(32,"lucide-icon",16),e.k0s()()()(),e.j41(33,"div",17)(34,"div",4)(35,"div",5)(36,"div",6)(37,"p",7),e.EFF(38,"Errores"),e.k0s(),e.j41(39,"p",8),e.EFF(40),e.k0s()(),e.j41(41,"div",18),e.nrm(42,"lucide-icon",19),e.k0s()()()(),e.j41(43,"div",20)(44,"div",4)(45,"div",5)(46,"div",6)(47,"p",7),e.EFF(48,"Tiempo prom."),e.k0s(),e.j41(49,"p",8),e.EFF(50),e.k0s()(),e.j41(51,"div",21),e.nrm(52,"lucide-icon",22),e.k0s()()()()(),e.j41(53,"div",23)(54,"div",4)(55,"div",24)(56,"div",25),e.nrm(57,"lucide-icon",26),e.j41(58,"input",27),e.mxI("ngModelChange",function(o){return e.DH7(i.searchTerm,o)||(i.searchTerm=o),o}),e.k0s()(),e.j41(59,"select",28),e.mxI("ngModelChange",function(o){return e.DH7(i.directionFilter,o)||(i.directionFilter=o),o}),e.j41(60,"option",29),e.EFF(61,"Todas las direcciones"),e.k0s(),e.j41(62,"option",30),e.EFF(63,"Entrantes"),e.k0s(),e.j41(64,"option",31),e.EFF(65,"Salientes"),e.k0s()(),e.j41(66,"select",28),e.mxI("ngModelChange",function(o){return e.DH7(i.statusFilter,o)||(i.statusFilter=o),o}),e.j41(67,"option",29),e.EFF(68,"Todos"),e.k0s(),e.j41(69,"option",32),e.EFF(70,"Procesados"),e.k0s(),e.j41(71,"option",33),e.EFF(72,"Errores"),e.k0s()()()()(),e.j41(73,"div",23)(74,"div",34)(75,"div",5)(76,"h2",35),e.EFF(77,"Log de Mensajes HL7"),e.k0s(),e.j41(78,"button",36),e.bIt("click",function(){return i.handleRefresh()}),e.nrm(79,"lucide-icon",37),e.EFF(80),e.k0s()()(),e.j41(81,"div",38)(82,"table",39)(83,"thead",40)(84,"tr")(85,"th",41),e.EFF(86,"Timestamp"),e.k0s(),e.j41(87,"th",41),e.EFF(88,"Evento"),e.k0s(),e.j41(89,"th",41),e.EFF(90,"Paciente"),e.k0s(),e.j41(91,"th",41),e.EFF(92,"Direcci\xf3n"),e.k0s(),e.j41(93,"th",41),e.EFF(94,"Origen \u2192 Destino"),e.k0s(),e.j41(95,"th",41),e.EFF(96,"ID Mensaje"),e.k0s(),e.j41(97,"th",41),e.EFF(98,"Tama\xf1o"),e.k0s(),e.j41(99,"th",41),e.EFF(100,"Tiempo"),e.k0s(),e.j41(101,"th",41),e.EFF(102,"Estado"),e.k0s()()(),e.j41(103,"tbody",42),e.DNE(104,p,36,16,"tr",43),e.k0s()()()(),e.j41(105,"div",44)(106,"div",45)(107,"div",46),e.nrm(108,"lucide-icon",47),e.j41(109,"div")(110,"h4",48),e.EFF(111,"Protocolo HL7 v2.x"),e.k0s(),e.j41(112,"ul",49)(113,"li",50),e.nrm(114,"lucide-icon",51),e.j41(115,"span"),e.EFF(116,"Mensajer\xeda est\xe1ndar para intercambio de informaci\xf3n cl\xednica"),e.k0s()(),e.j41(117,"li",50),e.nrm(118,"lucide-icon",51),e.j41(119,"span"),e.EFF(120,"Soporta: ADT (admisiones), ORM (\xf3rdenes), ORU (resultados), RDE (farmacia)"),e.k0s()(),e.j41(121,"li",50),e.nrm(122,"lucide-icon",51),e.j41(123,"span"),e.EFF(124,"Integraci\xf3n bidireccional con sistemas HIS, LIS y RIS"),e.k0s()()()()()()()()()),2&d&&(e.Y8G("icon",i.activityIcon)("breadcrumbItems",i.breadcrumbItems),e.R7$(10),e.JRh(i.stats.total),e.R7$(2),e.Y8G("img",i.activityIcon),e.R7$(8),e.JRh(i.stats.inbound),e.R7$(2),e.Y8G("img",i.inboxIcon),e.R7$(8),e.JRh(i.stats.outbound),e.R7$(2),e.Y8G("img",i.sendIcon),e.R7$(8),e.JRh(i.stats.errors),e.R7$(2),e.Y8G("img",i.alertIcon),e.R7$(8),e.JRh(i.stats.avgProcessingTime),e.R7$(2),e.Y8G("img",i.clockIcon),e.R7$(5),e.Y8G("img",i.searchIcon),e.R7$(),e.R50("ngModel",i.searchTerm),e.R7$(),e.R50("ngModel",i.directionFilter),e.R7$(7),e.R50("ngModel",i.statusFilter),e.R7$(12),e.Y8G("disabled",i.isRefreshing),e.R7$(),e.HbH("w-4 h-4 "+(i.isRefreshing?"animate-spin":"")),e.Y8G("img",i.refreshIcon),e.R7$(),e.SpI(" ",i.isRefreshing?"Actualizando...":"Actualizar"," "),e.R7$(24),e.Y8G("ngForOf",i.filteredEvents),e.R7$(4),e.Y8G("img",i.infoIcon),e.R7$(6),e.Y8G("img",i.checkIcon),e.R7$(4),e.Y8G("img",i.checkIcon),e.R7$(4),e.Y8G("img",i.checkIcon))},dependencies:[v.MD,v.Sq,r.YN,r.xH,r.y7,r.me,r.wz,r.BC,r.vS,n.flO,n.WGl,m.J],encapsulation:2})}}return s})()},4523:(b,g,a)=>{function h(r,n,m,e,p,c,s){try{var l=r[c](s),t=l.value}catch(d){return void m(d)}l.done?n(t):Promise.resolve(t).then(e,p)}function v(r){return function(){var n=this,m=arguments;return new Promise(function(e,p){var c=r.apply(n,m);function s(t){h(c,e,p,s,l,"next",t)}function l(t){h(c,e,p,s,l,"throw",t)}s(void 0)})}}a.d(g,{A:()=>v})}}]);