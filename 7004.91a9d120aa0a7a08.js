"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[7004],{8777:(X,j,s)=>{s.d(j,{m:()=>E});var e=s(177),F=s(6283),l=s(8516),o=s(4438);function R(c,h){if(1&c&&o.nrm(0,"lucide-icon",4),2&c){const p=o.XpG(2).$implicit;o.Y8G("img",p.icon)}}function f(c,h){if(1&c&&(o.j41(0,"a",9),o.DNE(1,R,1,1,"lucide-icon",10),o.EFF(2),o.k0s()),2&c){const p=o.XpG().$implicit;o.Y8G("routerLink",p.route),o.R7$(),o.Y8G("ngIf",p.icon),o.R7$(),o.SpI(" ",p.label," ")}}function C(c,h){if(1&c&&o.nrm(0,"lucide-icon",4),2&c){const p=o.XpG(2).$implicit;o.Y8G("img",p.icon)}}function y(c,h){if(1&c&&(o.j41(0,"span",11),o.DNE(1,C,1,1,"lucide-icon",10),o.EFF(2),o.k0s()),2&c){const p=o.XpG(),u=p.$implicit;o.BMQ("aria-current",p.last?"page":null),o.R7$(),o.Y8G("ngIf",u.icon),o.R7$(),o.SpI(" ",u.label," ")}}function m(c,h){if(1&c&&(o.j41(0,"li",2),o.nrm(1,"lucide-icon",6),o.DNE(2,f,3,3,"a",7)(3,y,3,3,"span",8),o.k0s()),2&c){const p=h.$implicit,u=h.last,P=o.XpG();o.R7$(),o.Y8G("img",P.chevronRightIcon),o.R7$(),o.Y8G("ngIf",p.route&&!u),o.R7$(),o.Y8G("ngIf",!p.route||u)}}let E=(()=>{class c{constructor(){this.items=[],this.homeIcon=l.ww0,this.chevronRightIcon=l.c_$}static{this.\u0275fac=function(u){return new(u||c)}}static{this.\u0275cmp=o.VBU({type:c,selectors:[["app-breadcrumbs"]],inputs:{items:"items"},standalone:!0,features:[o.aNF],decls:7,vars:2,consts:[["aria-label","Breadcrumb",1,"fixed","left-64","right-0","z-30","bg-gray-50","border-b","border-gray-200","px-6","py-3",2,"top","93px"],[1,"inline-flex","items-center","space-x-1","md:space-x-3"],[1,"inline-flex","items-center"],["routerLink","/dashboard",1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors"],["aria-hidden","true",1,"w-4","h-4","mr-2",3,"img"],["class","inline-flex items-center",4,"ngFor","ngForOf"],["aria-hidden","true",1,"w-4","h-4","text-gray-400","mx-1",3,"img"],["class","inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors",3,"routerLink",4,"ngIf"],["class","inline-flex items-center text-sm font-medium text-gray-500",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors",3,"routerLink"],["class","w-4 h-4 mr-2","aria-hidden","true",3,"img",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-500"]],template:function(u,P){1&u&&(o.j41(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),o.nrm(4,"lucide-icon",4),o.EFF(5," Inicio "),o.k0s()(),o.DNE(6,m,4,3,"li",5),o.k0s()()),2&u&&(o.R7$(4),o.Y8G("img",P.homeIcon),o.R7$(2),o.Y8G("ngForOf",P.items))},dependencies:[e.MD,e.Sq,e.bT,F.iI,F.Wk,l.flO,l.WGl],encapsulation:2})}}return c})()},7004:(X,j,s)=>{s.r(j),s.d(j,{ListaPacientesComponent:()=>ve});var e=s(4438),F=s(177),l=s(4341),o=s(8516),R=s(1413),f=s(8359),C=s(152),y=s(3294),m=s(6977),E=s(7865),c=s(2193),h=s(8777),p=s(3711),u=s(6283),P=s(1822),J=s(2957);function K(a,d){if(1&a&&(e.j41(0,"div")(1,"div",56)(2,"h3",57),e.EFF(3,"B\xfasqueda R\xe1pida"),e.k0s(),e.j41(4,"p",58),e.EFF(5,"Busca pacientes por nombre, identificaci\xf3n, tel\xe9fono o email"),e.k0s(),e.j41(6,"form",59)(7,"div",60),e.nrm(8,"lucide-icon",61)(9,"input",62),e.k0s(),e.j41(10,"button",63),e.nrm(11,"lucide-icon",49),e.EFF(12," Buscar "),e.k0s()()()()),2&a){const t=e.XpG();e.R7$(6),e.Y8G("formGroup",t.quickSearchForm),e.R7$(2),e.Y8G("img",t.searchIcon),e.R7$(3),e.Y8G("img",t.searchIcon)}}function H(a,d){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"div",56)(2,"h3",57),e.EFF(3,"B\xfasqueda Avanzada"),e.k0s(),e.j41(4,"p",58),e.EFF(5,"Usa m\xfaltiples criterios para encontrar pacientes espec\xedficos"),e.k0s(),e.j41(6,"form",64)(7,"div")(8,"label",65),e.EFF(9,"Nombre del paciente"),e.k0s(),e.nrm(10,"input",66),e.k0s(),e.j41(11,"div")(12,"label",65),e.EFF(13,"Identificaci\xf3n"),e.k0s(),e.nrm(14,"input",67),e.k0s(),e.j41(15,"div")(16,"label",65),e.EFF(17,"Sexo"),e.k0s(),e.j41(18,"select",68)(19,"option",69),e.EFF(20,"Todos"),e.k0s(),e.j41(21,"option",70),e.EFF(22,"Masculino"),e.k0s(),e.j41(23,"option",71),e.EFF(24,"Femenino"),e.k0s()()(),e.j41(25,"div")(26,"label",65),e.EFF(27,"Estado"),e.k0s(),e.j41(28,"select",72)(29,"option",69),e.EFF(30,"Todos los estados"),e.k0s(),e.j41(31,"option",73),e.EFF(32,"Activo"),e.k0s(),e.j41(33,"option",74),e.EFF(34,"Inactivo"),e.k0s()()(),e.j41(35,"div")(36,"label",65),e.EFF(37,"Edad desde"),e.k0s(),e.nrm(38,"input",75),e.k0s(),e.j41(39,"div")(40,"label",65),e.EFF(41,"Edad hasta"),e.k0s(),e.nrm(42,"input",76),e.k0s(),e.j41(43,"div")(44,"label",65),e.EFF(45,"Alergias"),e.k0s(),e.j41(46,"select",77)(47,"option",69),e.EFF(48,"Todos"),e.k0s(),e.j41(49,"option",78),e.EFF(50,"Con alergias"),e.k0s(),e.j41(51,"option",79),e.EFF(52,"Sin alergias"),e.k0s()()(),e.j41(53,"div")(54,"label",65),e.EFF(55,"Condiciones cr\xf3nicas"),e.k0s(),e.j41(56,"select",80)(57,"option",69),e.EFF(58,"Todos"),e.k0s(),e.j41(59,"option",81),e.EFF(60,"Con condiciones"),e.k0s(),e.j41(61,"option",82),e.EFF(62,"Sin condiciones"),e.k0s()()()(),e.j41(63,"div",83)(64,"button",84),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.performAdvancedSearch())}),e.nrm(65,"lucide-icon",49),e.EFF(66," Buscar con filtros "),e.k0s(),e.j41(67,"button",85),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.clearAdvancedFilters())}),e.nrm(68,"lucide-icon",49),e.EFF(69," Limpiar filtros "),e.k0s()()()()}if(2&a){const t=e.XpG();e.R7$(6),e.Y8G("formGroup",t.advancedSearchForm),e.R7$(59),e.Y8G("img",t.filterIcon),e.R7$(3),e.Y8G("img",t.xIcon)}}function q(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",86),e.bIt("click",function(i){return e.eBV(t),e.Njj(i.stopPropagation())}),e.j41(1,"div",87)(2,"h4",88),e.EFF(3,"Exportar datos a:"),e.k0s(),e.j41(4,"div",89)(5,"button",90),e.bIt("click",function(i){return e.eBV(t),e.XpG().exportToPDF(),e.Njj(i.stopPropagation())}),e.j41(6,"div",91),e.nrm(7,"lucide-icon",92),e.k0s(),e.j41(8,"span",93),e.EFF(9,"PDF"),e.k0s()(),e.j41(10,"button",90),e.bIt("click",function(i){return e.eBV(t),e.XpG().exportToCSV(),e.Njj(i.stopPropagation())}),e.j41(11,"div",94),e.nrm(12,"lucide-icon",95),e.k0s(),e.j41(13,"span",93),e.EFF(14,"CSV"),e.k0s()(),e.j41(15,"button",90),e.bIt("click",function(i){return e.eBV(t),e.XpG().exportToExcel(),e.Njj(i.stopPropagation())}),e.j41(16,"div",96),e.nrm(17,"lucide-icon",97),e.k0s(),e.j41(18,"span",93),e.EFF(19,"Excel"),e.k0s()()()()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("img",t.fileTextIcon),e.R7$(5),e.Y8G("img",t.fileTextIcon),e.R7$(5),e.Y8G("img",t.fileTextIcon)}}function Q(a,d){1&a&&(e.j41(0,"div",98),e.nrm(1,"div",99),e.j41(2,"p",100),e.EFF(3,"Cargando pacientes..."),e.k0s()())}function Z(a,d){if(1&a&&(e.j41(0,"div",126),e.nrm(1,"lucide-icon",117),e.EFF(2),e.k0s()),2&a){const t=e.XpG().$implicit,n=e.XpG(2);e.R7$(),e.Y8G("img",n.mailIcon),e.R7$(),e.SpI(" ",t.email," ")}}function ee(a,d){if(1&a&&(e.j41(0,"span",127),e.nrm(1,"lucide-icon",128),e.EFF(2),e.k0s()),2&a){const t=e.XpG().$implicit,n=e.XpG(2);e.R7$(),e.Y8G("img",n.alertIcon),e.R7$(),e.SpI(" ",t.allergies.length," alergia(s) ")}}function te(a,d){if(1&a&&(e.j41(0,"span",129),e.nrm(1,"lucide-icon",128),e.EFF(2),e.k0s()),2&a){const t=e.XpG().$implicit,n=e.XpG(2);e.R7$(),e.Y8G("img",n.heartIcon),e.R7$(),e.SpI(" ",t.chronicConditions.length," condici\xf3n(es) ")}}function ie(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",130),e.bIt("click",function(i){return e.eBV(t),e.Njj(i.stopPropagation())}),e.j41(1,"div",131)(2,"div",132),e.EFF(3," Acciones "),e.k0s(),e.j41(4,"button",133),e.bIt("click",function(i){e.eBV(t);const r=e.XpG().$implicit,g=e.XpG(2);return g.viewPatient(r),g.cerrarModalAcciones(),e.Njj(i.stopPropagation())}),e.nrm(5,"lucide-icon",134),e.EFF(6," Ver detalles "),e.k0s(),e.j41(7,"button",133),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG(2);return r.editPatient(i),e.Njj(r.cerrarModalAcciones())}),e.nrm(8,"lucide-icon",134),e.EFF(9," Editar paciente "),e.k0s(),e.j41(10,"button",133),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return i.exportPatients(),e.Njj(i.cerrarModalAcciones())}),e.nrm(11,"lucide-icon",134),e.EFF(12," Exportar datos "),e.k0s(),e.j41(13,"button",133),e.bIt("click",function(i){e.eBV(t);const r=e.XpG(3);return r.createNewPatient(),r.cerrarModalAcciones(),e.Njj(i.stopPropagation())}),e.nrm(14,"lucide-icon",134),e.EFF(15," Ver historial "),e.k0s()()()}if(2&a){const t=e.XpG(3);e.R7$(5),e.Y8G("img",t.eyeIcon),e.R7$(3),e.Y8G("img",t.editIcon),e.R7$(3),e.Y8G("img",t.downloadIcon),e.R7$(3),e.Y8G("img",t.fileTextIcon)}}function ne(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr",107),e.bIt("dblclick",function(){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.viewPatient(i))}),e.j41(1,"td",108)(2,"div",109)(3,"div",110)(4,"div",111),e.nrm(5,"lucide-icon",112),e.k0s()(),e.j41(6,"div",113)(7,"div",93),e.EFF(8),e.k0s(),e.j41(9,"div",114),e.EFF(10),e.k0s()()()(),e.j41(11,"td",108)(12,"div",115),e.EFF(13),e.k0s(),e.j41(14,"div",114),e.EFF(15),e.k0s()(),e.j41(16,"td",108)(17,"div",116),e.nrm(18,"lucide-icon",117),e.EFF(19),e.k0s(),e.DNE(20,Z,3,2,"div",118),e.k0s(),e.j41(21,"td",108)(22,"div",115),e.EFF(23),e.k0s(),e.j41(24,"div",114),e.EFF(25),e.k0s()(),e.j41(26,"td",108)(27,"div",119),e.DNE(28,ee,3,2,"span",120)(29,te,3,2,"span",121),e.k0s()(),e.j41(30,"td",108)(31,"div",115),e.EFF(32),e.k0s(),e.j41(33,"div",114),e.EFF(34),e.k0s()(),e.j41(35,"td",108)(36,"span"),e.EFF(37),e.k0s()(),e.j41(38,"td",122)(39,"div",47)(40,"button",123),e.bIt("click",function(i){const r=e.eBV(t).$implicit;return e.XpG(2).toggleAccionesModal(r.id),e.Njj(i.stopPropagation())}),e.nrm(41,"lucide-icon",124),e.k0s(),e.DNE(42,ie,16,4,"div",125),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG(2);e.R7$(5),e.Y8G("img",n.usersIcon),e.R7$(3),e.JRh(t.fullName),e.R7$(2),e.JRh(t.city||"Sin ciudad"),e.R7$(3),e.Lme("",t.idType," ",t.idNumber,""),e.R7$(2),e.JRh(t.bloodType||"N/A"),e.R7$(3),e.Y8G("img",n.phoneIcon),e.R7$(),e.SpI(" ",t.phone," "),e.R7$(),e.Y8G("ngIf",t.email),e.R7$(3),e.SpI("",t.age," a\xf1os"),e.R7$(2),e.JRh(n.getGenderLabel(t.gender)),e.R7$(3),e.Y8G("ngIf",t.allergies.length>0),e.R7$(),e.Y8G("ngIf",t.chronicConditions.length>0),e.R7$(3),e.JRh(n.getPrescriptionCount(t.id)),e.R7$(2),e.SpI("",t.currentMedications.length," activa(s)"),e.R7$(2),e.HbH("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+n.getStatusClass(t.status)),e.R7$(),e.SpI(" ",n.getStatusLabel(t.status)," "),e.R7$(4),e.Y8G("img",n.moreVerticalIcon),e.R7$(),e.Y8G("ngIf",n.modalAccionesAbierto===t.id)}}function oe(a,d){if(1&a&&(e.j41(0,"div",98),e.nrm(1,"lucide-icon",135),e.j41(2,"h3",57),e.EFF(3,"No se encontraron pacientes"),e.k0s(),e.j41(4,"p",136),e.EFF(5,"Intenta ajustar los criterios de b\xfasqueda o crear un nuevo paciente."),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("img",t.usersIcon)}}function ae(a,d){if(1&a&&(e.j41(0,"div",101)(1,"table",102)(2,"thead",103)(3,"tr")(4,"th",104),e.EFF(5,"Paciente"),e.k0s(),e.j41(6,"th",104),e.EFF(7,"Identificaci\xf3n"),e.k0s(),e.j41(8,"th",104),e.EFF(9,"Contacto"),e.k0s(),e.j41(10,"th",104),e.EFF(11,"Edad/Sexo"),e.k0s(),e.j41(12,"th",104),e.EFF(13,"Alertas"),e.k0s(),e.j41(14,"th",104),e.EFF(15,"Recetas"),e.k0s(),e.j41(16,"th",104),e.EFF(17,"Estado"),e.k0s(),e.j41(18,"th",104),e.EFF(19,"Acciones"),e.k0s()()(),e.j41(20,"tbody",105),e.DNE(21,ne,43,20,"tr",106),e.k0s()(),e.DNE(22,oe,6,1,"div",52),e.k0s()),2&a){const t=e.XpG();e.R7$(21),e.Y8G("ngForOf",t.paginatedPatients),e.R7$(),e.Y8G("ngIf",0===t.filteredPatients.length)}}function re(a,d){if(1&a){const t=e.RV6();e.j41(0,"button",143),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.goToPage(i))}),e.EFF(1),e.k0s()}if(2&a){const t=d.$implicit,n=e.XpG(2);e.HbH(t===n.currentPage?"px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-blue-600 rounded-md":"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50"),e.R7$(),e.SpI(" ",t," ")}}function se(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",137)(1,"div",4)(2,"div",138),e.EFF(3),e.k0s(),e.j41(4,"div",139)(5,"button",140),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.goToPage(i.currentPage-1))}),e.nrm(6,"lucide-icon",49),e.EFF(7," Anterior "),e.k0s(),e.j41(8,"div",141),e.DNE(9,re,2,3,"button",142),e.k0s(),e.j41(10,"button",140),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.goToPage(i.currentPage+1))}),e.EFF(11," Siguiente "),e.nrm(12,"lucide-icon",49),e.k0s()()()()}if(2&a){const t=e.XpG();e.R7$(3),e.E5c(" Mostrando ",(t.currentPage-1)*t.pageSize+1," a ",t.Math.min(t.currentPage*t.pageSize,t.filteredPatients.length)," de ",t.filteredPatients.length," pacientes "),e.R7$(2),e.Y8G("disabled",1===t.currentPage),e.R7$(),e.Y8G("img",t.chevronLeftIcon),e.R7$(3),e.Y8G("ngForOf",t.pageNumbers),e.R7$(),e.Y8G("disabled",t.currentPage===t.totalPages),e.R7$(2),e.Y8G("img",t.chevronRightIcon)}}function le(a,d){if(1&a&&(e.j41(0,"div",162),e.nrm(1,"lucide-icon",163),e.j41(2,"span",136),e.EFF(3,"Email:"),e.k0s(),e.j41(4,"span",164),e.EFF(5),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("img",t.mailIcon),e.R7$(4),e.JRh(t.selectedPatient.email)}}function de(a,d){if(1&a&&(e.j41(0,"div",181),e.nrm(1,"lucide-icon",182),e.j41(2,"div")(3,"span",136),e.EFF(4,"Direcci\xf3n:"),e.k0s(),e.j41(5,"div",164),e.EFF(6),e.k0s(),e.j41(7,"div",114),e.EFF(8),e.k0s()()()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("img",t.mapPinIcon),e.R7$(5),e.JRh(t.selectedPatient.address),e.R7$(2),e.Lme("",t.selectedPatient.city,", ",t.selectedPatient.country,"")}}function ce(a,d){if(1&a&&(e.j41(0,"div")(1,"h4",160),e.nrm(2,"lucide-icon",112),e.EFF(3," Seguro M\xe9dico "),e.k0s(),e.j41(4,"div",183)(5,"div",184)(6,"div",164),e.EFF(7),e.k0s(),e.j41(8,"div",136),e.EFF(9),e.k0s()()()()),2&a){const t=e.XpG(2);e.R7$(2),e.Y8G("img",t.stethoscopeIcon),e.R7$(5),e.JRh(t.selectedPatient.insuranceProvider),e.R7$(2),e.SpI("P\xf3liza: ",t.selectedPatient.insuranceNumber||"N/A","")}}function pe(a,d){if(1&a&&(e.j41(0,"span",189),e.nrm(1,"span",190),e.EFF(2),e.k0s()),2&a){const t=d.$implicit;e.R7$(2),e.SpI(" ",t," ")}}function ge(a,d){if(1&a&&(e.j41(0,"div")(1,"h4",160),e.nrm(2,"lucide-icon",185),e.EFF(3," Alergias Conocidas "),e.k0s(),e.j41(4,"div",186)(5,"div",187),e.DNE(6,pe,3,1,"span",188),e.k0s()()()),2&a){const t=e.XpG(2);e.R7$(2),e.Y8G("img",t.alertIcon),e.R7$(4),e.Y8G("ngForOf",t.selectedPatient.allergies)}}function ue(a,d){if(1&a&&(e.j41(0,"span",194),e.nrm(1,"lucide-icon",195),e.EFF(2),e.k0s()),2&a){const t=d.$implicit,n=e.XpG(3);e.R7$(),e.Y8G("img",n.heartIcon),e.R7$(),e.SpI(" ",t," ")}}function me(a,d){if(1&a&&(e.j41(0,"div")(1,"h4",160),e.nrm(2,"lucide-icon",191),e.EFF(3," Condiciones Cr\xf3nicas "),e.k0s(),e.j41(4,"div",192)(5,"div",187),e.DNE(6,ue,3,2,"span",193),e.k0s()()()),2&a){const t=e.XpG(2);e.R7$(2),e.Y8G("img",t.heartIcon),e.R7$(4),e.Y8G("ngForOf",t.selectedPatient.chronicConditions)}}function be(a,d){if(1&a&&(e.j41(0,"div",197),e.nrm(1,"lucide-icon",198),e.j41(2,"span",199),e.EFF(3),e.k0s()()),2&a){const t=d.$implicit,n=e.XpG(3);e.R7$(),e.Y8G("img",n.pillIcon),e.R7$(2),e.JRh(t)}}function fe(a,d){if(1&a&&(e.j41(0,"div")(1,"h4",160),e.nrm(2,"lucide-icon",112),e.EFF(3," Medicaci\xf3n Actual "),e.k0s(),e.j41(4,"div",183)(5,"div",89),e.DNE(6,be,4,2,"div",196),e.k0s()()()),2&a){const t=e.XpG(2);e.R7$(2),e.Y8G("img",t.pillIcon),e.R7$(4),e.Y8G("ngForOf",t.selectedPatient.currentMedications)}}function he(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",200)(1,"div",201)(2,"h1",202),e.EFF(3," \u{1f389} MODAL FUNCIONANDO \u{1f389} "),e.k0s(),e.j41(4,"p",203),e.EFF(5),e.k0s(),e.j41(6,"div",204)(7,"button",205),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.closeNewPatientModal())}),e.EFF(8," CERRAR MODAL "),e.k0s()()()()}if(2&a){const t=e.XpG(2);e.R7$(5),e.SpI(" Estado: ",t.showNewPatientModal," ")}}function xe(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",144),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closePatientModal())}),e.nrm(1,"div",145),e.j41(2,"div",146),e.bIt("click",function(i){return e.eBV(t),e.Njj(i.stopPropagation())}),e.j41(3,"div",147)(4,"div",4)(5,"div")(6,"div",20),e.nrm(7,"lucide-icon",124),e.j41(8,"h2",148),e.EFF(9,"Vista R\xe1pida del Paciente"),e.k0s()(),e.j41(10,"p",149),e.EFF(11),e.k0s()(),e.j41(12,"button",150),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closePatientModal())}),e.nrm(13,"lucide-icon",124),e.k0s()()(),e.j41(14,"div",151)(15,"div",152)(16,"div",153)(17,"div",154)(18,"div",155),e.nrm(19,"lucide-icon",156),e.k0s(),e.j41(20,"div",16)(21,"h3",157),e.EFF(22),e.k0s(),e.j41(23,"p",136),e.EFF(24),e.k0s(),e.j41(25,"span"),e.EFF(26),e.k0s()()(),e.j41(27,"div",158)(28,"div")(29,"span",136),e.EFF(30,"Edad:"),e.k0s(),e.j41(31,"span",159),e.EFF(32),e.k0s()(),e.j41(33,"div")(34,"span",136),e.EFF(35,"Sexo:"),e.k0s(),e.j41(36,"span",159),e.EFF(37),e.k0s()(),e.j41(38,"div")(39,"span",136),e.EFF(40,"Fecha de nacimiento:"),e.k0s(),e.j41(41,"span",159),e.EFF(42),e.nI1(43,"date"),e.k0s()(),e.j41(44,"div")(45,"span",136),e.EFF(46,"Tipo de sangre:"),e.k0s(),e.j41(47,"span",159),e.EFF(48),e.k0s()()()(),e.j41(49,"div")(50,"h4",160),e.nrm(51,"lucide-icon",112),e.EFF(52," Informaci\xf3n de Contacto "),e.k0s(),e.j41(53,"div",161)(54,"div",162),e.nrm(55,"lucide-icon",163),e.j41(56,"span",136),e.EFF(57,"Tel\xe9fono:"),e.k0s(),e.j41(58,"span",164),e.EFF(59),e.k0s()(),e.DNE(60,le,6,2,"div",165)(61,de,9,4,"div",166),e.k0s()(),e.DNE(62,ce,10,3,"div",42)(63,ge,7,2,"div",42)(64,me,7,2,"div",42)(65,fe,7,2,"div",42),e.j41(66,"div")(67,"h4",160),e.nrm(68,"lucide-icon",112),e.EFF(69," Historial de Prescripciones "),e.k0s(),e.j41(70,"div",167)(71,"div",168)(72,"div",169),e.EFF(73),e.k0s(),e.j41(74,"div",170),e.EFF(75,"Total recetas"),e.k0s()(),e.j41(76,"div",171)(77,"div",172),e.EFF(78),e.k0s(),e.j41(79,"div",173),e.EFF(80,"Recetas activas"),e.k0s()()(),e.j41(81,"div",174)(82,"div",20),e.nrm(83,"lucide-icon",163),e.j41(84,"span",136),e.EFF(85,"\xdaltima visita:"),e.k0s(),e.j41(86,"span",164),e.EFF(87),e.nI1(88,"date"),e.k0s()(),e.j41(89,"div",20),e.nrm(90,"lucide-icon",163),e.j41(91,"span",136),e.EFF(92,"Registrado desde:"),e.k0s(),e.j41(93,"span",164),e.EFF(94),e.nI1(95,"date"),e.k0s()()()()(),e.j41(96,"div",175)(97,"div",161)(98,"button",176),e.nrm(99,"lucide-icon",49),e.EFF(100," Ver perfil completo "),e.k0s(),e.j41(101,"button",177),e.nrm(102,"lucide-icon",49),e.EFF(103," Ver recetas "),e.k0s(),e.j41(104,"button",178),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.editPatient(i.selectedPatient))}),e.nrm(105,"lucide-icon",49),e.EFF(106," Editar paciente "),e.k0s()()()()(),e.DNE(107,he,9,1,"div",179),e.j41(108,"app-new-patient-dialog",180),e.bIt("openChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onNewPatientModalChange(i))})("patientCreated",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onPatientCreated(i))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(7),e.Y8G("img",t.usersIcon),e.R7$(4),e.Lme("",t.selectedPatient.idType," ",t.selectedPatient.idNumber,""),e.R7$(2),e.Y8G("img",t.xIcon),e.R7$(6),e.Y8G("img",t.usersIcon),e.R7$(3),e.JRh(t.selectedPatient.fullName),e.R7$(2),e.Lme("",t.selectedPatient.idType," ",t.selectedPatient.idNumber,""),e.R7$(),e.HbH("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-2 "+t.getStatusClass(t.selectedPatient.status)),e.R7$(),e.SpI(" ",t.getStatusLabel(t.selectedPatient.status)," "),e.R7$(6),e.SpI("",t.selectedPatient.age," a\xf1os"),e.R7$(5),e.JRh(t.getGenderLabel(t.selectedPatient.gender)),e.R7$(5),e.JRh(e.i5U(43,36,t.selectedPatient.birthDate,"dd/MM/yyyy")),e.R7$(6),e.JRh(t.selectedPatient.bloodType||"N/A"),e.R7$(3),e.Y8G("img",t.phoneIcon),e.R7$(4),e.Y8G("img",t.phoneIcon),e.R7$(4),e.JRh(t.selectedPatient.phone),e.R7$(),e.Y8G("ngIf",t.selectedPatient.email),e.R7$(),e.Y8G("ngIf",t.selectedPatient.address),e.R7$(),e.Y8G("ngIf",t.selectedPatient.insuranceProvider),e.R7$(),e.Y8G("ngIf",t.selectedPatient.allergies.length>0),e.R7$(),e.Y8G("ngIf",t.selectedPatient.chronicConditions.length>0),e.R7$(),e.Y8G("ngIf",t.selectedPatient.currentMedications.length>0),e.R7$(3),e.Y8G("img",t.fileTextIcon),e.R7$(5),e.JRh(t.getPrescriptionCount(t.selectedPatient.id)),e.R7$(5),e.JRh(t.selectedPatient.currentMedications.length),e.R7$(5),e.Y8G("img",t.calendarIcon),e.R7$(4),e.JRh(e.i5U(88,39,t.selectedPatient.lastVisit,"dd/MM/yyyy")),e.R7$(3),e.Y8G("img",t.calendarIcon),e.R7$(4),e.JRh(e.i5U(95,42,t.selectedPatient.registrationDate,"dd/MM/yyyy")),e.R7$(5),e.Y8G("img",t.eyeIcon),e.R7$(3),e.Y8G("img",t.fileTextIcon),e.R7$(3),e.Y8G("img",t.editIcon),e.R7$(2),e.Y8G("ngIf",t.showNewPatientModal),e.R7$(),e.Y8G("open",t.showNewPatientModal)}}let ve=(()=>{class a{constructor(t,n,i,r,g,v){this.patientService=t,this.fb=n,this.cdr=i,this.router=r,this.roleDemoService=g,this.roleSuggestionService=v,this.usersIcon=o.zWC,this.breadcrumbItems=[{label:"Pacientes"}],this.searchIcon=o.vji,this.filterIcon=o.dJT,this.plusIcon=o.FWt,this.eyeIcon=o.kU3,this.editIcon=o.ffu,this.trashIcon=o.TBR,this.alertIcon=o.hcu,this.heartIcon=o.B1N,this.pillIcon=o.abF,this.fileTextIcon=o.iUU,this.downloadIcon=o.f5X,this.userPlusIcon=o.ypN,this.xIcon=o.X,this.phoneIcon=o.bcf,this.mailIcon=o.gE4,this.mapPinIcon=o.sDd,this.calendarIcon=o.VvS,this.activityIcon=o.Ilq,this.stethoscopeIcon=o.oYO,this.moreVerticalIcon=o.GvN,this.chevronLeftIcon=o.JGc,this.chevronRightIcon=o.c_$,this.activeTab="quick",this.patients=[],this.filteredPatients=[],this.selectedPatient=null,this.showPatientModal=!1,this.loading=!1,this.modalAccionesAbierto=null,this.showExportModal=!1,this.showNewPatientModal=!1,this.currentPage=1,this.pageSize=10,this.totalPages=0,this.stats={total:0,active:0,inactive:0,withAllergies:0,withConditions:0,averageAge:0},this.destroy$=new R.B,this.showRoleSuggestionModal=(0,e.vPA)(!1),this.roleSubscriptions=new f.yU,this.Math=Math,this.initializeForms()}ngOnInit(){console.log("\u{1f680} Lista pacientes ngOnInit iniciado"),this.loadPatients(),this.setupSearchSubscriptions(),console.log("\u{1f50d} Llamando checkRoleSuggestion desde ngOnInit"),this.checkRoleSuggestion(),console.log("\u{1f4ca} Estado del modal despu\xe9s de checkRoleSuggestion:",this.showRoleSuggestionModal());const t=this.roleDemoService.currentSession$.subscribe(n=>{console.log("\u{1f504} Cambio de rol detectado:",n.activeRole),"M\xe9dico"===n.activeRole||"Administrador"===n.activeRole?(this.showRoleSuggestionModal.set(!1),this.roleSuggestionService.clearDismissedPages()):this.checkRoleSuggestion()});this.roleSubscriptions.add(t),console.log("\u2705 Lista pacientes ngOnInit completado")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.roleSubscriptions.unsubscribe()}checkRoleSuggestion(){const t=this.roleDemoService.getCurrentSession();console.log("\u{1f50d} Verificando rol en lista pacientes:",t.activeRole),"M\xe9dico"!==t.activeRole&&"Administrador"!==t.activeRole?(console.log("\u2705 Mostrando modal de sugerencia de rol para:",t.activeRole),this.showRoleSuggestionModal.set(!0)):(console.log("\u274c No mostrando modal para rol:",t.activeRole),this.showRoleSuggestionModal.set(!1))}onRoleSuggestionDismiss(){console.log("\u{1f6ab} onRoleSuggestionDismiss llamado - cerrando modal"),this.showRoleSuggestionModal.set(!1),console.log("\u{1f3af} Estado del modal despu\xe9s de dismiss:",this.showRoleSuggestionModal())}onRoleChanged(){console.log("\u{1f504} onRoleChanged llamado - cerrando modal"),this.showRoleSuggestionModal.set(!1),console.log("\u{1f3af} Estado del modal despu\xe9s de role change:",this.showRoleSuggestionModal())}initializeForms(){this.quickSearchForm=this.fb.group({query:[""]}),this.advancedSearchForm=this.fb.group({patientName:[""],identification:[""],gender:[""],state:[""],ageFrom:[""],ageTo:[""],allergies:[""],chronicConditions:[""]}),this.newPatientForm=this.fb.group({firstName:["",l.k0.required],firstLastName:["",l.k0.required],idType:["CC",l.k0.required],idNumber:["",l.k0.required],birthDate:["",l.k0.required],gender:["",l.k0.required],phone:["",l.k0.required],email:[""]})}setupSearchSubscriptions(){this.quickSearchForm.get("query")?.valueChanges.pipe((0,C.B)(300),(0,y.F)(),(0,m.Q)(this.destroy$)).subscribe(t=>{this.performQuickSearch(t)}),this.advancedSearchForm.valueChanges.pipe((0,C.B)(500),(0,y.F)(),(0,m.Q)(this.destroy$)).subscribe(()=>{"advanced"===this.activeTab&&this.performAdvancedSearch()})}loadPatients(){this.loading=!0,this.patientService.getAllPatients().pipe((0,m.Q)(this.destroy$)).subscribe({next:t=>{this.patients=t,this.filteredPatients=[...t],this.calculateStats(),this.updatePagination(),this.loading=!1},error:t=>{console.error("Error loading patients:",t),this.loading=!1}})}calculateStats(){this.stats={total:this.patients.length,active:this.patients.filter(t=>"active"===t.status).length,inactive:this.patients.filter(t=>"inactive"===t.status).length,withAllergies:this.patients.filter(t=>t.allergies.length>0).length,withConditions:this.patients.filter(t=>t.chronicConditions.length>0).length,averageAge:Math.round(this.patients.reduce((t,n)=>t+n.age,0)/this.patients.length)||0}}switchTab(t){this.activeTab=t,this.currentPage=1,"quick"===t?this.performQuickSearch(this.quickSearchForm.get("query")?.value||""):this.performAdvancedSearch()}performQuickSearch(t){if(t&&0!==t.trim().length){const n=t.toLowerCase().trim();this.filteredPatients=this.patients.filter(i=>i.fullName.toLowerCase().includes(n)||i.idNumber.includes(n)||i.phone.includes(n)||i.email?.toLowerCase().includes(n))}else this.filteredPatients=[...this.patients];this.updatePagination()}performAdvancedSearch(){const t=this.advancedSearchForm.value;this.filteredPatients=this.patients.filter(n=>!(t.patientName&&!n.fullName.toLowerCase().includes(t.patientName.toLowerCase())||t.identification&&!n.idNumber.includes(t.identification)||t.gender&&"Todos"!==t.gender&&n.gender!==t.gender||t.state&&"Todos los estados"!==t.state&&n.status!==t.state||t.ageFrom&&n.age<parseInt(t.ageFrom)||t.ageTo&&n.age>parseInt(t.ageTo)||t.allergies&&"Todos"!==t.allergies&&("Con alergias"===t.allergies&&0===n.allergies.length||"Sin alergias"===t.allergies&&n.allergies.length>0)||t.chronicConditions&&"Todos"!==t.chronicConditions&&("Con condiciones"===t.chronicConditions&&0===n.chronicConditions.length||"Sin condiciones"===t.chronicConditions&&n.chronicConditions.length>0))),this.updatePagination()}clearAdvancedFilters(){this.advancedSearchForm.reset({patientName:"",identification:"",gender:"",state:"",ageFrom:"",ageTo:"",allergies:"",chronicConditions:""}),this.performAdvancedSearch()}updatePagination(){this.totalPages=Math.ceil(this.filteredPatients.length/this.pageSize),this.currentPage>this.totalPages&&(this.currentPage=1)}get paginatedPatients(){const t=(this.currentPage-1)*this.pageSize;return this.filteredPatients.slice(t,t+this.pageSize)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}get pageNumbers(){const t=[],i=Math.floor(2.5);let r=Math.max(1,this.currentPage-i),g=Math.min(this.totalPages,r+5-1);g-r<4&&(r=Math.max(1,g-5+1));for(let v=r;v<=g;v++)t.push(v);return t}viewPatient(t){this.showNewPatientModal=!1,this.showExportModal=!1,this.modalAccionesAbierto=null,this.router.navigate(["/pacientes/perfil",t.id])}viewPatientPrescriptions(t){this.showNewPatientModal=!1,this.showExportModal=!1,this.modalAccionesAbierto=null,this.router.navigate(["/pacientes/recetas",t.id])}createPrescriptionForPatient(t){this.showNewPatientModal=!1,this.showExportModal=!1,this.modalAccionesAbierto=null,this.router.navigate(["/prescripciones/nueva",t.id])}editPatient(t){console.log("Edit patient:",t)}closePatientModal(){this.showPatientModal=!1,this.selectedPatient=null}exportPatients(){console.log("Funci\xf3n exportPatients() llamada"),this.showNewPatientModal=!1,this.showPatientModal=!1,this.modalAccionesAbierto=null,this.showExportModal=!this.showExportModal,console.log("Estado showExportModal:",this.showExportModal)}closeExportModal(){this.showExportModal=!1}exportToPDF(){console.log("Exportar a PDF - Pacientes:",this.filteredPatients.length),this.closeExportModal()}exportToCSV(){console.log("Exportar a CSV - Pacientes:",this.filteredPatients.length),this.closeExportModal()}exportToExcel(){console.log("Exportar a Excel - Pacientes:",this.filteredPatients.length),this.closeExportModal()}createNewPatient(){console.log("\u{1f525} createNewPatient() EJECUTADO"),console.log("Estado inicial showNewPatientModal:",this.showNewPatientModal),this.createDirectDOMModal(),this.showPatientModal=!1,this.showExportModal=!1,this.modalAccionesAbierto=null,this.selectedPatient=null,console.log("\u2705 Otros modales cerrados"),this.showNewPatientModal=!0,console.log("\u2705 Modal abierto, nuevo estado:",this.showNewPatientModal)}closeNewPatientModal(){this.showNewPatientModal=!1,this.newPatientForm.reset()}onNewPatientModalChange(t){console.log("Modal state changed to:",t),this.showNewPatientModal=t}onPatientCreated(t){console.log("Nuevo paciente creado:",t),this.patients.unshift(t),this.filterPatients(),this.calculateStats(),this.showNewPatientModal=!1,alert(`Paciente ${t.fullName} registrado exitosamente`)}onSubmitNewPatient(){if(this.newPatientForm.valid){const t=this.newPatientForm.value,n=new Date(t.birthDate),i=new Date;let r=i.getFullYear()-n.getFullYear();const g=i.getMonth()-n.getMonth();(g<0||0===g&&i.getDate()<n.getDate())&&r--;const v={id:`PAT-${Date.now()}`,fullName:`${t.firstName} ${t.firstLastName}`,firstName:t.firstName,secondName:"",firstLastName:t.firstLastName,secondLastName:"",idType:t.idType,idNumber:t.idNumber,birthDate:t.birthDate,age:r,gender:t.gender,bloodType:"",phone:t.phone,email:t.email||"",address:"",city:"",country:"Costa Rica",occupation:"",weight:"0",height:"0",bmi:"0",insuranceProvider:"",insuranceNumber:"",insuranceType:"",allergies:[],chronicConditions:[],currentMedications:[],clinicalNotes:"",emergencyContact:{name:"",relationship:"",phone:""},registrationDate:(new Date).toISOString().split("T")[0],status:"active",lastVisit:(new Date).toISOString().split("T")[0]};this.patients.unshift(v),this.filterPatients(),this.calculateStats(),this.closeNewPatientModal(),console.log("Nuevo paciente creado:",v)}}filterPatients(){"quick"===this.activeTab?this.performQuickSearch(this.quickSearchForm.get("query")?.value||""):this.performAdvancedSearch()}getPatientAge(t){const n=new Date,i=new Date(t);return n.getFullYear()-i.getFullYear()+" a\xf1os"}getGenderLabel(t){return"M"===t?"Masculino":"Femenino"}getStatusLabel(t){return"active"===t?"Activo":"Inactivo"}getStatusClass(t){return"active"===t?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}getAllergyCount(t){return t.length}getConditionCount(t){return t.length}getMedicationCount(t){return t.length}getPrescriptionCount(t){let n=0;for(let i=0;i<t.length;i++)n=(n<<5)-n+t.charCodeAt(i),n|=0;return Math.abs(n%50)+1}toggleAccionesModal(t){this.modalAccionesAbierto=this.modalAccionesAbierto===t?null:t}cerrarModalAcciones(){this.modalAccionesAbierto=null}createDirectDOMModal(){const t=document.getElementById("direct-modal");t&&t.remove();const n=document.createElement("div");n.id="direct-modal",n.style.cssText="\n      position: fixed !important;\n      top: 0 !important;\n      left: 0 !important;\n      width: 100vw !important;\n      height: 100vh !important;\n      background-color: rgba(0, 0, 0, 0.8) !important;\n      z-index: 9999999 !important;\n      display: flex !important;\n      align-items: center !important;\n      justify-content: center !important;\n      padding: 20px !important;\n    ";const i=document.createElement("div");i.style.cssText="\n      background-color: white !important;\n      border-radius: 8px !important;\n      padding: 0 !important;\n      max-width: 1200px !important;\n      width: 100% !important;\n      max-height: 90vh !important;\n      overflow-y: auto !important;\n      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;\n    ",i.innerHTML='\n      \x3c!-- Header --\x3e\n      <div style="padding: 24px 24px 0 24px; border-bottom: 1px solid #e5e7eb;">\n        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">\n          <div style="display: flex; align-items: center; gap: 8px;">\n            <div style="width: 20px; height: 20px; color: #2563eb;">\n              <svg fill="currentColor" viewBox="0 0 20 20">\n                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>\n              </svg>\n            </div>\n            <h2 style="margin: 0; font-size: 18px; font-weight: 600; color: #111827;">Registrar nuevo paciente</h2>\n          </div>\n          <button id="close-direct-modal" style="\n            background: none; border: none; font-size: 20px; cursor: pointer; color: #6b7280; padding: 4px;\n          ">\xd7</button>\n        </div>\n        <p style="margin: 0 0 16px 0; font-size: 14px; color: #6b7280;">\n          Complete la informaci\xf3n del paciente. Los campos marcados con * son obligatorios.\n        </p>\n        \n        \x3c!-- Tabs Navigation --\x3e\n        <div style="border-bottom: 1px solid #e5e7eb; margin-bottom: 0;">\n          <nav style="display: flex; gap: 32px;">\n            <button id="tab-personal" class="tab-btn active" style="\n              padding: 8px 4px; border: none; background: none; cursor: pointer; font-weight: 500; font-size: 14px;\n              border-bottom: 2px solid #2563eb; color: #2563eb; display: flex; align-items: center; gap: 8px;\n            ">\n              <div style="width: 16px; height: 16px;">\n                <svg fill="currentColor" viewBox="0 0 20 20">\n                  <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>\n                </svg>\n              </div>\n              Personal\n            </button>\n            <button id="tab-contact" class="tab-btn" style="\n              padding: 8px 4px; border: none; background: none; cursor: pointer; font-weight: 500; font-size: 14px;\n              border-bottom: 2px solid transparent; color: #6b7280; display: flex; align-items: center; gap: 8px;\n            ">\n              <div style="width: 16px; height: 16px;">\n                <svg fill="currentColor" viewBox="0 0 20 20">\n                  <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>\n                </svg>\n              </div>\n              Contacto\n            </button>\n            <button id="tab-medical" class="tab-btn" style="\n              padding: 8px 4px; border: none; background: none; cursor: pointer; font-weight: 500; font-size: 14px;\n              border-bottom: 2px solid transparent; color: #6b7280; display: flex; align-items: center; gap: 8px;\n            ">\n              <div style="width: 16px; height: 16px;">\n                <svg fill="currentColor" viewBox="0 0 20 20">\n                  <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n                </svg>\n              </div>\n              M\xe9dica\n            </button>\n            <button id="tab-emergency" class="tab-btn" style="\n              padding: 8px 4px; border: none; background: none; cursor: pointer; font-weight: 500; font-size: 14px;\n              border-bottom: 2px solid transparent; color: #6b7280; display: flex; align-items: center; gap: 8px;\n            ">\n              <div style="width: 16px; height: 16px;">\n                <svg fill="currentColor" viewBox="0 0 20 20">\n                  <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>\n                </svg>\n              </div>\n              Emergencia\n            </button>\n          </nav>\n        </div>\n      </div>\n\n      \x3c!-- Content --\x3e\n      <div style="padding: 24px;">\n        \x3c!-- Tab Personal --\x3e\n        <div id="content-personal" class="tab-content" style="display: block;">\n          <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px;">\n            <h3 style="margin: 0 0 16px 0; font-size: 18px; font-weight: 500; color: #111827;">Informaci\xf3n personal</h3>\n            \n            <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 16px; margin-bottom: 16px;">\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Tipo de documento *</label>\n                <select id="idType" required style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n                  <option value="CC">C\xe9dula de Ciudadan\xeda</option>\n                  <option value="CE">C\xe9dula de Extranjer\xeda</option>\n                  <option value="TI">Tarjeta de Identidad</option>\n                  <option value="PA">Pasaporte</option>\n                  <option value="RC">Registro Civil</option>\n                </select>\n              </div>\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">N\xfamero de documento *</label>\n                <input type="text" id="idNumber" placeholder="Ej: 1234567890" required style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n            </div>\n\n            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Primer nombre *</label>\n                <input type="text" id="firstName" placeholder="Ej: Mar\xeda" required style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Segundo nombre</label>\n                <input type="text" id="secondName" placeholder="Ej: Elena" style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n            </div>\n\n            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Primer apellido *</label>\n                <input type="text" id="firstLastName" placeholder="Ej: Gonz\xe1lez" required style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Segundo apellido</label>\n                <input type="text" id="secondLastName" placeholder="Ej: Rodr\xedguez" style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n            </div>\n\n            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px;">\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Fecha de nacimiento *</label>\n                <input type="date" id="birthDate" required style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n                <div id="age-display" style="font-size: 12px; color: #6b7280; margin-top: 4px;"></div>\n              </div>\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">G\xe9nero *</label>\n                <select id="gender" required style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n                  <option value="">Seleccione</option>\n                  <option value="M">Masculino</option>\n                  <option value="F">Femenino</option>\n                </select>\n              </div>\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Tipo de sangre</label>\n                <select id="bloodType" style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n                  <option value="">Seleccione</option>\n                  <option value="A+">A+</option>\n                  <option value="A-">A-</option>\n                  <option value="B+">B+</option>\n                  <option value="B-">B-</option>\n                  <option value="AB+">AB+</option>\n                  <option value="AB-">AB-</option>\n                  <option value="O+">O+</option>\n                  <option value="O-">O-</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Tab Contact --\x3e\n        <div id="content-contact" class="tab-content" style="display: none;">\n          <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px;">\n            <h3 style="margin: 0 0 16px 0; font-size: 18px; font-weight: 500; color: #111827;">Informaci\xf3n de contacto</h3>\n            \n            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Tel\xe9fono *</label>\n                <input type="tel" id="phone" placeholder="Ej: +506 8888-9999" required style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Correo electr\xf3nico</label>\n                <input type="email" id="email" placeholder="Ej: paciente@email.com" style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n            </div>\n\n            <div style="margin-bottom: 16px;">\n              <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Direcci\xf3n de residencia</label>\n              <input type="text" id="address" placeholder="Ej: Calle 45 #23-67, Apto 301" style="\n                width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n              ">\n            </div>\n\n            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Ciudad</label>\n                <input type="text" id="city" placeholder="Ej: San Jos\xe9" style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Pa\xeds</label>\n                <select id="country" style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n                  <option value="Costa Rica">Costa Rica</option>\n                  <option value="Colombia">Colombia</option>\n                  <option value="Argentina">Argentina</option>\n                  <option value="Chile">Chile</option>\n                  <option value="M\xe9xico">M\xe9xico</option>\n                  <option value="Per\xfa">Per\xfa</option>\n                  <option value="Espa\xf1a">Espa\xf1a</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Tab Medical --\x3e\n        <div id="content-medical" class="tab-content" style="display: none;">\n          <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px;">\n            <h3 style="margin: 0 0 16px 0; font-size: 18px; font-weight: 500; color: #111827;">Informaci\xf3n m\xe9dica</h3>\n            \n            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 24px;">\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Peso (kg)</label>\n                <input type="number" id="weight" step="0.1" placeholder="Ej: 70.5" style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Altura (m)</label>\n                <input type="number" id="height" step="0.01" placeholder="Ej: 1.75" style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">IMC</label>\n                <div id="bmi-display" style="\n                  height: 36px; display: flex; align-items: center; padding: 0 12px; border: 1px solid #d1d5db; \n                  border-radius: 6px; background-color: #f9fafb; font-size: 14px;\n                ">---</div>\n              </div>\n            </div>\n\n            <div style="margin-bottom: 16px;">\n              <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Notas cl\xednicas adicionales</label>\n              <textarea id="clinicalNotes" rows="4" placeholder="Informaci\xf3n m\xe9dica relevante, antecedentes familiares, observaciones..." style="\n                width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; resize: vertical;\n              "></textarea>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Tab Emergency --\x3e\n        <div id="content-emergency" class="tab-content" style="display: none;">\n          <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px;">\n            <h3 style="margin: 0 0 16px 0; font-size: 18px; font-weight: 500; color: #111827;">Contacto de emergencia</h3>\n            \n            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px;">\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Nombre completo</label>\n                <input type="text" id="emergencyName" placeholder="Nombre del contacto" style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Relaci\xf3n</label>\n                <input type="text" id="emergencyRelationship" placeholder="Esposo, Madre, etc." style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n              <div>\n                <label style="display: block; margin-bottom: 4px; font-size: 14px; font-weight: 500; color: #374151;">Tel\xe9fono</label>\n                <input type="tel" id="emergencyPhone" placeholder="+506 8888-9999" style="\n                  width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;\n                ">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Footer --\x3e\n      <div style="display: flex; justify-content: space-between; padding: 24px; border-top: 1px solid #e5e7eb;">\n        <button id="prev-btn" style="\n          padding: 8px 16px; background-color: transparent; color: #374151; border: 1px solid #d1d5db; \n          border-radius: 6px; cursor: pointer; font-size: 14px; display: none;\n        ">Anterior</button>\n        <div style="display: flex; gap: 8px; margin-left: auto;">\n          <button id="cancel-btn" style="\n            padding: 8px 16px; background-color: transparent; color: #374151; border: 1px solid #d1d5db; \n            border-radius: 6px; cursor: pointer; font-size: 14px;\n          ">Cancelar</button>\n          <button id="next-btn" style="\n            padding: 8px 16px; background-color: #2563eb; color: white; border: none; \n            border-radius: 6px; cursor: pointer; font-size: 14px;\n          ">Siguiente</button>\n          <button id="submit-btn" style="\n            padding: 8px 16px; background-color: #2563eb; color: white; border: none; \n            border-radius: 6px; cursor: pointer; font-size: 14px; display: none;\n          ">\n            <svg style="width: 16px; height: 16px; margin-right: 8px; display: inline;" fill="currentColor" viewBox="0 0 20 20">\n              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>\n            </svg>\n            Registrar Paciente\n          </button>\n        </div>\n      </div>\n    ',n.appendChild(i),document.body.appendChild(n);const r=document.getElementById("close-direct-modal"),g=document.getElementById("cancel-btn"),v=document.getElementById("submit-btn"),D=document.getElementById("next-btn"),S=document.getElementById("prev-btn"),V=document.getElementById("tab-personal"),A=document.getElementById("tab-contact"),U=document.getElementById("tab-medical"),W=document.getElementById("tab-emergency");let I="personal";const O=()=>{n.remove(),this.showNewPatientModal=!1},x=b=>{document.querySelectorAll(".tab-content").forEach(N=>{N.style.display="none"}),document.querySelectorAll(".tab-btn").forEach(N=>{N.style.borderBottom="2px solid transparent",N.style.color="#6b7280"});const _=document.getElementById("content-"+b);_&&(_.style.display="block");const k=document.getElementById("tab-"+b);k&&(k.style.borderBottom="2px solid #2563eb",k.style.color="#2563eb"),I=b;const w=document.getElementById("prev-btn"),M=document.getElementById("next-btn"),T=document.getElementById("submit-btn");w&&M&&T&&("personal"===b?(w.style.display="none",M.style.display="inline-block",T.style.display="none"):"contact"===b||"medical"===b?(w.style.display="inline-block",M.style.display="inline-block",T.style.display="none"):"emergency"===b&&(w.style.display="inline-block",M.style.display="none",T.style.display="inline-block"))};V?.addEventListener("click",()=>x("personal")),A?.addEventListener("click",()=>x("contact")),U?.addEventListener("click",()=>x("medical")),W?.addEventListener("click",()=>x("emergency")),D?.addEventListener("click",()=>{"personal"===I?x("contact"):"contact"===I?x("medical"):"medical"===I&&x("emergency")}),S?.addEventListener("click",()=>{"contact"===I?x("personal"):"medical"===I?x("contact"):"emergency"===I&&x("medical")}),r?.addEventListener("click",O),g?.addEventListener("click",O),v?.addEventListener("click",()=>{this.handleFormSubmit(),O()});const $=document.getElementById("birthDate"),z=document.getElementById("age-display");$?.addEventListener("change",()=>{if($.value&&z){const b=new Date($.value),_=new Date;let k=_.getFullYear()-b.getFullYear();const w=_.getMonth()-b.getMonth();(w<0||0===w&&_.getDate()<b.getDate())&&k--,z.textContent="Edad: "+k+" a\xf1os"}});const B=document.getElementById("weight"),L=document.getElementById("height"),Y=document.getElementById("bmi-display"),G=()=>{if(B?.value&&L?.value&&Y){const b=parseFloat(B.value),_=parseFloat(L.value);b>0&&_>0&&(Y.textContent=(b/(_*_)).toFixed(1))}};B?.addEventListener("input",G),L?.addEventListener("input",G),console.log("\u{1f680} Modal DOM directo creado con tabs funcionales")}handleFormSubmit(){const t=document.getElementById("firstName")?.value,n=document.getElementById("secondName")?.value,i=document.getElementById("firstLastName")?.value,r=document.getElementById("secondLastName")?.value,g=document.getElementById("idType")?.value,v=document.getElementById("idNumber")?.value,D=document.getElementById("birthDate")?.value,S=document.getElementById("gender")?.value,V=document.getElementById("bloodType")?.value,A=document.getElementById("phone")?.value,U=document.getElementById("email")?.value,W=document.getElementById("address")?.value,I=document.getElementById("city")?.value,O=document.getElementById("country")?.value,x=document.getElementById("weight")?.value,$=document.getElementById("height")?.value,z=document.getElementById("clinicalNotes")?.value,B=document.getElementById("emergencyName")?.value,L=document.getElementById("emergencyRelationship")?.value,Y=document.getElementById("emergencyPhone")?.value;if(!(t&&i&&g&&v&&D&&S&&A))return void alert("Por favor, complete todos los campos obligatorios");const G=new Date(D),b=new Date;let _=b.getFullYear()-G.getFullYear();const k=b.getMonth()-G.getMonth();(k<0||0===k&&b.getDate()<G.getDate())&&_--;let w="";if(x&&$){const T=parseFloat(x),N=parseFloat($);T>0&&N>0&&(w=(T/(N*N)).toFixed(1))}const M={id:"PAT-"+Date.now(),fullName:(t+" "+(n||"")+" "+i+" "+(r||"")).replace(/\s+/g," ").trim(),firstName:t,secondName:n||"",firstLastName:i,secondLastName:r||"",idType:g,idNumber:v,birthDate:D,age:_,gender:S,bloodType:V||"",phone:A,email:U||"",address:W||"",city:I||"",country:O||"Costa Rica",occupation:"",weight:x||"0",height:$||"0",bmi:w||"0",insuranceProvider:"",insuranceNumber:"",insuranceType:"",allergies:[],chronicConditions:[],currentMedications:[],clinicalNotes:z||"",emergencyContact:{name:B||"",relationship:L||"",phone:Y||""},registrationDate:(new Date).toISOString().split("T")[0],status:"active",lastVisit:(new Date).toISOString().split("T")[0]};this.patients.unshift(M),this.filterPatients(),this.calculateStats(),alert("\xa1Paciente "+t+" "+i+" registrado exitosamente!"),console.log("Nuevo paciente creado:",M)}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(p.X),e.rXU(l.ok),e.rXU(e.gRc),e.rXU(u.Ix),e.rXU(P.z),e.rXU(J.i))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-lista-pacientes"]],standalone:!0,features:[e.aNF],decls:125,vars:33,consts:[[3,"items"],[3,"dismiss","roleChanged","isOpen","suggestedRole"],[1,"space-y-6"],[1,"bg-gradient-to-r","from-blue-600","to-blue-700","rounded-lg","p-6","text-white"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"bg-white/20","p-3","rounded-lg"],[1,"w-8","h-8",3,"img"],[1,"text-2xl","font-bold"],[1,"text-blue-100"],[1,"flex","gap-4"],[1,"bg-white/20","rounded-lg","p-4","text-center"],[1,"text-sm","text-blue-100"],[1,"bg-white","rounded-lg","p-6","border","border-gray-200"],[1,"flex","items-start","gap-4"],[1,"w-6","h-6","text-blue-600","mt-1",3,"img"],[1,"flex-1"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],[1,"space-y-2","text-sm","text-gray-600"],[1,"flex","items-center","gap-2"],[1,"w-1.5","h-1.5","bg-blue-600","rounded-full"],[1,"grid","grid-cols-2","md:grid-cols-6","gap-4"],[1,"bg-white","rounded-lg","p-4","border-l-4","border-blue-500"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"w-6","h-6","text-blue-500",3,"img"],[1,"bg-white","rounded-lg","p-4","border-l-4","border-green-500"],[1,"w-6","h-6","text-green-500",3,"img"],[1,"bg-white","rounded-lg","p-4","border-l-4","border-gray-500"],[1,"w-6","h-6","text-gray-500",3,"img"],[1,"bg-white","rounded-lg","p-4","border-l-4","border-red-500"],[1,"w-6","h-6","text-red-500",3,"img"],[1,"bg-white","rounded-lg","p-4","border-l-4","border-orange-500"],[1,"w-6","h-6","text-orange-500",3,"img"],[1,"bg-white","rounded-lg","p-4","border-l-4","border-purple-500"],[1,"w-6","h-6","text-purple-500",3,"img"],[1,"bg-white","rounded-lg","shadow"],[1,"border-b","border-gray-200"],[1,"flex"],[1,"flex-1","py-4","px-6","text-center","border-b-2","font-medium","text-sm","transition-colors",3,"click"],[1,"p-6"],[4,"ngIf"],[1,"bg-white","rounded-lg","shadow",3,"click"],[1,"p-6","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"flex","gap-3"],[1,"relative"],[1,"px-4","py-2","border","border-gray-300","text-gray-700","rounded-lg","hover:bg-gray-50","transition-colors","flex","items-center","gap-2",3,"click"],[1,"w-4","h-4",3,"img"],["class","absolute right-0 top-full mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",3,"click",4,"ngIf"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","flex","items-center","gap-2",3,"click"],["class","p-8 text-center",4,"ngIf"],["class","overflow-x-auto","style","max-height: 500px; overflow-y: auto;",4,"ngIf"],["class","px-6 py-4 border-t border-gray-200 bg-gray-50",4,"ngIf"],["class","fixed inset-0 z-50 overflow-hidden",3,"click",4,"ngIf"],[1,"mb-6"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","text-sm","mb-4"],[1,"flex","gap-4",3,"formGroup"],[1,"flex-1","relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-5","h-5","text-gray-400",3,"img"],["type","text","formControlName","query","placeholder","Nombre, identificaci\xf3n, tel\xe9fono o email...",1,"w-full","pl-10","pr-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["type","button",1,"px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","flex","items-center","gap-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4",3,"formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","formControlName","patientName","placeholder","Nombre completo",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["type","text","formControlName","identification","placeholder","N\xfamero de identificaci\xf3n",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["formControlName","gender",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["value",""],["value","M"],["value","F"],["formControlName","state",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["value","active"],["value","inactive"],["type","number","formControlName","ageFrom","placeholder","0","min","0","max","150",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["type","number","formControlName","ageTo","placeholder","120","min","0","max","150",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["formControlName","allergies",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["value","Con alergias"],["value","Sin alergias"],["formControlName","chronicConditions",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["value","Con condiciones"],["value","Sin condiciones"],[1,"flex","gap-4","mt-6"],["type","button",1,"px-6","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","flex","items-center","gap-2",3,"click"],["type","button",1,"px-6","py-2","border","border-gray-300","text-gray-700","rounded-lg","hover:bg-gray-50","transition-colors","flex","items-center","gap-2",3,"click"],[1,"absolute","right-0","top-full","mt-2","w-56","bg-white","rounded-lg","shadow-lg","border","border-gray-200","z-50",3,"click"],[1,"p-4"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"space-y-2"],[1,"w-full","flex","items-center","gap-3","p-2","text-left","rounded-lg","hover:bg-gray-50","transition-colors",3,"click"],[1,"w-6","h-6","bg-red-100","rounded","flex","items-center","justify-center"],[1,"w-3","h-3","text-red-600",3,"img"],[1,"text-sm","font-medium","text-gray-900"],[1,"w-6","h-6","bg-green-100","rounded","flex","items-center","justify-center"],[1,"w-3","h-3","text-green-600",3,"img"],[1,"w-6","h-6","bg-blue-100","rounded","flex","items-center","justify-center"],[1,"w-3","h-3","text-blue-600",3,"img"],[1,"p-8","text-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600","mx-auto"],[1,"text-gray-600","mt-2"],[1,"overflow-x-auto",2,"max-height","500px","overflow-y","auto"],[1,"w-full","min-w-[1200px]"],[1,"bg-gray-50","sticky","top-0"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-blue-50/50 cursor-pointer",3,"dblclick",4,"ngFor","ngForOf"],[1,"hover:bg-blue-50/50","cursor-pointer",3,"dblclick"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"flex-shrink-0","h-10","w-10"],[1,"h-10","w-10","rounded-full","bg-blue-100","flex","items-center","justify-center"],[1,"w-5","h-5","text-blue-600",3,"img"],[1,"ml-4"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-900"],[1,"text-sm","text-gray-900","flex","items-center","gap-1"],[1,"w-3","h-3","text-gray-400",3,"img"],["class","text-sm text-gray-500 flex items-center gap-1",4,"ngIf"],[1,"flex","flex-col","gap-1"],["class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",4,"ngIf"],["class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"p-2","text-gray-400","hover:text-gray-600","rounded-full","hover:bg-gray-100","transition-colors",3,"click"],[1,"w-5","h-5",3,"img"],["class","absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",3,"click",4,"ngIf"],[1,"text-sm","text-gray-500","flex","items-center","gap-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-red-100","text-red-800"],[1,"w-3","h-3","mr-1",3,"img"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-orange-100","text-orange-800"],[1,"absolute","right-0","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","z-50",3,"click"],[1,"py-2"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","border-b","border-gray-100"],[1,"w-full","px-4","py-2","text-left","text-sm","text-gray-700","hover:bg-gray-50","flex","items-center","gap-3",3,"click"],[1,"w-4","h-4","text-gray-500",3,"img"],[1,"w-12","h-12","text-gray-400","mx-auto","mb-4",3,"img"],[1,"text-gray-600"],[1,"px-6","py-4","border-t","border-gray-200","bg-gray-50"],[1,"text-sm","text-gray-700"],[1,"flex","items-center","space-x-2"],[1,"px-3","py-2","text-sm","font-medium","text-gray-500","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-1",3,"click","disabled"],[1,"flex","space-x-1"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"fixed","inset-0","z-50","overflow-hidden",3,"click"],[1,"absolute","inset-0","bg-black","bg-opacity-50"],[1,"absolute","right-0","top-0","h-full","w-full","max-w-md","bg-white","shadow-xl","flex","flex-col",3,"click"],[1,"bg-gradient-to-r","from-blue-600","to-blue-700","px-6","py-4","text-white","flex-shrink-0"],[1,"text-lg","font-semibold"],[1,"text-blue-100","text-sm","mt-1"],[1,"p-2","hover:bg-white/20","rounded-lg","transition-colors",3,"click"],[1,"flex-1","overflow-y-auto"],[1,"p-6","space-y-6"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"flex","items-center","gap-4","mb-4"],[1,"bg-blue-100","p-3","rounded-full"],[1,"w-6","h-6","text-blue-600",3,"img"],[1,"text-xl","font-semibold","text-gray-900"],[1,"grid","grid-cols-2","gap-4","text-sm"],[1,"ml-2","font-medium"],[1,"text-lg","font-semibold","text-gray-900","mb-3","flex","items-center","gap-2"],[1,"space-y-3"],[1,"flex","items-center","gap-3"],[1,"w-4","h-4","text-gray-400",3,"img"],[1,"font-medium"],["class","flex items-center gap-3",4,"ngIf"],["class","flex items-start gap-3",4,"ngIf"],[1,"grid","grid-cols-2","gap-4"],[1,"bg-blue-50","rounded-lg","p-4","text-center"],[1,"text-2xl","font-bold","text-blue-900"],[1,"text-sm","text-blue-600"],[1,"bg-green-50","rounded-lg","p-4","text-center"],[1,"text-2xl","font-bold","text-green-900"],[1,"text-sm","text-green-600"],[1,"mt-4","space-y-2","text-sm"],[1,"border-t","border-gray-200","px-6","py-4","bg-gray-50","flex-shrink-0"],[1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-medium","py-3","px-4","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2"],[1,"w-full","bg-gray-600","hover:bg-gray-700","text-white","font-medium","py-3","px-4","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2"],[1,"w-full","bg-green-600","hover:bg-green-700","text-white","font-medium","py-3","px-4","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2",3,"click"],["style","position: fixed !important; \n            top: 0 !important; \n            left: 0 !important; \n            width: 100vw !important; \n            height: 100vh !important; \n            background-color: rgba(255, 0, 0, 0.9) !important; \n            z-index: 999999 !important; \n            display: flex !important; \n            align-items: center !important; \n            justify-content: center !important;",4,"ngIf"],[3,"openChange","patientCreated","open"],[1,"flex","items-start","gap-3"],[1,"w-4","h-4","text-gray-400","mt-0.5",3,"img"],[1,"bg-blue-50","rounded-lg","p-4"],[1,"text-sm"],[1,"w-5","h-5","text-red-600",3,"img"],[1,"bg-red-50","rounded-lg","p-4"],[1,"flex","flex-wrap","gap-2"],["class","inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-medium","bg-red-100","text-red-800"],[1,"w-2","h-2","bg-red-600","rounded-full","mr-2"],[1,"w-5","h-5","text-orange-600",3,"img"],[1,"bg-orange-50","rounded-lg","p-4"],["class","inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-orange-100 text-orange-800",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-medium","bg-orange-100","text-orange-800"],[1,"w-3","h-3","mr-2",3,"img"],["class","flex items-center gap-3 p-2 bg-white rounded border",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-3","p-2","bg-white","rounded","border"],[1,"w-4","h-4","text-blue-600",3,"img"],[1,"font-medium","text-blue-900"],[2,"position","fixed !important","top","0 !important","left","0 !important","width","100vw !important","height","100vh !important","background-color","rgba(255, 0, 0, 0.9) !important","z-index","999999 !important","display","flex !important","align-items","center !important","justify-content","center !important"],[2,"background-color","yellow !important","border","10px solid black !important","padding","50px !important","border-radius","20px !important","max-width","600px !important","width","90% !important"],[2,"font-size","48px !important","font-weight","bold !important","text-align","center !important","margin-bottom","20px !important","color","black !important"],[2,"font-size","24px !important","text-align","center !important","margin-bottom","30px !important","color","black !important"],[2,"text-align","center !important"],[2,"padding","20px 40px !important","background-color","red !important","color","white !important","font-size","24px !important","border","none !important","border-radius","10px !important","cursor","pointer !important",3,"click"]],template:function(n,i){1&n&&(e.nrm(0,"app-breadcrumbs",0),e.j41(1,"app-role-suggestion-modal",1),e.bIt("dismiss",function(){return i.onRoleSuggestionDismiss()})("roleChanged",function(){return i.onRoleChanged()}),e.k0s(),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.nrm(7,"lucide-icon",7),e.k0s(),e.j41(8,"div")(9,"h1",8),e.EFF(10,"Listado de Pacientes"),e.k0s(),e.j41(11,"p",9),e.EFF(12,"Directorio completo del padr\xf3n de pacientes"),e.k0s()()(),e.j41(13,"div",10)(14,"div",11)(15,"div",8),e.EFF(16),e.k0s(),e.j41(17,"div",12),e.EFF(18,"Total pacientes"),e.k0s()(),e.j41(19,"div",11)(20,"div",8),e.EFF(21),e.k0s(),e.j41(22,"div",12),e.EFF(23,"Pacientes activos"),e.k0s()()()()(),e.j41(24,"div",13)(25,"div",14),e.nrm(26,"lucide-icon",15),e.j41(27,"div",16)(28,"h2",17),e.EFF(29,"Gesti\xf3n integral de pacientes"),e.k0s(),e.j41(30,"p",18),e.EFF(31,"Accede al registro completo de pacientes con informaci\xf3n demogr\xe1fica, historial cl\xednico, alergias y medicaci\xf3n actual para prescripci\xf3n segura."),e.k0s(),e.j41(32,"ul",19)(33,"li",20),e.nrm(34,"div",21),e.EFF(35," B\xfasqueda r\xe1pida y avanzada con m\xfaltiples criterios "),e.k0s(),e.j41(36,"li",20),e.nrm(37,"div",21),e.EFF(38," Alertas de alergias y condiciones cr\xf3nicas "),e.k0s(),e.j41(39,"li",20),e.nrm(40,"div",21),e.EFF(41," Historial completo de prescripciones "),e.k0s(),e.j41(42,"li",20),e.nrm(43,"div",21),e.EFF(44," Cumplimiento de normativas de privacidad (HIPAA, GDPR) "),e.k0s()()()()(),e.j41(45,"div",22)(46,"div",23)(47,"div",4)(48,"div")(49,"div",24),e.EFF(50),e.k0s(),e.j41(51,"div",25),e.EFF(52,"Total"),e.k0s()(),e.nrm(53,"lucide-icon",26),e.k0s()(),e.j41(54,"div",27)(55,"div",4)(56,"div")(57,"div",24),e.EFF(58),e.k0s(),e.j41(59,"div",25),e.EFF(60,"Activos"),e.k0s()(),e.nrm(61,"lucide-icon",28),e.k0s()(),e.j41(62,"div",29)(63,"div",4)(64,"div")(65,"div",24),e.EFF(66),e.k0s(),e.j41(67,"div",25),e.EFF(68,"Inactivos"),e.k0s()(),e.nrm(69,"lucide-icon",30),e.k0s()(),e.j41(70,"div",31)(71,"div",4)(72,"div")(73,"div",24),e.EFF(74),e.k0s(),e.j41(75,"div",25),e.EFF(76,"Con alergias"),e.k0s()(),e.nrm(77,"lucide-icon",32),e.k0s()(),e.j41(78,"div",33)(79,"div",4)(80,"div")(81,"div",24),e.EFF(82),e.k0s(),e.j41(83,"div",25),e.EFF(84,"Con condiciones"),e.k0s()(),e.nrm(85,"lucide-icon",34),e.k0s()(),e.j41(86,"div",35)(87,"div",4)(88,"div")(89,"div",24),e.EFF(90),e.k0s(),e.j41(91,"div",25),e.EFF(92,"Edad promedio"),e.k0s()(),e.nrm(93,"lucide-icon",36),e.k0s()()(),e.j41(94,"div",37)(95,"div",38)(96,"nav",39)(97,"button",40),e.bIt("click",function(){return i.switchTab("quick")}),e.EFF(98," B\xfasqueda R\xe1pida "),e.k0s(),e.j41(99,"button",40),e.bIt("click",function(){return i.switchTab("advanced")}),e.EFF(100," B\xfasqueda Avanzada "),e.k0s()()(),e.j41(101,"div",41),e.DNE(102,K,13,3,"div",42)(103,H,70,3,"div",42),e.k0s()(),e.j41(104,"div",43),e.bIt("click",function(){return i.cerrarModalAcciones()}),e.j41(105,"div",44)(106,"div",4)(107,"div")(108,"h3",45),e.EFF(109,"Pacientes registrados"),e.k0s(),e.j41(110,"p",25),e.EFF(111),e.k0s()(),e.j41(112,"div",46)(113,"div",47)(114,"button",48),e.bIt("click",function(g){return i.exportPatients(),g.stopPropagation()}),e.nrm(115,"lucide-icon",49),e.EFF(116," Exportar "),e.k0s(),e.DNE(117,q,20,3,"div",50),e.k0s(),e.j41(118,"button",51),e.bIt("click",function(g){return i.createNewPatient(),g.stopPropagation()}),e.nrm(119,"lucide-icon",49),e.EFF(120," Nuevo paciente "),e.k0s()()()(),e.DNE(121,Q,4,0,"div",52)(122,ae,23,2,"div",53)(123,se,13,8,"div",54),e.k0s()(),e.DNE(124,xe,109,45,"div",55)),2&n&&(e.Y8G("items",i.breadcrumbItems),e.R7$(),e.Y8G("isOpen",i.showRoleSuggestionModal())("suggestedRole","M\xe9dico"),e.R7$(6),e.Y8G("img",i.usersIcon),e.R7$(9),e.JRh(i.stats.total),e.R7$(5),e.JRh(i.stats.active),e.R7$(5),e.Y8G("img",i.usersIcon),e.R7$(24),e.JRh(i.stats.total),e.R7$(3),e.Y8G("img",i.usersIcon),e.R7$(5),e.JRh(i.stats.active),e.R7$(3),e.Y8G("img",i.activityIcon),e.R7$(5),e.JRh(i.stats.inactive),e.R7$(3),e.Y8G("img",i.usersIcon),e.R7$(5),e.JRh(i.stats.withAllergies),e.R7$(3),e.Y8G("img",i.alertIcon),e.R7$(5),e.JRh(i.stats.withConditions),e.R7$(3),e.Y8G("img",i.heartIcon),e.R7$(5),e.JRh(i.stats.averageAge),e.R7$(3),e.Y8G("img",i.calendarIcon),e.R7$(4),e.HbH("quick"===i.activeTab?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.HbH("advanced"===i.activeTab?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(3),e.Y8G("ngIf","quick"===i.activeTab),e.R7$(),e.Y8G("ngIf","advanced"===i.activeTab),e.R7$(8),e.SpI("",i.filteredPatients.length," paciente(s) \u2022 Doble clic para ver detalles"),e.R7$(4),e.Y8G("img",i.downloadIcon),e.R7$(2),e.Y8G("ngIf",i.showExportModal),e.R7$(2),e.Y8G("img",i.userPlusIcon),e.R7$(2),e.Y8G("ngIf",i.loading),e.R7$(),e.Y8G("ngIf",!i.loading),e.R7$(),e.Y8G("ngIf",!i.loading&&i.filteredPatients.length>0),e.R7$(),e.Y8G("ngIf",i.showPatientModal&&i.selectedPatient))},dependencies:[F.MD,F.Sq,F.bT,F.vh,l.YN,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.cb,l.VZ,l.zX,l.X1,l.j4,l.JD,o.flO,o.WGl,E.h,c.t,h.m],styles:['.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.border-b-2[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover{transition:all .2s ease-in-out}.bg-white.rounded-lg.p-4[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;transition:box-shadow .2s ease-in-out}.bg-green-100[_ngcontent-%COMP%]{background-color:#dcfce7}.text-green-800[_ngcontent-%COMP%]{color:#166534}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f3f4f6}.text-gray-800[_ngcontent-%COMP%]{color:#1f2937}.bg-red-100[_ngcontent-%COMP%]{background-color:#fee2e2}.text-red-800[_ngcontent-%COMP%]{color:#991b1b}.bg-orange-100[_ngcontent-%COMP%]{background-color:#fed7aa}.text-orange-800[_ngcontent-%COMP%]{color:#9a3412}.bg-blue-100[_ngcontent-%COMP%]{background-color:#dbeafe}.text-blue-800[_ngcontent-%COMP%]{color:#1e40af}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.pagination-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f8fafc}.pagination-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.border-l-4.border-blue-500[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8fafc)}.border-l-4.border-green-500[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f0fdf4)}.border-l-4.border-gray-500[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f9fafb)}.border-l-4.border-red-500[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fef2f2)}.border-l-4.border-orange-500[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff7ed)}.border-l-4.border-purple-500[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#faf5ff)}.fixed.inset-0.bg-black.bg-opacity-50[_ngcontent-%COMP%]{backdrop-filter:blur(4px)}@media (max-width: 768px){.overflow-x-auto[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch}table[_ngcontent-%COMP%]{min-width:800px}}input[type=checkbox][_ngcontent-%COMP%]{appearance:none;width:16px;height:16px;border:2px solid #d1d5db;border-radius:3px;background-color:#fff;cursor:pointer;position:relative}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#3b82f6;border-color:#3b82f6}input[type=checkbox][_ngcontent-%COMP%]:checked:after{content:"\\2713";position:absolute;top:-2px;left:1px;color:#fff;font-size:12px;font-weight:700}.relative[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding-left:2.5rem}.inline-flex.items-center.px-2.py-1.rounded-full[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.text-center[_ngcontent-%COMP%]   lucide-icon[_ngcontent-%COMP%]{opacity:.5}.bg-gradient-to-r[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}button[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}@media print{.fixed[_ngcontent-%COMP%], button[_ngcontent-%COMP%], .border-t.border-gray-200[_ngcontent-%COMP%]{display:none!important}.bg-white[_ngcontent-%COMP%]{background:#fff!important}.text-gray-900[_ngcontent-%COMP%]{color:#000!important}}']})}}return a})()},152:(X,j,s)=>{s.d(j,{B:()=>o});var e=s(8839),F=s(9974),l=s(4360);function o(R,f=e.E){return(0,F.N)((C,y)=>{let m=null,E=null,c=null;const h=()=>{if(m){m.unsubscribe(),m=null;const u=E;E=null,y.next(u)}};function p(){const u=c+R,P=f.now();if(P<u)return m=this.schedule(void 0,u-P),void y.add(m);h()}C.subscribe((0,l._)(y,u=>{E=u,c=f.now(),m||(m=f.schedule(p,R),y.add(m))},()=>{h(),y.complete()},void 0,()=>{E=m=null}))})}},3294:(X,j,s)=>{s.d(j,{F:()=>o});var e=s(3669),F=s(9974),l=s(4360);function o(f,C=e.D){return f=f??R,(0,F.N)((y,m)=>{let E,c=!0;y.subscribe((0,l._)(m,h=>{const p=C(h);(c||!f(E,p))&&(c=!1,E=p,m.next(h))}))})}function R(f,C){return f===C}}}]);