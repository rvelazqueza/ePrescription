"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[8624],{8777:(j,b,c)=>{c.d(b,{m:()=>C});var h=c(177),m=c(6283),o=c(8516),r=c(4438);function x(l,_){if(1&l&&r.nrm(0,"lucide-icon",4),2&l){const d=r.XpG(2).$implicit;r.Y8G("img",d.icon)}}function e(l,_){if(1&l&&(r.j41(0,"a",9),r.DNE(1,x,1,1,"lucide-icon",10),r.EFF(2),r.k0s()),2&l){const d=r.XpG().$implicit;r.Y8G("routerLink",d.route),r.R7$(),r.Y8G("ngIf",d.icon),r.R7$(),r.SpI(" ",d.label," ")}}function F(l,_){if(1&l&&r.nrm(0,"lucide-icon",4),2&l){const d=r.XpG(2).$implicit;r.Y8G("img",d.icon)}}function k(l,_){if(1&l&&(r.j41(0,"span",11),r.DNE(1,F,1,1,"lucide-icon",10),r.EFF(2),r.k0s()),2&l){const d=r.XpG(),s=d.$implicit;r.BMQ("aria-current",d.last?"page":null),r.R7$(),r.Y8G("ngIf",s.icon),r.R7$(),r.SpI(" ",s.label," ")}}function v(l,_){if(1&l&&(r.j41(0,"li",2),r.nrm(1,"lucide-icon",6),r.DNE(2,e,3,3,"a",7)(3,k,3,3,"span",8),r.k0s()),2&l){const d=_.$implicit,s=_.last,g=r.XpG();r.R7$(),r.Y8G("img",g.chevronRightIcon),r.R7$(),r.Y8G("ngIf",d.route&&!s),r.R7$(),r.Y8G("ngIf",!d.route||s)}}let C=(()=>{class l{constructor(){this.items=[],this.homeIcon=o.ww0,this.chevronRightIcon=o.c_$}static{this.\u0275fac=function(s){return new(s||l)}}static{this.\u0275cmp=r.VBU({type:l,selectors:[["app-breadcrumbs"]],inputs:{items:"items"},standalone:!0,features:[r.aNF],decls:7,vars:2,consts:[["aria-label","Breadcrumb",1,"fixed","left-64","right-0","z-30","bg-gray-50","border-b","border-gray-200","px-6","py-3",2,"top","93px"],[1,"inline-flex","items-center","space-x-1","md:space-x-3"],[1,"inline-flex","items-center"],["routerLink","/dashboard",1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors"],["aria-hidden","true",1,"w-4","h-4","mr-2",3,"img"],["class","inline-flex items-center",4,"ngFor","ngForOf"],["aria-hidden","true",1,"w-4","h-4","text-gray-400","mx-1",3,"img"],["class","inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors",3,"routerLink",4,"ngIf"],["class","inline-flex items-center text-sm font-medium text-gray-500",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-blue-600","transition-colors",3,"routerLink"],["class","w-4 h-4 mr-2","aria-hidden","true",3,"img",4,"ngIf"],[1,"inline-flex","items-center","text-sm","font-medium","text-gray-500"]],template:function(s,g){1&s&&(r.j41(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),r.nrm(4,"lucide-icon",4),r.EFF(5," Inicio "),r.k0s()(),r.DNE(6,v,4,3,"li",5),r.k0s()()),2&s&&(r.R7$(4),r.Y8G("img",g.homeIcon),r.R7$(2),r.Y8G("ngForOf",g.items))},dependencies:[h.MD,h.Sq,h.bT,m.iI,m.Wk,o.flO,o.WGl],encapsulation:2})}}return l})()},1265:(j,b,c)=>{c.d(b,{y:()=>d});var h=c(177),m=c(8516),o=c(4438),r=c(6283);const x=[[["","slot","action"]]],e=["[slot=action]"];function F(s,g){if(1&s){const n=o.RV6();o.j41(0,"button",12),o.bIt("click",function(){o.eBV(n);const t=o.XpG();return o.Njj(t.onCreateUserClick())}),o.qSk(),o.j41(1,"svg",13),o.nrm(2,"path",14),o.k0s(),o.EFF(3," \xbfCrear usuario? "),o.k0s()}}function k(s,g){1&s&&(o.j41(0,"span",15),o.EFF(1," Sistema profesional de seguridad "),o.k0s())}function v(s,g){if(1&s&&(o.j41(0,"div",1)(1,"div",16),o.nrm(2,"lucide-icon",17),o.k0s(),o.j41(3,"div",18),o.nrm(4,"lucide-icon",17),o.k0s(),o.j41(5,"div",19),o.nrm(6,"lucide-icon",17),o.k0s()()),2&s){const n=o.XpG();o.R7$(2),o.Y8G("img",n.stethoscopeIcon),o.R7$(2),o.Y8G("img",n.shieldCheckIcon),o.R7$(2),o.Y8G("img",n.building2Icon)}}function C(s,g){if(1&s){const n=o.RV6();o.j41(0,"div",20)(1,"span",21),o.nrm(2,"lucide-icon",22),o.EFF(3," HL7 FHIR "),o.k0s(),o.j41(4,"span",21),o.qSk(),o.j41(5,"svg",23),o.nrm(6,"path",24),o.k0s(),o.EFF(7," FDA Compliant "),o.k0s(),o.joV(),o.j41(8,"span",21),o.nrm(9,"lucide-icon",22),o.EFF(10," OMS Standards "),o.k0s(),o.j41(11,"span",25),o.bIt("click",function(){o.eBV(n);const t=o.XpG();return o.Njj(t.navigateToNotifications())}),o.qSk(),o.j41(12,"svg",26),o.nrm(13,"path",27)(14,"path",28),o.k0s(),o.EFF(15," 3 notificaciones "),o.k0s()()}if(2&s){const n=o.XpG();o.R7$(2),o.Y8G("img",n.shieldCheckIcon),o.R7$(7),o.Y8G("img",n.stethoscopeIcon)}}function l(s,g){1&s&&(o.j41(0,"div",29)(1,"span",15),o.EFF(2," Cifrado E2E "),o.k0s(),o.j41(3,"span",15),o.EFF(4," HIPAA Compliant "),o.k0s(),o.j41(5,"span",15),o.EFF(6," FDA 21 CFR Part 11 "),o.k0s(),o.j41(7,"span",15),o.EFF(8," NIST 800-63B "),o.k0s()())}function _(s,g){1&s&&(o.j41(0,"div",30)(1,"div",31)(2,"div",32),o.qSk(),o.j41(3,"svg",33),o.nrm(4,"path",34),o.k0s()(),o.joV(),o.j41(5,"span",35),o.EFF(6,"Validaci\xf3n autom\xe1tica con colegios profesionales"),o.k0s()(),o.j41(7,"div",31)(8,"div",32),o.qSk(),o.j41(9,"svg",33),o.nrm(10,"path",36),o.k0s()(),o.joV(),o.j41(11,"span",35),o.EFF(12,"Cumplimiento normativo HL7, FDA y OMS"),o.k0s()()())}let d=(()=>{class s{constructor(n){this.router=n,this.title="",this.description="",this.actionButton=!1,this.gradient="",this.showMedicalIcons=!1,this.showCreateUserButton=!1,this.createUserButtonClick=null,this.showSecurityBadge=!1,this.stethoscopeIcon=m.oYO,this.shieldCheckIcon=m.oxo,this.building2Icon=m.t6i}onCreateUserClick(){this.createUserButtonClick&&this.createUserButtonClick()}navigateToNotifications(){this.router.navigate(["/notificaciones/lista"])}static{this.\u0275fac=function(u){return new(u||s)(o.rXU(r.Ix))}}static{this.\u0275cmp=o.VBU({type:s,selectors:[["app-page-header"]],inputs:{title:"title",description:"description",icon:"icon",actionButton:"actionButton",gradient:"gradient",showMedicalIcons:"showMedicalIcons",showCreateUserButton:"showCreateUserButton",createUserButtonClick:"createUserButtonClick",showSecurityBadge:"showSecurityBadge"},standalone:!0,features:[o.aNF],ngContentSelectors:e,decls:18,vars:11,consts:[[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"w-16","h-16","bg-white/20","rounded-xl","flex","items-center","justify-center","backdrop-blur-sm"],[1,"w-8","h-8","text-white",3,"img"],[1,"text-2xl","font-bold"],[1,"text-blue-100"],["class","inline-flex items-center px-4 py-2 bg-white/10 text-white border border-white/30 rounded-lg hover:bg-white/20 transition-colors text-sm",3,"click",4,"ngIf"],["class","inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-white/20 text-white border border-white/30",4,"ngIf"],["class","flex items-center gap-4",4,"ngIf"],["class","flex gap-2",4,"ngIf"],["class","mt-4 flex flex-wrap gap-2",4,"ngIf"],["class","mt-6 flex flex-wrap gap-4",4,"ngIf"],[1,"inline-flex","items-center","px-4","py-2","bg-white/10","text-white","border","border-white/30","rounded-lg","hover:bg-white/20","transition-colors","text-sm",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-white/20","text-white","border","border-white/30"],["title","Servicios M\xe9dicos",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],[1,"w-7","h-7","text-white","group-hover:scale-110","transition-transform","duration-200",3,"img"],["title","Seguridad y Protecci\xf3n",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],["title","Centros M\xe9dicos",1,"w-14","h-14","bg-white/20","rounded-2xl","flex","items-center","justify-center","backdrop-blur-sm","border","border-white/30","hover:bg-white/30","transition-all","duration-200","cursor-pointer","group"],[1,"flex","gap-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-white/20","text-white","border","border-white/30","hover:bg-white/30","transition-colors"],[1,"w-3","h-3","mr-1",3,"img"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["title","Ver notificaciones pendientes",1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-red-500","text-white","border","border-red-400","cursor-pointer","hover:bg-red-600","transition-colors","shadow-lg",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1","animate-pulse"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m13.73 21a2 2 0 0 1-3.46 0"],[1,"mt-4","flex","flex-wrap","gap-2"],[1,"mt-6","flex","flex-wrap","gap-4"],[1,"flex","items-center","gap-2","text-white/90"],[1,"w-5","h-5","bg-white/20","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-sm","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.5-2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(u,t){1&u&&(o.NAR(x),o.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),o.nrm(4,"lucide-icon",3),o.k0s(),o.j41(5,"div")(6,"h1",4),o.EFF(7),o.k0s(),o.j41(8,"p",5),o.EFF(9),o.k0s()()(),o.j41(10,"div",1),o.SdG(11),o.DNE(12,F,4,0,"button",6)(13,k,2,0,"span",7)(14,v,7,3,"div",8)(15,C,16,2,"div",9),o.k0s()(),o.DNE(16,l,9,0,"div",10)(17,_,13,0,"div",11),o.k0s()),2&u&&(o.HbH("bg-gradient-to-r text-white rounded-lg p-6 "+(t.gradient||"from-blue-600 to-purple-700")),o.R7$(4),o.Y8G("img",t.icon),o.R7$(3),o.JRh(t.title),o.R7$(2),o.JRh(t.description),o.R7$(3),o.Y8G("ngIf",t.showCreateUserButton),o.R7$(),o.Y8G("ngIf",t.showSecurityBadge),o.R7$(),o.Y8G("ngIf",(t.showMedicalIcons||t.title.includes("Registro de usuarios")||t.title.includes("Usuarios")&&!t.title.includes("Gesti\xf3n de Usuarios")||t.title.includes("Seguridad")&&!t.title.includes("Par\xe1metros de Seguridad"))&&!t.title.includes("Autoservicio")),o.R7$(),o.Y8G("ngIf",t.title.includes("Dashboard")||t.description.includes("Prescripci\xf3n Electr\xf3nica")),o.R7$(),o.Y8G("ngIf",t.title.includes("Autoservicio")),o.R7$(),o.Y8G("ngIf",t.title.includes("Registro de usuarios")))},dependencies:[h.MD,h.bT,m.flO,m.WGl],encapsulation:2})}}return s})()},8624:(j,b,c)=>{c.r(b),c.d(b,{ComprarTalonariosComponent:()=>g});var h=c(177),m=c(4341),o=c(8516),r=c(8777),x=c(1265),e=c(4438);function F(n,u){if(1&n&&(e.j41(0,"div",56),e.nrm(1,"lucide-icon",57),e.j41(2,"h3",58),e.EFF(3,"No hay talonarios disponibles"),e.k0s(),e.j41(4,"p",59),e.EFF(5,"No se encontraron talonarios con los filtros aplicados"),e.k0s()()),2&n){const t=e.XpG();e.R7$(),e.Y8G("img",t.packageIcon)}}function k(n,u){if(1&n&&(e.j41(0,"tr",66)(1,"td",67)(2,"div",68),e.nrm(3,"lucide-icon",69),e.j41(4,"div")(5,"span",70),e.EFF(6),e.k0s()()()(),e.j41(7,"td",71)(8,"div")(9,"p",72),e.EFF(10),e.k0s(),e.j41(11,"p",73),e.EFF(12),e.k0s()()(),e.j41(13,"td",67)(14,"div",68),e.nrm(15,"lucide-icon",74),e.j41(16,"span",75),e.EFF(17),e.k0s()()(),e.j41(18,"td",67)(19,"span",76),e.EFF(20),e.k0s()(),e.j41(21,"td",67)(22,"span",77),e.nrm(23,"lucide-icon",78),e.EFF(24),e.k0s()()()),2&n){const t=u.$implicit,a=e.XpG(2);e.R7$(3),e.Y8G("img",a.receiptIcon),e.R7$(2),e.HbH(a.getTipoBadgeClass(t.tipo,t.subTipo)),e.R7$(),e.SpI(" ",a.transformText(a.getTipoTexto(t.tipo,t.subTipo))," "),e.R7$(4),e.JRh(a.transformText(t.descripcion)),e.R7$(2),e.JRh(a.transformText("50 recetas por talonario")),e.R7$(3),e.Y8G("img",a.dollarSignIcon),e.R7$(2),e.SpI("\u20a1",t.precio.toLocaleString(),""),e.R7$(3),e.SpI("",t.limite," talonarios"),e.R7$(3),e.Y8G("img",a.checkCircle2Icon),e.R7$(),e.SpI(" ",a.transformText("Disponible")," ")}}function v(n,u){if(1&n&&(e.j41(0,"div",60)(1,"table",61)(2,"thead",62)(3,"tr")(4,"th",63),e.EFF(5,"Tipo"),e.k0s(),e.j41(6,"th",63),e.EFF(7,"Descripci\xf3n"),e.k0s(),e.j41(8,"th",63),e.EFF(9,"Precio Unitario"),e.k0s(),e.j41(10,"th",63),e.EFF(11,"L\xedmite M\xe1ximo"),e.k0s(),e.j41(12,"th",63),e.EFF(13,"Disponible"),e.k0s()()(),e.j41(14,"tbody",64),e.DNE(15,k,25,11,"tr",65),e.k0s()()()),2&n){const t=e.XpG();e.R7$(15),e.Y8G("ngForOf",t.talonariosFiltrados)}}function C(n,u){if(1&n){const t=e.RV6();e.j41(0,"tr",93)(1,"td",94),e.EFF(2),e.k0s(),e.j41(3,"td",95),e.EFF(4),e.k0s(),e.j41(5,"td",96)(6,"span",70),e.EFF(7),e.k0s()(),e.j41(8,"td",94),e.EFF(9),e.k0s(),e.j41(10,"td",95),e.EFF(11),e.k0s(),e.j41(12,"td",96)(13,"span",97),e.EFF(14),e.k0s()(),e.j41(15,"td",98)(16,"button",99),e.bIt("click",function(){const i=e.eBV(t).$implicit,p=e.XpG(2);return e.Njj(p.verFactura(i))}),e.nrm(17,"lucide-icon",46),e.EFF(18," Ver "),e.k0s()()()}if(2&n){const t=u.$implicit,a=e.XpG(2);e.R7$(2),e.SpI(" ",a.formatDateTime(t.fecha)," "),e.R7$(2),e.SpI(" ",t.numeroOrden," "),e.R7$(2),e.HbH(a.getTipoBadgeClass(t.tipo,t.subTipo)),e.R7$(),e.SpI(" ",a.transformText(a.getTipoTexto(t.tipo,t.subTipo))," "),e.R7$(2),e.SpI(" ",t.cantidad," "),e.R7$(2),e.SpI(" \u20a1",t.total.toLocaleString()," "),e.R7$(3),e.SpI(" ",a.transformText(t.estado.toUpperCase())," "),e.R7$(3),e.Y8G("img",a.eyeIcon)}}function l(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",79),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cerrarHistorialDialog())}),e.j41(1,"div",80),e.nrm(2,"div",81),e.j41(3,"div",82),e.bIt("click",function(i){return e.eBV(t),e.Njj(i.stopPropagation())}),e.j41(4,"div",83)(5,"div",9)(6,"div")(7,"h3",84),e.EFF(8," Historial de Compras "),e.k0s(),e.j41(9,"p",85),e.EFF(10," Registro completo de todas sus compras de talonarios "),e.k0s()(),e.j41(11,"button",86),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cerrarHistorialDialog())}),e.nrm(12,"lucide-icon",87),e.k0s()()(),e.j41(13,"div",71)(14,"div",60)(15,"table",88)(16,"thead",62)(17,"tr")(18,"th",89),e.EFF(19,"Fecha"),e.k0s(),e.j41(20,"th",89),e.EFF(21,"N\xb0 Orden"),e.k0s(),e.j41(22,"th",89),e.EFF(23,"Tipo"),e.k0s(),e.j41(24,"th",89),e.EFF(25,"Cantidad"),e.k0s(),e.j41(26,"th",89),e.EFF(27,"Total"),e.k0s(),e.j41(28,"th",89),e.EFF(29,"Estado"),e.k0s(),e.j41(30,"th",89),e.EFF(31,"Acciones"),e.k0s()()(),e.j41(32,"tbody",64),e.DNE(33,C,19,9,"tr",90),e.k0s()()()(),e.j41(34,"div",91)(35,"button",92),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cerrarHistorialDialog())}),e.EFF(36," Cerrar "),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(12),e.Y8G("img",t.xIcon),e.R7$(21),e.Y8G("ngForOf",t.historialCompras)}}function _(n,u){if(1&n&&(e.j41(0,"div",118)(1,"div",103),e.nrm(2,"lucide-icon",74),e.j41(3,"span",119),e.EFF(4,"C\xf3digo Validado"),e.k0s()(),e.j41(5,"p",120)(6,"strong"),e.EFF(7),e.k0s(),e.nrm(8,"br"),e.EFF(9," Estado: "),e.j41(10,"span",121),e.EFF(11),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("img",t.checkCircleIcon),e.R7$(5),e.JRh(t.formData.nombreProfesional),e.R7$(4),e.JRh(t.formData.estadoProfesional.toUpperCase())}}function d(n,u){if(1&n&&(e.j41(0,"div",122)(1,"div",103),e.nrm(2,"lucide-icon",123),e.j41(3,"span",124),e.EFF(4,"C\xf3digo No Activo"),e.k0s()(),e.j41(5,"p",125),e.EFF(6," El c\xf3digo profesional no est\xe1 en estado activo. No puede realizar compras de talonarios. "),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("img",t.alertCircleIcon)}}function s(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",79),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cerrarComprarDialog())}),e.j41(1,"div",80),e.nrm(2,"div",81),e.j41(3,"div",100),e.bIt("click",function(i){return e.eBV(t),e.Njj(i.stopPropagation())}),e.j41(4,"div",83)(5,"div",9)(6,"div")(7,"h3",84),e.EFF(8," Comprar Talonarios "),e.k0s(),e.j41(9,"p",85),e.EFF(10," Complete la informaci\xf3n para adquirir talonarios. El sistema validar\xe1 su c\xf3digo profesional con el colegio correspondiente. "),e.k0s()(),e.j41(11,"button",86),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cerrarComprarDialog())}),e.nrm(12,"lucide-icon",87),e.k0s()()(),e.j41(13,"div",101)(14,"div",102)(15,"div",103),e.nrm(16,"lucide-icon",46),e.j41(17,"h4",104),e.EFF(18,"Datos del Profesional"),e.k0s()(),e.j41(19,"div",105)(20,"div",106)(21,"label",107),e.EFF(22,"Colegio Profesional *"),e.k0s(),e.j41(23,"select",108),e.mxI("ngModelChange",function(i){e.eBV(t);const p=e.XpG();return e.DH7(p.formData.colegioProfesional,i)||(p.formData.colegioProfesional=i),e.Njj(i)}),e.j41(24,"option",29),e.EFF(25,"Seleccione..."),e.k0s(),e.j41(26,"option",109),e.EFF(27,"Colegio de M\xe9dicos y Cirujanos"),e.k0s(),e.j41(28,"option",110),e.EFF(29,"Colegio de Farmac\xe9uticos"),e.k0s(),e.j41(30,"option",111),e.EFF(31,"Colegio de M\xe9dicos Veterinarios"),e.k0s()()(),e.j41(32,"div",106)(33,"label",107),e.EFF(34,"C\xf3digo Profesional *"),e.k0s(),e.j41(35,"div",44)(36,"input",112),e.mxI("ngModelChange",function(i){e.eBV(t);const p=e.XpG();return e.DH7(p.formData.codigoProfesional,i)||(p.formData.codigoProfesional=i),e.Njj(i)}),e.k0s(),e.j41(37,"button",113),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.validarCodigoProfesional())}),e.nrm(38,"lucide-icon",46),e.k0s()()()(),e.DNE(39,_,12,3,"div",114)(40,d,7,1,"div",115),e.k0s()(),e.j41(41,"div",116)(42,"button",92),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cerrarComprarDialog())}),e.EFF(43," Cancelar "),e.k0s(),e.j41(44,"button",117),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.continuarAlPago())}),e.nrm(45,"lucide-icon",46),e.EFF(46," Continuar al Pago "),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(12),e.Y8G("img",t.xIcon),e.R7$(4),e.Y8G("img",t.userIcon),e.R7$(7),e.R50("ngModel",t.formData.colegioProfesional),e.R7$(13),e.R50("ngModel",t.formData.codigoProfesional),e.Y8G("disabled",t.professionalValidated),e.R7$(),e.Y8G("disabled",!t.formData.codigoProfesional||!t.formData.colegioProfesional||t.professionalValidated||t.validatingProfessional),e.R7$(),e.AVh("animate-spin",t.validatingProfessional),e.Y8G("img",t.validatingProfessional?t.loader2Icon:t.professionalValidated?t.checkCircleIcon:t.shieldCheckIcon),e.R7$(),e.Y8G("ngIf",t.professionalValidated),e.R7$(),e.Y8G("ngIf",t.professionalValidated&&"activo"!==t.formData.estadoProfesional),e.R7$(4),e.Y8G("disabled",!t.professionalValidated||"activo"!==t.formData.estadoProfesional),e.R7$(),e.Y8G("img",t.creditCardIcon)}}let g=(()=>{class n{constructor(){this.receiptIcon=o.TA3,this.creditCardIcon=o.y5g,this.shoppingCartIcon=o.JBW,this.searchIcon=o.vji,this.filterIcon=o.dJT,this.downloadIcon=o.f5X,this.plusIcon=o.FWt,this.packageIcon=o.lPX,this.checkCircle2Icon=o.Jly,this.dollarSignIcon=o.G9t,this.calendarIcon=o.VvS,this.infoIcon=o.R2D,this.eyeIcon=o.kU3,this.xIcon=o.X,this.userIcon=o.KJW,this.shieldCheckIcon=o.oxo,this.loader2Icon=o.krw,this.checkCircleIcon=o.rAV,this.alertCircleIcon=o.RIJ,this.breadcrumbItems=[{label:"Talonarios",route:"/talonarios"},{label:"Comprar Talonarios"}],this.terminoBusqueda="",this.filtroTipo="",this.filtroSubTipo="",this.showUppercase=!1,this.showHistorialDialog=!1,this.showComprarDialog=!1,this.validatingProfessional=!1,this.professionalValidated=!1,this.formData={colegioProfesional:"",codigoProfesional:"",nombreProfesional:"",estadoProfesional:""},this.tiposTalonarios=[{id:"receta-normal",tipo:"receta",subTipo:"normal",cantidad:1,precio:1500,descripcion:"Talonario de Recetas Normales",limite:10},{id:"receta-antimicrobiano",tipo:"receta",subTipo:"antimicrobiano",cantidad:1,precio:2500,descripcion:"Talonario de Recetas Antimicrobianas",limite:5},{id:"receta-estupefaciente",tipo:"receta",subTipo:"estupefaciente",cantidad:1,precio:3500,descripcion:"Talonario de Recetas Estupefacientes",limite:3},{id:"receta-psicotropico",tipo:"receta",subTipo:"psicotropico",cantidad:1,precio:3e3,descripcion:"Talonario de Recetas Psicotr\xf3picas",limite:4},{id:"despacho-normal",tipo:"despacho",cantidad:1,precio:1e3,descripcion:"Talonario de Despacho de Farmacia",limite:15}],this.talonariosFiltrados=[...this.tiposTalonarios],this.historialCompras=[{id:"COMP-001",fecha:"2024-10-05T14:30:00",numeroOrden:"ORD-2024-1523",tipo:"receta",subTipo:"antimicrobiano",cantidad:2,precioUnitario:2500,total:5e3,estado:"completado",metodoPago:"Tarjeta de cr\xe9dito VISA ****1234",numeroFactura:"FACT-2024-1523"},{id:"COMP-002",fecha:"2024-10-04T10:15:00",numeroOrden:"ORD-2024-1498",tipo:"receta",subTipo:"normal",cantidad:5,precioUnitario:1500,total:7500,estado:"completado",metodoPago:"Transferencia SINPE M\xf3vil",numeroFactura:"FACT-2024-1498"},{id:"COMP-003",fecha:"2024-10-03T16:45:00",numeroOrden:"ORD-2024-1475",tipo:"despacho",cantidad:10,precioUnitario:1e3,total:1e4,estado:"completado",metodoPago:"Tarjeta de d\xe9bito BAC ****5678",numeroFactura:"FACT-2024-1475"}]}filtrarTalonarios(){this.talonariosFiltrados=this.tiposTalonarios.filter(t=>(!this.terminoBusqueda||t.descripcion.toLowerCase().includes(this.terminoBusqueda.toLowerCase())||t.subTipo&&t.subTipo.toLowerCase().includes(this.terminoBusqueda.toLowerCase()))&&(!this.filtroTipo||t.tipo===this.filtroTipo)&&(!this.filtroSubTipo||t.subTipo===this.filtroSubTipo))}toggleMayusculas(){this.showUppercase=!this.showUppercase}transformText(t){return this.showUppercase?t.toUpperCase():t}getTipoBadgeClass(t,a){return"receta"===t?{antimicrobiano:"bg-blue-100 text-blue-800",estupefaciente:"bg-purple-100 text-purple-800",psicotropico:"bg-pink-100 text-pink-800",normal:"bg-gray-100 text-gray-800"}[a]||"bg-gray-100 text-gray-800":"bg-teal-100 text-teal-800"}getTipoTexto(t,a){return"receta"===t?a?a.toUpperCase():"RECETA":"DESPACHO"}abrirHistorialCompras(){this.showHistorialDialog=!0}cerrarHistorialDialog(){this.showHistorialDialog=!1}abrirComprarTalonarios(){this.showComprarDialog=!0}cerrarComprarDialog(){this.showComprarDialog=!1,this.resetFormulario()}validarCodigoProfesional(){this.validatingProfessional=!0,setTimeout(()=>{this.formData.nombreProfesional="Dr. Juan P\xe9rez Gonz\xe1lez",this.formData.estadoProfesional="activo",this.professionalValidated=!0,this.validatingProfessional=!1},1500)}continuarAlPago(){console.log("Continuar al pago..."),this.cerrarComprarDialog()}resetFormulario(){this.formData={colegioProfesional:"",codigoProfesional:"",nombreProfesional:"",estadoProfesional:""},this.professionalValidated=!1,this.validatingProfessional=!1}formatDateTime(t){return new Date(t).toLocaleString()}verFactura(t){console.log("Ver factura:",t)}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-comprar-talonarios"]],standalone:!0,features:[e.aNF],decls:101,vars:25,consts:[[1,"space-y-6"],[3,"items"],["title","Compra de Talonarios","description","Gesti\xf3n y adquisici\xf3n de talonarios para recetas y despacho de medicamentos controlados",3,"icon","actionButton"],["slot","action",1,"bg-white/20","backdrop-blur-sm","text-white","px-4","py-2","rounded-lg","border","border-white/30"],[1,"text-right"],[1,"text-xs","text-white/80"],[1,"text-2xl","font-bold","text-white"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-blue-500","p-6"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600","font-medium"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-3","bg-blue-100","rounded-lg"],[1,"w-8","h-8","text-blue-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-green-500","p-6"],[1,"p-3","bg-green-100","rounded-lg"],[1,"w-8","h-8","text-green-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-purple-500","p-6"],[1,"p-3","bg-purple-100","rounded-lg"],[1,"w-8","h-8","text-purple-600",3,"img"],[1,"bg-white","rounded-lg","shadow","border-l-4","border-l-yellow-500","p-6"],[1,"p-3","bg-yellow-100","rounded-lg"],[1,"w-8","h-8","text-yellow-600",3,"img"],[1,"bg-white","rounded-lg","shadow","p-6"],[1,"grid","gap-4","md:grid-cols-4"],[1,"relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-4","h-4","text-gray-400",3,"img"],["type","text","placeholder","Buscar tipo de talonario...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","input","ngModel"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],["value",""],["value","receta"],["value","despacho"],["value","normal"],["value","antimicrobiano"],["value","estupefaciente"],["value","psicotropico"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","hover:bg-gray-50","text-sm","font-medium",3,"click"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gradient-to-r","from-blue-50","to-white"],[1,"flex","items-center","space-x-3"],[1,"p-2","bg-blue-100","rounded-lg"],[1,"w-5","h-5","text-blue-600",3,"img"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","gap-2"],[1,"px-3","py-2","text-sm","bg-gray-100","text-gray-700","rounded-lg","hover:bg-gray-200","flex","items-center","gap-2",3,"click"],[1,"w-4","h-4",3,"img"],[1,"px-3","py-2","text-sm","bg-blue-100","text-blue-700","rounded-lg","hover:bg-blue-200","flex","items-center","gap-2",3,"click"],["class","text-center py-12",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"flex","items-start"],[1,"w-5","h-5","text-blue-600","mt-0.5","mr-3","flex-shrink-0",3,"img"],[1,"text-sm","font-medium","text-blue-900","mb-1"],[1,"text-sm","text-blue-700"],["class","fixed inset-0 z-50 overflow-y-auto",3,"click",4,"ngIf"],[1,"text-center","py-12"],[1,"w-16","h-16","text-gray-300","mx-auto","mb-4",3,"img"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"overflow-x-auto"],[1,"w-full","min-w-[800px]"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-blue-50/50",4,"ngFor","ngForOf"],[1,"hover:bg-blue-50/50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],[1,"w-4","h-4","text-blue-600",3,"img"],[1,"px-2","py-1","text-xs","font-semibold","rounded-full"],[1,"px-6","py-4"],[1,"font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"w-4","h-4","text-green-600",3,"img"],[1,"text-lg","font-semibold","text-green-600"],[1,"text-sm","text-gray-900"],[1,"inline-flex","items-center","px-2","py-1","text-xs","font-medium","bg-green-100","text-green-800","rounded-full"],[1,"w-3","h-3","mr-1",3,"img"],[1,"fixed","inset-0","z-50","overflow-y-auto",3,"click"],[1,"flex","items-center","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-6xl","sm:w-full",3,"click"],[1,"bg-white","px-6","py-4","border-b","border-gray-200"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],[1,"w-5","h-5","text-gray-400",3,"img"],[1,"w-full"],[1,"px-4","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-gray-50","px-6","py-3","flex","justify-end"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],[1,"hover:bg-gray-50"],[1,"px-4","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-4","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-4","py-4","whitespace-nowrap"],[1,"px-2","py-1","text-xs","font-semibold","rounded-full","bg-green-100","text-green-800"],[1,"px-4","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-blue-600","hover:text-blue-900","flex","items-center","gap-1",3,"click"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-2xl","sm:w-full",3,"click"],[1,"px-6","py-4","space-y-6"],[1,"space-y-4","p-4","border","rounded-lg","bg-gray-50"],[1,"flex","items-center","gap-2"],[1,"font-medium"],[1,"grid","grid-cols-2","gap-4"],[1,"space-y-2"],[1,"block","text-sm","font-medium","text-gray-700"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["value","medicos"],["value","farmaceuticos"],["value","veterinarios"],["type","text","placeholder","MED-12345",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","disabled:bg-gray-100",3,"ngModelChange","ngModel","disabled"],[1,"px-3","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","p-3 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],["class","p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[1,"bg-gray-50","px-6","py-3","flex","justify-between"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-blue-600","border","border-transparent","rounded-md","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-2",3,"click","disabled"],[1,"p-3","bg-green-50","border","border-green-200","rounded-lg"],[1,"text-sm","font-medium","text-green-800"],[1,"text-sm","text-green-700","mt-1"],[1,"px-2","py-1","text-xs","font-medium","bg-green-100","text-green-800","rounded-full"],[1,"p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"w-4","h-4","text-red-600",3,"img"],[1,"text-sm","font-medium","text-red-800"],[1,"text-sm","text-red-700","mt-1"]],template:function(a,i){1&a&&(e.j41(0,"div",0),e.nrm(1,"app-breadcrumbs",1),e.j41(2,"app-page-header",2)(3,"div",3)(4,"div",4)(5,"p",5),e.EFF(6,"Disponibles para compra"),e.k0s(),e.j41(7,"p",6),e.EFF(8),e.k0s()()()(),e.j41(9,"div",7)(10,"div",8)(11,"div",9)(12,"div")(13,"p",10),e.EFF(14,"Tipos Disponibles"),e.k0s(),e.j41(15,"p",11),e.EFF(16),e.k0s()(),e.j41(17,"div",12),e.nrm(18,"lucide-icon",13),e.k0s()()(),e.j41(19,"div",14)(20,"div",9)(21,"div")(22,"p",10),e.EFF(23,"Disponibles"),e.k0s(),e.j41(24,"p",11),e.EFF(25,"206"),e.k0s()(),e.j41(26,"div",15),e.nrm(27,"lucide-icon",16),e.k0s()()(),e.j41(28,"div",17)(29,"div",9)(30,"div")(31,"p",10),e.EFF(32,"Utilizados"),e.k0s(),e.j41(33,"p",11),e.EFF(34,"164"),e.k0s()(),e.j41(35,"div",18),e.nrm(36,"lucide-icon",19),e.k0s()()(),e.j41(37,"div",20)(38,"div",9)(39,"div")(40,"p",10),e.EFF(41,"Compras este mes"),e.k0s(),e.j41(42,"p",11),e.EFF(43,"3"),e.k0s()(),e.j41(44,"div",21),e.nrm(45,"lucide-icon",22),e.k0s()()()(),e.j41(46,"div",23)(47,"div",24)(48,"div",25),e.nrm(49,"lucide-icon",26),e.j41(50,"input",27),e.mxI("ngModelChange",function(f){return e.DH7(i.terminoBusqueda,f)||(i.terminoBusqueda=f),f}),e.bIt("input",function(){return i.filtrarTalonarios()}),e.k0s()(),e.j41(51,"select",28),e.mxI("ngModelChange",function(f){return e.DH7(i.filtroTipo,f)||(i.filtroTipo=f),f}),e.bIt("change",function(){return i.filtrarTalonarios()}),e.j41(52,"option",29),e.EFF(53,"Todos los tipos"),e.k0s(),e.j41(54,"option",30),e.EFF(55,"Receta"),e.k0s(),e.j41(56,"option",31),e.EFF(57,"Despacho"),e.k0s()(),e.j41(58,"select",28),e.mxI("ngModelChange",function(f){return e.DH7(i.filtroSubTipo,f)||(i.filtroSubTipo=f),f}),e.bIt("change",function(){return i.filtrarTalonarios()}),e.j41(59,"option",29),e.EFF(60,"Todos los subtipos"),e.k0s(),e.j41(61,"option",32),e.EFF(62,"Normal"),e.k0s(),e.j41(63,"option",33),e.EFF(64,"Antimicrobiano"),e.k0s(),e.j41(65,"option",34),e.EFF(66,"Estupefaciente"),e.k0s(),e.j41(67,"option",35),e.EFF(68,"Psicotr\xf3pico"),e.k0s()(),e.j41(69,"button",36),e.bIt("click",function(){return i.toggleMayusculas()}),e.EFF(70),e.k0s()()(),e.j41(71,"div",37)(72,"div",38)(73,"div",9)(74,"div",39)(75,"div",40),e.nrm(76,"lucide-icon",41),e.k0s(),e.j41(77,"div")(78,"h3",42),e.EFF(79,"Talonarios Disponibles"),e.k0s(),e.j41(80,"p",43),e.EFF(81),e.k0s()()(),e.j41(82,"div",44)(83,"button",45),e.bIt("click",function(){return i.abrirHistorialCompras()}),e.nrm(84,"lucide-icon",46),e.EFF(85," Historial de Compras "),e.k0s(),e.j41(86,"button",47),e.bIt("click",function(){return i.abrirComprarTalonarios()}),e.nrm(87,"lucide-icon",46),e.EFF(88," Comprar Talonarios "),e.k0s()()()(),e.DNE(89,F,6,1,"div",48)(90,v,16,1,"div",49),e.k0s(),e.j41(91,"div",50)(92,"div",51),e.nrm(93,"lucide-icon",52),e.j41(94,"div")(95,"h4",53),e.EFF(96,"Informaci\xf3n sobre compra de talonarios"),e.k0s(),e.j41(97,"p",54),e.EFF(98," Los talonarios son v\xe1lidos por 12 meses desde la fecha de compra. Cada receta tiene un n\xfamero \xfanico de identificaci\xf3n. Los talonarios se entregan digitalmente en su cuenta. El sistema validar\xe1 su c\xf3digo profesional antes de procesar la compra. "),e.k0s()()()()(),e.DNE(99,l,37,2,"div",55)(100,s,47,13,"div",55)),2&a&&(e.R7$(),e.Y8G("items",i.breadcrumbItems),e.R7$(),e.Y8G("icon",i.receiptIcon)("actionButton",!0),e.R7$(6),e.JRh(i.tiposTalonarios.length),e.R7$(8),e.JRh(i.tiposTalonarios.length),e.R7$(2),e.Y8G("img",i.packageIcon),e.R7$(9),e.Y8G("img",i.checkCircle2Icon),e.R7$(9),e.Y8G("img",i.receiptIcon),e.R7$(9),e.Y8G("img",i.shoppingCartIcon),e.R7$(4),e.Y8G("img",i.searchIcon),e.R7$(),e.R50("ngModel",i.terminoBusqueda),e.R7$(),e.R50("ngModel",i.filtroTipo),e.R7$(7),e.R50("ngModel",i.filtroSubTipo),e.R7$(12),e.SpI(" ",i.showUppercase?"Normal":"MAY\xdaSCULAS"," "),e.R7$(6),e.Y8G("img",i.shoppingCartIcon),e.R7$(5),e.E5c(" ",i.talonariosFiltrados.length," tipo",1!==i.talonariosFiltrados.length?"s":""," disponible",1!==i.talonariosFiltrados.length?"s":""," para compra "),e.R7$(3),e.Y8G("img",i.eyeIcon),e.R7$(3),e.Y8G("img",i.plusIcon),e.R7$(2),e.Y8G("ngIf",0===i.talonariosFiltrados.length),e.R7$(),e.Y8G("ngIf",i.talonariosFiltrados.length>0),e.R7$(3),e.Y8G("img",i.infoIcon),e.R7$(6),e.Y8G("ngIf",i.showHistorialDialog),e.R7$(),e.Y8G("ngIf",i.showComprarDialog))},dependencies:[h.MD,h.Sq,h.bT,m.YN,m.xH,m.y7,m.me,m.wz,m.BC,m.vS,o.flO,o.WGl,r.m,x.y],encapsulation:2})}}return n})()}}]);