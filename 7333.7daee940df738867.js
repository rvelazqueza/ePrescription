"use strict";(self.webpackChunkeprescription_angular=self.webpackChunkeprescription_angular||[]).push([[7333],{7333:(h,u,c)=>{c.r(u),c.d(u,{ViasAdministracionComponent:()=>v});var l=c(177),r=c(4341),n=c(8516),m=c(8961),e=c(4438);function p(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr",17),e.bIt("dblclick",function(){const t=e.eBV(i).$implicit,s=e.XpG();return e.Njj(s.editarVia(t))}),e.j41(1,"td",18),e.EFF(2),e.k0s(),e.j41(3,"td",19),e.EFF(4),e.k0s(),e.j41(5,"td",20),e.EFF(6),e.k0s(),e.j41(7,"td",21)(8,"span",22),e.EFF(9),e.k0s()(),e.j41(10,"td",23)(11,"button",24),e.bIt("click",function(){const t=e.eBV(i).$implicit,s=e.XpG();return e.Njj(s.editarVia(t))}),e.nrm(12,"lucide-icon",25),e.EFF(13," Editar "),e.k0s()()()}if(2&a){const i=d.$implicit,o=e.XpG();e.R7$(2),e.SpI(" ",i.codigo," "),e.R7$(2),e.SpI(" ",i.nombre," "),e.R7$(2),e.SpI(" ",i.descripcion," "),e.R7$(3),e.SpI(" ",i.estado," "),e.R7$(3),e.Y8G("img",o.editIcon)}}function g(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30),e.nrm(5,"lucide-icon",31),e.j41(6,"h3",32),e.EFF(7,"Nueva V\xeda de Administraci\xf3n"),e.k0s()(),e.j41(8,"button",33),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.cerrarModalNueva())}),e.nrm(9,"lucide-icon",2),e.k0s()(),e.j41(10,"p",34),e.EFF(11,"Agregue una nueva v\xeda de administraci\xf3n al cat\xe1logo"),e.k0s(),e.j41(12,"form",35),e.bIt("ngSubmit",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.guardarNuevaVia())}),e.j41(13,"div",36)(14,"div",37)(15,"div")(16,"label",38),e.EFF(17," C\xf3digo "),e.j41(18,"span",39),e.EFF(19,"*"),e.k0s()(),e.nrm(20,"input",40),e.k0s(),e.j41(21,"div")(22,"label",38),e.EFF(23,"Estado"),e.k0s(),e.j41(24,"select",41)(25,"option",42),e.EFF(26,"Activa"),e.k0s(),e.j41(27,"option",43),e.EFF(28,"Inactiva"),e.k0s()()()(),e.j41(29,"div")(30,"label",38),e.EFF(31," Nombre "),e.j41(32,"span",39),e.EFF(33,"*"),e.k0s()(),e.nrm(34,"input",44),e.k0s(),e.j41(35,"div")(36,"label",38),e.EFF(37,"Descripci\xf3n"),e.k0s(),e.nrm(38,"textarea",45),e.k0s()(),e.j41(39,"div",46)(40,"button",47),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.cerrarModalNueva())}),e.EFF(41," Cancelar "),e.k0s(),e.j41(42,"button",48),e.nrm(43,"lucide-icon",49),e.EFF(44," Agregar v\xeda "),e.k0s()()()()()()}if(2&a){const i=e.XpG();e.R7$(5),e.Y8G("img",i.routeIcon),e.R7$(4),e.Y8G("img",i.xIcon),e.R7$(3),e.Y8G("formGroup",i.formNuevaVia),e.R7$(30),e.Y8G("disabled",!i.formNuevaVia.valid),e.R7$(),e.Y8G("img",i.plusIcon)}}function f(a,d){if(1&a&&(e.j41(0,"div",71)(1,"div",30),e.nrm(2,"lucide-icon",72),e.j41(3,"p",73),e.EFF(4," Hay cambios sin guardar. Recuerde guardar antes de cerrar. "),e.k0s()()()),2&a){const i=e.XpG(2);e.R7$(2),e.Y8G("img",i.alertTriangleIcon)}}function b(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",50)(1,"div",51),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.cerrarModalEditar())}),e.k0s(),e.j41(2,"div",52),e.bIt("click",function(t){return e.eBV(i),e.Njj(t.stopPropagation())}),e.j41(3,"div",53)(4,"div",54)(5,"div")(6,"div",30),e.nrm(7,"lucide-icon",2),e.j41(8,"h2",55),e.EFF(9,"Editar V\xeda de Administraci\xf3n"),e.k0s()(),e.j41(10,"p",56),e.EFF(11,"Modifique la informaci\xf3n de la v\xeda de administraci\xf3n"),e.k0s()(),e.j41(12,"button",57),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.cerrarModalEditar())}),e.nrm(13,"lucide-icon",2),e.k0s()()(),e.j41(14,"div",58)(15,"form",59),e.bIt("ngSubmit",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.guardarCambios())}),e.j41(16,"div",36)(17,"div",60)(18,"h3",61),e.EFF(19,"Informaci\xf3n de la v\xeda"),e.k0s(),e.j41(20,"p",62),e.EFF(21,"Datos principales de la v\xeda de administraci\xf3n"),e.k0s()(),e.j41(22,"div",37)(23,"div",63)(24,"label",38),e.EFF(25,"ID de la v\xeda"),e.k0s(),e.nrm(26,"input",64),e.k0s(),e.j41(27,"div")(28,"label",38),e.EFF(29," C\xf3digo "),e.j41(30,"span",39),e.EFF(31,"*"),e.k0s()(),e.nrm(32,"input",40),e.k0s(),e.j41(33,"div")(34,"label",38),e.EFF(35,"Estado"),e.k0s(),e.j41(36,"select",41)(37,"option",42),e.EFF(38,"Activa"),e.k0s(),e.j41(39,"option",43),e.EFF(40,"Inactiva"),e.k0s()()(),e.j41(41,"div",63)(42,"label",38),e.EFF(43," Nombre "),e.j41(44,"span",39),e.EFF(45,"*"),e.k0s()(),e.nrm(46,"input",44),e.k0s(),e.j41(47,"div",63)(48,"label",38),e.EFF(49,"Descripci\xf3n"),e.k0s(),e.nrm(50,"textarea",65),e.k0s()()(),e.DNE(51,f,5,1,"div",66),e.k0s()(),e.j41(52,"div",67)(53,"div",68)(54,"button",69),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.cerrarModalEditar())}),e.nrm(55,"lucide-icon",49),e.EFF(56," Cancelar "),e.k0s(),e.j41(57,"button",70),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.guardarCambios())}),e.nrm(58,"lucide-icon",49),e.EFF(59," Guardar cambios "),e.k0s()()()()()}if(2&a){const i=e.XpG();e.R7$(7),e.Y8G("img",i.routeIcon),e.R7$(6),e.Y8G("img",i.xIcon),e.R7$(2),e.Y8G("formGroup",i.formEditarVia),e.R7$(11),e.Y8G("value",null==i.viaSeleccionada?null:i.viaSeleccionada.id),e.R7$(25),e.Y8G("ngIf",i.formEditarVia.dirty),e.R7$(4),e.Y8G("img",i.xIcon),e.R7$(2),e.Y8G("disabled",!i.formEditarVia.valid||!i.formEditarVia.dirty),e.R7$(),e.Y8G("img",i.saveIcon)}}let v=(()=>{class a{constructor(i){this.fb=i,this.routeIcon=n.qhu,this.searchIcon=n.vji,this.plusIcon=n.FWt,this.editIcon=n.ffu,this.trash2Icon=n.TBR,this.saveIcon=n.eMP,this.xIcon=n.X,this.checkCircle2Icon=n.Jly,this.xCircleIcon=n.Jpz,this.alertTriangleIcon=n.hcu,this.breadcrumbItems=[{label:"Cat\xe1logos cl\xednicos",route:"/catalogos"},{label:"V\xedas de administraci\xf3n",route:"/catalogos/vias"}],this.searchTerm="",this.mostrarModalNueva=!1,this.mostrarModalEditar=!1,this.viaSeleccionada=null,this.vias=[{id:"VIA-001",codigo:"VO",nombre:"V\xeda oral",descripcion:"Administraci\xf3n por boca",estado:"Activa",fechaCreacion:"2024-01-15"},{id:"VIA-002",codigo:"IV",nombre:"V\xeda intravenosa",descripcion:"Administraci\xf3n directa al torrente sangu\xedneo",estado:"Activa",fechaCreacion:"2024-01-15"},{id:"VIA-003",codigo:"IM",nombre:"V\xeda intramuscular",descripcion:"Inyecci\xf3n en m\xfasculo",estado:"Activa",fechaCreacion:"2024-01-15"},{id:"VIA-004",codigo:"SC",nombre:"V\xeda subcut\xe1nea",descripcion:"Inyecci\xf3n bajo la piel",estado:"Activa",fechaCreacion:"2024-01-15"},{id:"VIA-005",codigo:"TOP",nombre:"T\xf3pica",descripcion:"Aplicaci\xf3n sobre la piel",estado:"Activa",fechaCreacion:"2024-01-15"}],this.formNuevaVia=this.fb.group({codigo:["",[r.k0.required,r.k0.maxLength(10)]],nombre:["",[r.k0.required,r.k0.maxLength(100)]],descripcion:["",r.k0.maxLength(255)],estado:["Activa",r.k0.required]}),this.formEditarVia=this.fb.group({codigo:["",[r.k0.required,r.k0.maxLength(10)]],nombre:["",[r.k0.required,r.k0.maxLength(100)]],descripcion:["",r.k0.maxLength(255)],estado:["Activa",r.k0.required]})}ngOnInit(){}get filteredVias(){return this.searchTerm?this.vias.filter(i=>i.nombre.toLowerCase().includes(this.searchTerm.toLowerCase())||i.codigo.toLowerCase().includes(this.searchTerm.toLowerCase())||i.descripcion.toLowerCase().includes(this.searchTerm.toLowerCase())):this.vias}abrirModalNueva(){this.mostrarModalNueva=!0,this.formNuevaVia.reset({codigo:"",nombre:"",descripcion:"",estado:"Activa"})}cerrarModalNueva(){this.mostrarModalNueva=!1,this.formNuevaVia.reset()}guardarNuevaVia(){if(this.formNuevaVia.valid){const i=this.formNuevaVia.value;if(this.vias.some(s=>s.codigo.toLowerCase()===i.codigo.toLowerCase()))return void alert("Ya existe una v\xeda con este c\xf3digo");const t={id:`VIA-${(this.vias.length+1).toString().padStart(3,"0")}`,codigo:i.codigo.toUpperCase(),nombre:i.nombre,descripcion:i.descripcion||"",estado:i.estado,fechaCreacion:(new Date).toISOString().split("T")[0]};this.vias.push(t),this.cerrarModalNueva(),console.log(`V\xeda agregada: ${t.nombre}`)}}editarVia(i){this.viaSeleccionada=i,this.mostrarModalEditar=!0,this.formEditarVia.patchValue({codigo:i.codigo,nombre:i.nombre,descripcion:i.descripcion,estado:i.estado})}cerrarModalEditar(){this.mostrarModalEditar=!1,this.viaSeleccionada=null,this.formEditarVia.reset()}guardarCambios(){if(this.formEditarVia.valid&&this.viaSeleccionada){const i=this.formEditarVia.value;if(this.vias.some(s=>s.id!==this.viaSeleccionada.id&&s.codigo.toLowerCase()===i.codigo.toLowerCase()))return void alert("Ya existe otra v\xeda con este c\xf3digo");const t=this.vias.findIndex(s=>s.id===this.viaSeleccionada.id);t>-1&&(this.vias[t]={...this.viaSeleccionada,codigo:i.codigo.toUpperCase(),nombre:i.nombre,descripcion:i.descripcion||"",estado:i.estado}),this.cerrarModalEditar(),console.log(`V\xeda actualizada: ${i.nombre}`)}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(r.ok))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-vias-administracion"]],standalone:!0,features:[e.aNF],decls:30,vars:10,consts:[["title","V\xedas de Administraci\xf3n","description","Rutas de administraci\xf3n de medicamentos","headerGradient","from-green-600 via-emerald-500 to-teal-600",3,"icon","breadcrumbItems","hasActionButton"],["slot","action",1,"bg-white","text-green-600","hover:bg-green-50","font-medium","py-2","px-4","rounded-lg","transition-colors","flex","items-center","gap-2",3,"click"],[1,"w-5","h-5",3,"img"],[1,"space-y-6"],[1,"mt-6","bg-white","rounded-lg","shadow"],[1,"p-6","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","cursor-pointer hover:bg-gray-50 transition-colors",3,"dblclick",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",4,"ngIf"],["class","fixed inset-0 z-50",4,"ngIf"],[1,"cursor-pointer","hover:bg-gray-50","transition-colors",3,"dblclick"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-mono","font-semibold","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","text-sm","text-gray-600"],[1,"px-6","py-4","whitespace-nowrap"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-700","border","border-green-300"],[1,"px-6","py-4","whitespace-nowrap","text-right"],[1,"inline-flex","items-center","px-3","py-1.5","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"w-4","h-4","mr-2",3,"img"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"relative","top-20","mx-auto","p-5","border","w-96","shadow-lg","rounded-md","bg-white"],[1,"mt-3"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex","items-center","gap-2"],[1,"w-5","h-5","text-green-600",3,"img"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"text-sm","text-gray-600","mb-4"],[3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"grid","grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"text-red-500"],["type","text","formControlName","codigo","placeholder","Ej: VO",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent","font-mono"],["formControlName","estado",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],["value","Activa"],["value","Inactiva"],["type","text","formControlName","nombre","placeholder","Ej: V\xeda oral",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],["formControlName","descripcion","placeholder","Descripci\xf3n de la v\xeda de administraci\xf3n","rows","3",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],[1,"flex","justify-end","gap-3","mt-6"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","text-white","bg-green-600","border","border-transparent","rounded-md","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-2",3,"disabled"],[1,"w-4","h-4",3,"img"],[1,"fixed","inset-0","z-50"],[1,"fixed","inset-0","bg-black","bg-opacity-50",3,"click"],[1,"fixed","right-0","top-0","h-full","w-full","max-w-2xl","bg-white","shadow-xl","flex","flex-col","z-50",3,"click"],[1,"bg-gradient-to-r","from-green-600","to-emerald-600","px-6","py-4","text-white","flex-shrink-0"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold"],[1,"text-green-100","text-sm","mt-1"],[1,"p-2","hover:bg-white/20","rounded-lg","transition-colors",3,"click"],[1,"flex-1","overflow-y-auto"],[1,"p-6","space-y-6",3,"ngSubmit","formGroup"],[1,"pb-2","border-b"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"col-span-2"],["type","text","disabled","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","bg-gray-50","font-mono","text-sm",3,"value"],["formControlName","descripcion","placeholder","Descripci\xf3n de la v\xeda de administraci\xf3n","rows","4",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent","resize-none"],["class","bg-amber-50 border border-amber-200 rounded-lg p-3",4,"ngIf"],[1,"flex-shrink-0","px-6","py-4","bg-gray-50","border-t","border-gray-200"],[1,"flex","justify-end","gap-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","transition-colors","flex","items-center","gap-2",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","text-white","bg-green-600","border","border-transparent","rounded-md","hover:bg-green-700","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","flex","items-center","gap-2",3,"click","disabled"],[1,"bg-amber-50","border","border-amber-200","rounded-lg","p-3"],[1,"w-4","h-4","text-amber-600",3,"img"],[1,"text-sm","text-amber-800"]],template:function(o,t){1&o&&(e.j41(0,"app-page-layout",0)(1,"button",1),e.bIt("click",function(){return t.abrirModalNueva()}),e.nrm(2,"lucide-icon",2),e.EFF(3," Nueva v\xeda "),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"div")(8,"h2",6),e.EFF(9,"V\xedas de Administraci\xf3n Registradas"),e.k0s(),e.j41(10,"p",7),e.EFF(11),e.k0s()()(),e.j41(12,"div",8)(13,"table",9)(14,"thead",10)(15,"tr")(16,"th",11),e.EFF(17,"C\xf3digo"),e.k0s(),e.j41(18,"th",11),e.EFF(19,"Nombre"),e.k0s(),e.j41(20,"th",11),e.EFF(21,"Descripci\xf3n"),e.k0s(),e.j41(22,"th",11),e.EFF(23,"Estado"),e.k0s(),e.j41(24,"th",12),e.EFF(25,"Acciones"),e.k0s()()(),e.j41(26,"tbody",13),e.DNE(27,p,14,5,"tr",14),e.k0s()()()()(),e.DNE(28,g,45,5,"div",15)(29,b,60,8,"div",16),e.k0s()),2&o&&(e.Y8G("icon",t.routeIcon)("breadcrumbItems",t.breadcrumbItems)("hasActionButton",!0),e.R7$(2),e.Y8G("img",t.plusIcon),e.R7$(9),e.E5c(" ",t.filteredVias.length," v\xeda",1!==t.filteredVias.length?"s":""," encontrada",1!==t.filteredVias.length?"s":""," \u2022 Doble clic para editar "),e.R7$(16),e.Y8G("ngForOf",t.filteredVias),e.R7$(),e.Y8G("ngIf",t.mostrarModalNueva),e.R7$(),e.Y8G("ngIf",t.mostrarModalEditar))},dependencies:[l.MD,l.Sq,l.bT,r.YN,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.X1,r.j4,r.JD,n.flO,n.WGl,m.J],encapsulation:2})}}return a})()}}]);